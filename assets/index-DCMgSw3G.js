(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.5
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function fl(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const ke={},Zs=[],Tn=()=>{},Wb=()=>!1,Zo=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),yf=t=>t.startsWith("onUpdate:"),ze=Object.assign,vf=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},zb=Object.prototype.hasOwnProperty,Le=(t,e)=>zb.call(t,e),ie=Array.isArray,ei=t=>Ai(t)==="[object Map]",As=t=>Ai(t)==="[object Set]",om=t=>Ai(t)==="[object Date]",Gb=t=>Ai(t)==="[object RegExp]",pe=t=>typeof t=="function",Ge=t=>typeof t=="string",Un=t=>typeof t=="symbol",$e=t=>t!==null&&typeof t=="object",Ef=t=>($e(t)||pe(t))&&pe(t.then)&&pe(t.catch),sy=Object.prototype.toString,Ai=t=>sy.call(t),Qb=t=>Ai(t).slice(8,-1),dl=t=>Ai(t)==="[object Object]",Tf=t=>Ge(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ti=fl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),pl=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Jb=/-(\w)/g,Nt=pl(t=>t.replace(Jb,(e,n)=>n?n.toUpperCase():"")),Yb=/\B([A-Z])/g,Gt=pl(t=>t.replace(Yb,"-$1").toLowerCase()),ea=pl(t=>t.charAt(0).toUpperCase()+t.slice(1)),uo=pl(t=>t?`on${ea(t)}`:""),jt=(t,e)=>!Object.is(t,e),ni=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},iy=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},Ic=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Ac=t=>{const e=Ge(t)?Number(t):NaN;return isNaN(e)?t:e};let am;const oy=()=>am||(am=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Xb="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",Zb=fl(Xb);function ta(t){if(ie(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=Ge(r)?rI(r):ta(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(Ge(t)||$e(t))return t}const eI=/;(?![^(]*\))/g,tI=/:([^]+)/,nI=/\/\*[^]*?\*\//g;function rI(t){const e={};return t.replace(nI,"").split(eI).forEach(n=>{if(n){const r=n.split(tI);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function jn(t){let e="";if(Ge(t))e=t;else if(ie(t))for(let n=0;n<t.length;n++){const r=jn(t[n]);r&&(e+=r+" ")}else if($e(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function sI(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Ge(e)&&(t.class=jn(e)),n&&(t.style=ta(n)),t}const iI="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",oI=fl(iI);function ay(t){return!!t||t===""}function aI(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=$r(t[r],e[r]);return n}function $r(t,e){if(t===e)return!0;let n=om(t),r=om(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Un(t),r=Un(e),n||r)return t===e;if(n=ie(t),r=ie(e),n||r)return n&&r?aI(t,e):!1;if(n=$e(t),r=$e(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!$r(t[o],e[o]))return!1}}return String(t)===String(e)}function ml(t,e){return t.findIndex(n=>$r(n,e))}const cy=t=>!!(t&&t.__v_isRef===!0),Ke=t=>Ge(t)?t:t==null?"":ie(t)||$e(t)&&(t.toString===sy||!pe(t.toString))?cy(t)?Ke(t.value):JSON.stringify(t,ly,2):String(t),ly=(t,e)=>cy(e)?ly(t,e.value):ei(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[vu(r,i)+" =>"]=s,n),{})}:As(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>vu(n))}:Un(e)?vu(e):$e(e)&&!ie(e)&&!dl(e)?String(e):e,vu=(t,e="")=>{var n;return Un(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.5
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ut;class wf{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ut,!e&&Ut&&(this.index=(Ut.scopes||(Ut.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Ut;try{return Ut=this,e()}finally{Ut=n}}}on(){Ut=this}off(){Ut=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function uy(t){return new wf(t)}function bf(){return Ut}function hy(t,e=!1){Ut&&Ut.cleanups.push(t)}let He;const Eu=new WeakSet;class Po{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.nextEffect=void 0,this.cleanup=void 0,this.scheduler=void 0,Ut&&Ut.active&&Ut.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Eu.has(this)&&(Eu.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||(this.flags|=8,this.nextEffect=ho,ho=this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,cm(this),dy(this);const e=He,n=wn;He=this,wn=!0;try{return this.fn()}finally{py(this),He=e,wn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Sf(e);this.deps=this.depsTail=void 0,cm(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Eu.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ih(this)&&this.run()}get dirty(){return ih(this)}}let fy=0,ho;function If(){fy++}function Af(){if(--fy>0)return;let t;for(;ho;){let e=ho;for(ho=void 0;e;){const n=e.nextEffect;if(e.nextEffect=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function dy(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function py(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),Sf(r),cI(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function ih(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&my(e.dep.computed)||e.dep.version!==e.version)return!0;return!!t._dirty}function my(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Oo))return;t.globalVersion=Oo;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&!ih(t)){t.flags&=-3;return}const n=He,r=wn;He=t,wn=!0;try{dy(t);const s=t.fn(t._value);(e.version===0||jt(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{He=n,wn=r,py(t),t.flags&=-3}}function Sf(t){const{dep:e,prevSub:n,nextSub:r}=t;if(n&&(n.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=n,t.nextSub=void 0),e.subs===t&&(e.subs=n),!e.subs&&e.computed){e.computed.flags&=-5;for(let s=e.computed.deps;s;s=s.nextDep)Sf(s)}}function cI(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}function lI(t,e){t.effect instanceof Po&&(t=t.effect.fn);const n=new Po(t);e&&ze(n,e);try{n.run()}catch(s){throw n.stop(),s}const r=n.run.bind(n);return r.effect=n,r}function uI(t){t.effect.stop()}let wn=!0;const gy=[];function Gr(){gy.push(wn),wn=!1}function Qr(){const t=gy.pop();wn=t===void 0?!0:t}function cm(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=He;He=void 0;try{e()}finally{He=n}}}let Oo=0;class hI{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class gl{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0}track(e){if(!He||!wn||He===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==He)n=this.activeLink=new hI(He,this),He.deps?(n.prevDep=He.depsTail,He.depsTail.nextDep=n,He.depsTail=n):He.deps=He.depsTail=n,He.flags&4&&_y(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=He.depsTail,n.nextDep=void 0,He.depsTail.nextDep=n,He.depsTail=n,He.deps===n&&(He.deps=r)}return n}trigger(e){this.version++,Oo++,this.notify(e)}notify(e){If();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()}finally{Af()}}}function _y(t){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)_y(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}const Sc=new WeakMap,us=Symbol(""),oh=Symbol(""),ko=Symbol("");function Dt(t,e,n){if(wn&&He){let r=Sc.get(t);r||Sc.set(t,r=new Map);let s=r.get(n);s||r.set(n,s=new gl),s.track()}}function nr(t,e,n,r,s,i){const o=Sc.get(t);if(!o){Oo++;return}const a=l=>{l&&l.trigger()};if(If(),e==="clear")o.forEach(a);else{const l=ie(t),u=l&&Tf(n);if(l&&n==="length"){const h=Number(r);o.forEach((f,p)=>{(p==="length"||p===ko||!Un(p)&&p>=h)&&a(f)})}else switch(n!==void 0&&a(o.get(n)),u&&a(o.get(ko)),e){case"add":l?u&&a(o.get("length")):(a(o.get(us)),ei(t)&&a(o.get(oh)));break;case"delete":l||(a(o.get(us)),ei(t)&&a(o.get(oh)));break;case"set":ei(t)&&a(o.get(us));break}}Af()}function fI(t,e){var n;return(n=Sc.get(t))==null?void 0:n.get(e)}function js(t){const e=Ce(t);return e===t?e:(Dt(e,"iterate",ko),tn(t)?e:e.map(Pt))}function _l(t){return Dt(t=Ce(t),"iterate",ko),t}const dI={__proto__:null,[Symbol.iterator](){return Tu(this,Symbol.iterator,Pt)},concat(...t){return js(this).concat(...t.map(e=>ie(e)?js(e):e))},entries(){return Tu(this,"entries",t=>(t[1]=Pt(t[1]),t))},every(t,e){return zn(this,"every",t,e,void 0,arguments)},filter(t,e){return zn(this,"filter",t,e,n=>n.map(Pt),arguments)},find(t,e){return zn(this,"find",t,e,Pt,arguments)},findIndex(t,e){return zn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return zn(this,"findLast",t,e,Pt,arguments)},findLastIndex(t,e){return zn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return zn(this,"forEach",t,e,void 0,arguments)},includes(...t){return wu(this,"includes",t)},indexOf(...t){return wu(this,"indexOf",t)},join(t){return js(this).join(t)},lastIndexOf(...t){return wu(this,"lastIndexOf",t)},map(t,e){return zn(this,"map",t,e,void 0,arguments)},pop(){return Yi(this,"pop")},push(...t){return Yi(this,"push",t)},reduce(t,...e){return lm(this,"reduce",t,e)},reduceRight(t,...e){return lm(this,"reduceRight",t,e)},shift(){return Yi(this,"shift")},some(t,e){return zn(this,"some",t,e,void 0,arguments)},splice(...t){return Yi(this,"splice",t)},toReversed(){return js(this).toReversed()},toSorted(t){return js(this).toSorted(t)},toSpliced(...t){return js(this).toSpliced(...t)},unshift(...t){return Yi(this,"unshift",t)},values(){return Tu(this,"values",Pt)}};function Tu(t,e,n){const r=_l(t),s=r[e]();return r!==t&&!tn(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=n(i.value)),i}),s}const pI=Array.prototype;function zn(t,e,n,r,s,i){const o=_l(t),a=o!==t&&!tn(t),l=o[e];if(l!==pI[e]){const f=l.apply(t,i);return a?Pt(f):f}let u=n;o!==t&&(a?u=function(f,p){return n.call(this,Pt(f),p,t)}:n.length>2&&(u=function(f,p){return n.call(this,f,p,t)}));const h=l.call(o,u,r);return a&&s?s(h):h}function lm(t,e,n,r){const s=_l(t);let i=n;return s!==t&&(tn(t)?n.length>3&&(i=function(o,a,l){return n.call(this,o,a,l,t)}):i=function(o,a,l){return n.call(this,o,Pt(a),l,t)}),s[e](i,...r)}function wu(t,e,n){const r=Ce(t);Dt(r,"iterate",ko);const s=r[e](...n);return(s===-1||s===!1)&&Tl(n[0])?(n[0]=Ce(n[0]),r[e](...n)):s}function Yi(t,e,n=[]){Gr(),If();const r=Ce(t)[e].apply(t,n);return Af(),Qr(),r}const mI=fl("__proto__,__v_isRef,__isVue"),yy=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Un));function gI(t){Un(t)||(t=String(t));const e=Ce(this);return Dt(e,"has",t),e.hasOwnProperty(t)}class vy{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?Ay:Iy:i?by:wy).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=ie(e);if(!s){let l;if(o&&(l=dI[n]))return l;if(n==="hasOwnProperty")return gI}const a=Reflect.get(e,n,ht(e)?e:r);return(Un(n)?yy.has(n):mI(n))||(s||Dt(e,"get",n),i)?a:ht(a)?o&&Tf(n)?a:a.value:$e(a)?s?Pf(a):qn(a):a}}class Ey extends vy{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(!this._isShallow){const l=Br(i);if(!tn(r)&&!Br(r)&&(i=Ce(i),r=Ce(r)),!ie(e)&&ht(i)&&!ht(r))return l?!1:(i.value=r,!0)}const o=ie(e)&&Tf(n)?Number(n)<e.length:Le(e,n),a=Reflect.set(e,n,r,ht(e)?e:s);return e===Ce(s)&&(o?jt(r,i)&&nr(e,"set",n,r):nr(e,"add",n,r)),a}deleteProperty(e,n){const r=Le(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&nr(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!Un(n)||!yy.has(n))&&Dt(e,"has",n),r}ownKeys(e){return Dt(e,"iterate",ie(e)?"length":us),Reflect.ownKeys(e)}}class Ty extends vy{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const _I=new Ey,yI=new Ty,vI=new Ey(!0),EI=new Ty(!0),Rf=t=>t,yl=t=>Reflect.getPrototypeOf(t);function ja(t,e,n=!1,r=!1){t=t.__v_raw;const s=Ce(t),i=Ce(e);n||(jt(e,i)&&Dt(s,"get",e),Dt(s,"get",i));const{has:o}=yl(s),a=r?Rf:n?Of:Pt;if(o.call(s,e))return a(t.get(e));if(o.call(s,i))return a(t.get(i));t!==s&&t.get(e)}function $a(t,e=!1){const n=this.__v_raw,r=Ce(n),s=Ce(t);return e||(jt(t,s)&&Dt(r,"has",t),Dt(r,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function Ba(t,e=!1){return t=t.__v_raw,!e&&Dt(Ce(t),"iterate",us),Reflect.get(t,"size",t)}function um(t,e=!1){!e&&!tn(t)&&!Br(t)&&(t=Ce(t));const n=Ce(this);return yl(n).has.call(n,t)||(n.add(t),nr(n,"add",t,t)),this}function hm(t,e,n=!1){!n&&!tn(e)&&!Br(e)&&(e=Ce(e));const r=Ce(this),{has:s,get:i}=yl(r);let o=s.call(r,t);o||(t=Ce(t),o=s.call(r,t));const a=i.call(r,t);return r.set(t,e),o?jt(e,a)&&nr(r,"set",t,e):nr(r,"add",t,e),this}function fm(t){const e=Ce(this),{has:n,get:r}=yl(e);let s=n.call(e,t);s||(t=Ce(t),s=n.call(e,t)),r&&r.call(e,t);const i=e.delete(t);return s&&nr(e,"delete",t,void 0),i}function dm(){const t=Ce(this),e=t.size!==0,n=t.clear();return e&&nr(t,"clear",void 0,void 0),n}function Ha(t,e){return function(r,s){const i=this,o=i.__v_raw,a=Ce(o),l=e?Rf:t?Of:Pt;return!t&&Dt(a,"iterate",us),o.forEach((u,h)=>r.call(s,l(u),l(h),i))}}function qa(t,e,n){return function(...r){const s=this.__v_raw,i=Ce(s),o=ei(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=s[t](...r),h=n?Rf:e?Of:Pt;return!e&&Dt(i,"iterate",l?oh:us),{next(){const{value:f,done:p}=u.next();return p?{value:f,done:p}:{value:a?[h(f[0]),h(f[1])]:h(f),done:p}},[Symbol.iterator](){return this}}}}function gr(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function TI(){const t={get(i){return ja(this,i)},get size(){return Ba(this)},has:$a,add:um,set:hm,delete:fm,clear:dm,forEach:Ha(!1,!1)},e={get(i){return ja(this,i,!1,!0)},get size(){return Ba(this)},has:$a,add(i){return um.call(this,i,!0)},set(i,o){return hm.call(this,i,o,!0)},delete:fm,clear:dm,forEach:Ha(!1,!0)},n={get(i){return ja(this,i,!0)},get size(){return Ba(this,!0)},has(i){return $a.call(this,i,!0)},add:gr("add"),set:gr("set"),delete:gr("delete"),clear:gr("clear"),forEach:Ha(!0,!1)},r={get(i){return ja(this,i,!0,!0)},get size(){return Ba(this,!0)},has(i){return $a.call(this,i,!0)},add:gr("add"),set:gr("set"),delete:gr("delete"),clear:gr("clear"),forEach:Ha(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=qa(i,!1,!1),n[i]=qa(i,!0,!1),e[i]=qa(i,!1,!0),r[i]=qa(i,!0,!0)}),[t,n,e,r]}const[wI,bI,II,AI]=TI();function vl(t,e){const n=e?t?AI:II:t?bI:wI;return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(Le(n,s)&&s in r?n:r,s,i)}const SI={get:vl(!1,!1)},RI={get:vl(!1,!0)},CI={get:vl(!0,!1)},PI={get:vl(!0,!0)},wy=new WeakMap,by=new WeakMap,Iy=new WeakMap,Ay=new WeakMap;function OI(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function kI(t){return t.__v_skip||!Object.isExtensible(t)?0:OI(Qb(t))}function qn(t){return Br(t)?t:El(t,!1,_I,SI,wy)}function Cf(t){return El(t,!1,vI,RI,by)}function Pf(t){return El(t,!0,yI,CI,Iy)}function NI(t){return El(t,!0,EI,PI,Ay)}function El(t,e,n,r,s){if(!$e(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=s.get(t);if(i)return i;const o=kI(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return s.set(t,a),a}function Dr(t){return Br(t)?Dr(t.__v_raw):!!(t&&t.__v_isReactive)}function Br(t){return!!(t&&t.__v_isReadonly)}function tn(t){return!!(t&&t.__v_isShallow)}function Tl(t){return t?!!t.__v_raw:!1}function Ce(t){const e=t&&t.__v_raw;return e?Ce(e):t}function Sy(t){return!Le(t,"__v_skip")&&Object.isExtensible(t)&&iy(t,"__v_skip",!0),t}const Pt=t=>$e(t)?qn(t):t,Of=t=>$e(t)?Pf(t):t;function ht(t){return t?t.__v_isRef===!0:!1}function ye(t){return Ry(t,!1)}function kf(t){return Ry(t,!0)}function Ry(t,e){return ht(t)?t:new xI(t,e)}class xI{constructor(e,n){this.dep=new gl,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Ce(e),this._value=n?e:Pt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||tn(e)||Br(e);e=r?e:Ce(e),jt(e,n)&&(this._rawValue=e,this._value=r?e:Pt(e),this.dep.trigger())}}function DI(t){t.dep.trigger()}function xt(t){return ht(t)?t.value:t}function VI(t){return pe(t)?t():xt(t)}const MI={get:(t,e,n)=>e==="__v_raw"?t:xt(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return ht(s)&&!ht(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function Nf(t){return Dr(t)?t:new Proxy(t,MI)}class LI{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new gl,{get:r,set:s}=e(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=s}get value(){return this._value=this._get()}set value(e){this._set(e)}}function Cy(t){return new LI(t)}function FI(t){const e=ie(t)?new Array(t.length):{};for(const n in t)e[n]=Py(t,n);return e}class UI{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return fI(Ce(this._object),this._key)}}class jI{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function $I(t,e,n){return ht(t)?t:pe(t)?new jI(t):$e(t)&&arguments.length>1?Py(t,e,n):ye(t)}function Py(t,e,n){const r=t[e];return ht(r)?r:new UI(t,e,n)}class BI{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new gl(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Oo-1,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){this.flags|=16,He!==this&&this.dep.notify()}get value(){const e=this.dep.track();return my(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function HI(t,e,n=!1){let r,s;return pe(t)?r=t:(r=t.get,s=t.set),new BI(r,s,n)}const qI={GET:"get",HAS:"has",ITERATE:"iterate"},KI={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},Ka={},Rc=new WeakMap;let wr;function WI(){return wr}function Oy(t,e=!1,n=wr){if(n){let r=Rc.get(n);r||Rc.set(n,r=[]),r.push(t)}}function zI(t,e,n=ke){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:a,call:l}=n,u=P=>s?P:tn(P)||s===!1||s===0?Yn(P,1):Yn(P);let h,f,p,g,E=!1,R=!1;if(ht(t)?(f=()=>t.value,E=tn(t)):Dr(t)?(f=()=>u(t),E=!0):ie(t)?(R=!0,E=t.some(P=>Dr(P)||tn(P)),f=()=>t.map(P=>{if(ht(P))return P.value;if(Dr(P))return u(P);if(pe(P))return l?l(P,2):P()})):pe(t)?e?f=l?()=>l(t,2):t:f=()=>{if(p){Gr();try{p()}finally{Qr()}}const P=wr;wr=h;try{return l?l(t,3,[g]):t(g)}finally{wr=P}}:f=Tn,e&&s){const P=f,D=s===!0?1/0:s;f=()=>Yn(P(),D)}const S=bf(),x=()=>{h.stop(),S&&vf(S.effects,h)};if(i)if(e){const P=e;e=(...D)=>{P(...D),x()}}else{const P=f;f=()=>{P(),x()}}let O=R?new Array(t.length).fill(Ka):Ka;const _=P=>{if(!(!(h.flags&1)||!h.dirty&&!P))if(e){const D=h.run();if(s||E||(R?D.some((L,b)=>jt(L,O[b])):jt(D,O))){p&&p();const L=wr;wr=h;try{const b=[D,O===Ka?void 0:R&&O[0]===Ka?[]:O,g];l?l(e,3,b):e(...b),O=D}finally{wr=L}}}else h.run()};return a&&a(_),h=new Po(f),h.scheduler=o?()=>o(_,!1):_,g=P=>Oy(P,!1,h),p=h.onStop=()=>{const P=Rc.get(h);if(P){if(l)l(P,4);else for(const D of P)D();Rc.delete(h)}},e?r?_(!0):O=h.run():o?o(_.bind(null,!0),!0):h.run(),x.pause=h.pause.bind(h),x.resume=h.resume.bind(h),x.stop=x,x}function Yn(t,e=1/0,n){if(e<=0||!$e(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,ht(t))Yn(t.value,e,n);else if(ie(t))for(let r=0;r<t.length;r++)Yn(t[r],e,n);else if(As(t)||ei(t))t.forEach(r=>{Yn(r,e,n)});else if(dl(t)){for(const r in t)Yn(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Yn(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.5
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const ky=[];function GI(t){ky.push(t)}function QI(){ky.pop()}function JI(t,e){}const YI={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},XI={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function Si(t,e,n,r){try{return r?t(...r):t()}catch(s){Ss(s,e,n)}}function dn(t,e,n,r){if(pe(t)){const s=Si(t,e,n,r);return s&&Ef(s)&&s.catch(i=>{Ss(i,e,n)}),s}if(ie(t)){const s=[];for(let i=0;i<t.length;i++)s.push(dn(t[i],e,n,r));return s}}function Ss(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ke;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const h=a.ec;if(h){for(let f=0;f<h.length;f++)if(h[f](t,l,u)===!1)return}a=a.parent}if(i){Gr(),Si(i,null,10,[t,l,u]),Qr();return}}ZI(t,n,s,r,o)}function ZI(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}let No=!1,ah=!1;const $t=[];let kn=0;const ri=[];let br=null,Ks=0;const Ny=Promise.resolve();let xf=null;function na(t){const e=xf||Ny;return t?e.then(this?t.bind(this):t):e}function eA(t){let e=No?kn+1:0,n=$t.length;for(;e<n;){const r=e+n>>>1,s=$t[r],i=xo(s);i<t||i===t&&s.flags&2?e=r+1:n=r}return e}function Df(t){if(!(t.flags&1)){const e=xo(t),n=$t[$t.length-1];!n||!(t.flags&2)&&e>=xo(n)?$t.push(t):$t.splice(eA(e),0,t),t.flags|=1,xy()}}function xy(){!No&&!ah&&(ah=!0,xf=Ny.then(Dy))}function Cc(t){ie(t)?ri.push(...t):br&&t.id===-1?br.splice(Ks+1,0,t):t.flags&1||(ri.push(t),t.flags|=1),xy()}function pm(t,e,n=No?kn+1:0){for(;n<$t.length;n++){const r=$t[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;$t.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&=-2}}}function Pc(t){if(ri.length){const e=[...new Set(ri)].sort((n,r)=>xo(n)-xo(r));if(ri.length=0,br){br.push(...e);return}for(br=e,Ks=0;Ks<br.length;Ks++){const n=br[Ks];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}br=null,Ks=0}}const xo=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Dy(t){ah=!1,No=!0;try{for(kn=0;kn<$t.length;kn++){const e=$t[kn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Si(e,e.i,e.i?15:14),e.flags&=-2)}}finally{for(;kn<$t.length;kn++){const e=$t[kn];e&&(e.flags&=-2)}kn=0,$t.length=0,Pc(),No=!1,xf=null,($t.length||ri.length)&&Dy()}}let Ws,Wa=[];function Vy(t,e){var n,r;Ws=t,Ws?(Ws.enabled=!0,Wa.forEach(({event:s,args:i})=>Ws.emit(s,...i)),Wa=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(i=>{Vy(i,e)}),setTimeout(()=>{Ws||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Wa=[])},3e3)):Wa=[]}let ut=null,wl=null;function Do(t){const e=ut;return ut=t,wl=t&&t.type.__scopeId||null,e}function tA(t){wl=t}function nA(){wl=null}const rA=t=>Je;function Je(t,e=ut,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&mh(-1);const i=Do(e);let o;try{o=t(...s)}finally{Do(i),r._d&&mh(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function ln(t,e){if(ut===null)return t;const n=aa(ut),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,a,l=ke]=e[s];i&&(pe(i)&&(i={mounted:i,updated:i}),i.deep&&Yn(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Nn(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(Gr(),dn(l,n,8,[t.el,a,t,e]),Qr())}}const My=Symbol("_vte"),Ly=t=>t.__isTeleport,fo=t=>t&&(t.disabled||t.disabled===""),sA=t=>t&&(t.defer||t.defer===""),mm=t=>typeof SVGElement<"u"&&t instanceof SVGElement,gm=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,ch=(t,e)=>{const n=t&&t.to;return Ge(n)?e?e(n):null:n},iA={name:"Teleport",__isTeleport:!0,process(t,e,n,r,s,i,o,a,l,u){const{mc:h,pc:f,pbc:p,o:{insert:g,querySelector:E,createText:R,createComment:S}}=u,x=fo(e.props);let{shapeFlag:O,children:_,dynamicChildren:P}=e;if(t==null){const D=e.el=R(""),L=e.anchor=R("");g(D,n,r),g(L,n,r);const b=(y,w)=>{O&16&&(s&&s.isCE&&(s.ce._teleportTarget=y),h(_,y,w,s,i,o,a,l))},T=()=>{const y=e.target=ch(e.props,E),w=Fy(y,e,R,g);y&&(o!=="svg"&&mm(y)?o="svg":o!=="mathml"&&gm(y)&&(o="mathml"),x||(b(y,w),ac(e)))};x&&(b(n,L),ac(e)),sA(e.props)?pt(T,i):T()}else{e.el=t.el,e.targetStart=t.targetStart;const D=e.anchor=t.anchor,L=e.target=t.target,b=e.targetAnchor=t.targetAnchor,T=fo(t.props),y=T?n:L,w=T?D:b;if(o==="svg"||mm(L)?o="svg":(o==="mathml"||gm(L))&&(o="mathml"),P?(p(t.dynamicChildren,P,y,s,i,o,a),Kf(t,e,!0)):l||f(t,e,y,w,s,i,o,a,!1),x)T?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):za(e,n,D,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const k=e.target=ch(e.props,E);k&&za(e,k,null,u,0)}else T&&za(e,L,b,u,1);ac(e)}},remove(t,e,n,{um:r,o:{remove:s}},i){const{shapeFlag:o,children:a,anchor:l,targetStart:u,targetAnchor:h,target:f,props:p}=t;if(f&&(s(u),s(h)),i&&s(l),o&16){const g=i||!fo(p);for(let E=0;E<a.length;E++){const R=a[E];r(R,e,n,g,!!R.dynamicChildren)}}},move:za,hydrate:oA};function za(t,e,n,{o:{insert:r},m:s},i=2){i===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:h}=t,f=i===2;if(f&&r(o,e,n),(!f||fo(h))&&l&16)for(let p=0;p<u.length;p++)s(u[p],e,n,2);f&&r(a,e,n)}function oA(t,e,n,r,s,i,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:u,createText:h}},f){const p=e.target=ch(e.props,l);if(p){const g=p._lpa||p.firstChild;if(e.shapeFlag&16)if(fo(e.props))e.anchor=f(o(t),e,a(t),n,r,s,i),e.targetStart=g,e.targetAnchor=g&&o(g);else{e.anchor=o(t);let E=g;for(;E;){if(E&&E.nodeType===8){if(E.data==="teleport start anchor")e.targetStart=E;else if(E.data==="teleport anchor"){e.targetAnchor=E,p._lpa=e.targetAnchor&&o(e.targetAnchor);break}}E=o(E)}e.targetAnchor||Fy(p,e,h,u),f(g&&o(g),e,p,n,r,s,i)}ac(e)}return e.anchor&&o(e.anchor)}const aA=iA;function ac(t){const e=t.ctx;if(e&&e.ut){let n=t.targetStart;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}function Fy(t,e,n,r){const s=e.targetStart=n(""),i=e.targetAnchor=n("");return s[My]=i,t&&(r(s,t),r(i,t)),i}const Ir=Symbol("_leaveCb"),Ga=Symbol("_enterCb");function Vf(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return pn(()=>{t.isMounted=!0}),Sl(()=>{t.isUnmounting=!0}),t}const an=[Function,Array],Mf={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:an,onEnter:an,onAfterEnter:an,onEnterCancelled:an,onBeforeLeave:an,onLeave:an,onAfterLeave:an,onLeaveCancelled:an,onBeforeAppear:an,onAppear:an,onAfterAppear:an,onAppearCancelled:an},Uy=t=>{const e=t.subTree;return e.component?Uy(e.component):e},cA={name:"BaseTransition",props:Mf,setup(t,{slots:e}){const n=Xt(),r=Vf();return()=>{const s=e.default&&bl(e.default(),!0);if(!s||!s.length)return;const i=jy(s),o=Ce(t),{mode:a}=o;if(r.isLeaving)return bu(i);const l=_m(i);if(!l)return bu(i);let u=hi(l,o,r,n,p=>u=p);l.type!==at&&sr(l,u);const h=n.subTree,f=h&&_m(h);if(f&&f.type!==at&&!yn(l,f)&&Uy(n).type!==at){const p=hi(f,o,r,n);if(sr(f,p),a==="out-in"&&l.type!==at)return r.isLeaving=!0,p.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete p.afterLeave},bu(i);a==="in-out"&&l.type!==at&&(p.delayLeave=(g,E,R)=>{const S=By(r,f);S[String(f.key)]=f,g[Ir]=()=>{E(),g[Ir]=void 0,delete u.delayedLeave},u.delayedLeave=R})}return i}}};function jy(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==at){e=n;break}}return e}const $y=cA;function By(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function hi(t,e,n,r,s){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:h,onEnterCancelled:f,onBeforeLeave:p,onLeave:g,onAfterLeave:E,onLeaveCancelled:R,onBeforeAppear:S,onAppear:x,onAfterAppear:O,onAppearCancelled:_}=e,P=String(t.key),D=By(n,t),L=(y,w)=>{y&&dn(y,r,9,w)},b=(y,w)=>{const k=w[1];L(y,w),ie(y)?y.every(C=>C.length<=1)&&k():y.length<=1&&k()},T={mode:o,persisted:a,beforeEnter(y){let w=l;if(!n.isMounted)if(i)w=S||l;else return;y[Ir]&&y[Ir](!0);const k=D[P];k&&yn(t,k)&&k.el[Ir]&&k.el[Ir](),L(w,[y])},enter(y){let w=u,k=h,C=f;if(!n.isMounted)if(i)w=x||u,k=O||h,C=_||f;else return;let I=!1;const ge=y[Ga]=Se=>{I||(I=!0,Se?L(C,[y]):L(k,[y]),T.delayedLeave&&T.delayedLeave(),y[Ga]=void 0)};w?b(w,[y,ge]):ge()},leave(y,w){const k=String(t.key);if(y[Ga]&&y[Ga](!0),n.isUnmounting)return w();L(p,[y]);let C=!1;const I=y[Ir]=ge=>{C||(C=!0,w(),ge?L(R,[y]):L(E,[y]),y[Ir]=void 0,D[k]===t&&delete D[k])};D[k]=t,g?b(g,[y,I]):I()},clone(y){const w=hi(y,e,n,r,s);return s&&s(w),w}};return T}function bu(t){if(ra(t))return t=$n(t),t.children=null,t}function _m(t){if(!ra(t))return Ly(t.type)&&t.children?jy(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&pe(n.default))return n.default()}}function sr(t,e){t.shapeFlag&6&&t.component?(t.transition=e,sr(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function bl(t,e=!1,n){let r=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===Ue?(o.patchFlag&128&&s++,r=r.concat(bl(o.children,e,a))):(e||o.type!==at)&&r.push(a!=null?$n(o,{key:a}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Rs(t,e){return pe(t)?ze({name:t.name},e,{setup:t}):t}function lA(){const t=Xt();if(t)return(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++}function Lf(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function uA(t){const e=Xt(),n=kf(null);if(e){const s=e.refs===ke?e.refs={}:e.refs;Object.defineProperty(s,t,{enumerable:!0,get:()=>n.value,set:i=>n.value=i})}return n}function Oc(t,e,n,r,s=!1){if(ie(t)){t.forEach((E,R)=>Oc(E,e&&(ie(e)?e[R]:e),n,r,s));return}if(Vr(r)&&!s)return;const i=r.shapeFlag&4?aa(r.component):r.el,o=s?null:i,{i:a,r:l}=t,u=e&&e.r,h=a.refs===ke?a.refs={}:a.refs,f=a.setupState,p=Ce(f),g=f===ke?()=>!1:E=>Le(p,E);if(u!=null&&u!==l&&(Ge(u)?(h[u]=null,g(u)&&(f[u]=null)):ht(u)&&(u.value=null)),pe(l))Si(l,a,12,[o,h]);else{const E=Ge(l),R=ht(l);if(E||R){const S=()=>{if(t.f){const x=E?g(l)?f[l]:h[l]:l.value;s?ie(x)&&vf(x,i):ie(x)?x.includes(i)||x.push(i):E?(h[l]=[i],g(l)&&(f[l]=h[l])):(l.value=[i],t.k&&(h[t.k]=l.value))}else E?(h[l]=o,g(l)&&(f[l]=o)):R&&(l.value=o,t.k&&(h[t.k]=o))};o?(S.id=-1,pt(S,n)):S()}}}let ym=!1;const $s=()=>{ym||(console.error("Hydration completed but contains mismatches."),ym=!0)},hA=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",fA=t=>t.namespaceURI.includes("MathML"),Qa=t=>{if(t.nodeType===1){if(hA(t))return"svg";if(fA(t))return"mathml"}},Ys=t=>t.nodeType===8;function dA(t){const{mt:e,p:n,o:{patchProp:r,createText:s,nextSibling:i,parentNode:o,remove:a,insert:l,createComment:u}}=t,h=(_,P)=>{if(!P.hasChildNodes()){n(null,_,P),Pc(),P._vnode=_;return}f(P.firstChild,_,null,null,null),Pc(),P._vnode=_},f=(_,P,D,L,b,T=!1)=>{T=T||!!P.dynamicChildren;const y=Ys(_)&&_.data==="[",w=()=>R(_,P,D,L,b,y),{type:k,ref:C,shapeFlag:I,patchFlag:ge}=P;let Se=_.nodeType;P.el=_,ge===-2&&(T=!1,P.dynamicChildren=null);let re=null;switch(k){case Mr:Se!==3?P.children===""?(l(P.el=s(""),o(_),_),re=_):re=w():(_.data!==P.children&&($s(),_.data=P.children),re=i(_));break;case at:O(_)?(re=i(_),x(P.el=_.content.firstChild,_,D)):Se!==8||y?re=w():re=i(_);break;case fs:if(y&&(_=i(_),Se=_.nodeType),Se===1||Se===3){re=_;const me=!P.children.length;for(let ne=0;ne<P.staticCount;ne++)me&&(P.children+=re.nodeType===1?re.outerHTML:re.data),ne===P.staticCount-1&&(P.anchor=re),re=i(re);return y?i(re):re}else w();break;case Ue:y?re=E(_,P,D,L,b,T):re=w();break;default:if(I&1)(Se!==1||P.type.toLowerCase()!==_.tagName.toLowerCase())&&!O(_)?re=w():re=p(_,P,D,L,b,T);else if(I&6){P.slotScopeIds=b;const me=o(_);if(y?re=S(_):Ys(_)&&_.data==="teleport start"?re=S(_,_.data,"teleport end"):re=i(_),e(P,me,null,D,L,Qa(me),T),Vr(P)){let ne;y?(ne=ve(Ue),ne.anchor=re?re.previousSibling:me.lastChild):ne=_.nodeType===3?gt(""):ve("div"),ne.el=_,P.component.subTree=ne}}else I&64?Se!==8?re=w():re=P.type.hydrate(_,P,D,L,b,T,t,g):I&128&&(re=P.type.hydrate(_,P,D,L,Qa(o(_)),b,T,t,f))}return C!=null&&Oc(C,null,L,P),re},p=(_,P,D,L,b,T)=>{T=T||!!P.dynamicChildren;const{type:y,props:w,patchFlag:k,shapeFlag:C,dirs:I,transition:ge}=P,Se=y==="input"||y==="option";if(Se||k!==-1){I&&Nn(P,null,D,"created");let re=!1;if(O(_)){re=pv(L,ge)&&D&&D.vnode.props&&D.vnode.props.appear;const ne=_.content.firstChild;re&&ge.beforeEnter(ne),x(ne,_,D),P.el=_=ne}if(C&16&&!(w&&(w.innerHTML||w.textContent))){let ne=g(_.firstChild,P,_,D,L,b,T);for(;ne;){Ja(_,1)||$s();const Ye=ne;ne=ne.nextSibling,a(Ye)}}else if(C&8){let ne=P.children;ne[0]===`
`&&(_.tagName==="PRE"||_.tagName==="TEXTAREA")&&(ne=ne.slice(1)),_.textContent!==ne&&(Ja(_,0)||$s(),_.textContent=P.children)}if(w){if(Se||!T||k&48){const ne=_.tagName.includes("-");for(const Ye in w)(Se&&(Ye.endsWith("value")||Ye==="indeterminate")||Zo(Ye)&&!ti(Ye)||Ye[0]==="."||ne)&&r(_,Ye,null,w[Ye],void 0,D)}else if(w.onClick)r(_,"onClick",null,w.onClick,void 0,D);else if(k&4&&Dr(w.style))for(const ne in w.style)w.style[ne]}let me;(me=w&&w.onVnodeBeforeMount)&&Kt(me,D,P),I&&Nn(P,null,D,"beforeMount"),((me=w&&w.onVnodeMounted)||I||re)&&Iv(()=>{me&&Kt(me,D,P),re&&ge.enter(_),I&&Nn(P,null,D,"mounted")},L)}return _.nextSibling},g=(_,P,D,L,b,T,y)=>{y=y||!!P.dynamicChildren;const w=P.children,k=w.length;for(let C=0;C<k;C++){const I=y?w[C]:w[C]=zt(w[C]),ge=I.type===Mr;_?(ge&&!y&&C+1<k&&zt(w[C+1]).type===Mr&&(l(s(_.data.slice(I.children.length)),D,i(_)),_.data=I.children),_=f(_,I,L,b,T,y)):ge&&!I.children?l(I.el=s(""),D):(Ja(D,1)||$s(),n(null,I,D,null,L,b,Qa(D),T))}return _},E=(_,P,D,L,b,T)=>{const{slotScopeIds:y}=P;y&&(b=b?b.concat(y):y);const w=o(_),k=g(i(_),P,w,D,L,b,T);return k&&Ys(k)&&k.data==="]"?i(P.anchor=k):($s(),l(P.anchor=u("]"),w,k),k)},R=(_,P,D,L,b,T)=>{if(Ja(_.parentElement,1)||$s(),P.el=null,T){const k=S(_);for(;;){const C=i(_);if(C&&C!==k)a(C);else break}}const y=i(_),w=o(_);return a(_),n(null,P,w,y,D,L,Qa(w),b),y},S=(_,P="[",D="]")=>{let L=0;for(;_;)if(_=i(_),_&&Ys(_)&&(_.data===P&&L++,_.data===D)){if(L===0)return i(_);L--}return _},x=(_,P,D)=>{const L=P.parentNode;L&&L.replaceChild(_,P);let b=D;for(;b;)b.vnode.el===P&&(b.vnode.el=b.subTree.el=_),b=b.parent},O=_=>_.nodeType===1&&_.tagName==="TEMPLATE";return[h,f]}const vm="data-allow-mismatch",pA={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function Ja(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(vm);)t=t.parentElement;const n=t&&t.getAttribute(vm);if(n==null)return!1;if(n==="")return!0;{const r=n.split(",");return e===0&&r.includes("children")?!0:n.split(",").includes(pA[e])}}const mA=(t=1e4)=>e=>{const n=requestIdleCallback(e,{timeout:t});return()=>cancelIdleCallback(n)},gA=t=>(e,n)=>{const r=new IntersectionObserver(s=>{for(const i of s)if(i.isIntersecting){r.disconnect(),e();break}},t);return n(s=>r.observe(s)),()=>r.disconnect()},_A=t=>e=>{if(t){const n=matchMedia(t);if(n.matches)e();else return n.addEventListener("change",e,{once:!0}),()=>n.removeEventListener("change",e)}},yA=(t=[])=>(e,n)=>{Ge(t)&&(t=[t]);let r=!1;const s=o=>{r||(r=!0,i(),e(),o.target.dispatchEvent(new o.constructor(o.type,o)))},i=()=>{n(o=>{for(const a of t)o.removeEventListener(a,s)})};return n(o=>{for(const a of t)o.addEventListener(a,s,{once:!0})}),i};function vA(t,e){if(Ys(t)&&t.data==="["){let n=1,r=t.nextSibling;for(;r;){if(r.nodeType===1)e(r);else if(Ys(r))if(r.data==="]"){if(--n===0)break}else r.data==="["&&n++;r=r.nextSibling}}else e(t)}const Vr=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function EA(t){pe(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:s=200,hydrate:i,timeout:o,suspensible:a=!0,onError:l}=t;let u=null,h,f=0;const p=()=>(f++,u=null,g()),g=()=>{let E;return u||(E=u=e().catch(R=>{if(R=R instanceof Error?R:new Error(String(R)),l)return new Promise((S,x)=>{l(R,()=>S(p()),()=>x(R),f+1)});throw R}).then(R=>E!==u&&u?u:(R&&(R.__esModule||R[Symbol.toStringTag]==="Module")&&(R=R.default),h=R,R)))};return Rs({name:"AsyncComponentWrapper",__asyncLoader:g,__asyncHydrate(E,R,S){const x=i?()=>{const O=i(S,_=>vA(E,_));O&&(R.bum||(R.bum=[])).push(O)}:S;h?x():g().then(()=>!R.isUnmounted&&x())},get __asyncResolved(){return h},setup(){const E=ct;if(Lf(E),h)return()=>Iu(h,E);const R=_=>{u=null,Ss(_,E,13,!r)};if(a&&E.suspense||oa)return g().then(_=>()=>Iu(_,E)).catch(_=>(R(_),()=>r?ve(r,{error:_}):null));const S=ye(!1),x=ye(),O=ye(!!s);return s&&setTimeout(()=>{O.value=!1},s),o!=null&&setTimeout(()=>{if(!S.value&&!x.value){const _=new Error(`Async component timed out after ${o}ms.`);R(_),x.value=_}},o),g().then(()=>{S.value=!0,E.parent&&ra(E.parent.vnode)&&E.parent.update()}).catch(_=>{R(_),x.value=_}),()=>{if(S.value&&h)return Iu(h,E);if(x.value&&r)return ve(r,{error:x.value});if(n&&!O.value)return ve(n)}}})}function Iu(t,e){const{ref:n,props:r,children:s,ce:i}=e.vnode,o=ve(t,r,s);return o.ref=n,o.ce=i,delete e.vnode.ce,o}const ra=t=>t.type.__isKeepAlive,TA={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=Xt(),r=n.ctx;if(!r.renderer)return()=>{const O=e.default&&e.default();return O&&O.length===1?O[0]:O};const s=new Map,i=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:u,um:h,o:{createElement:f}}}=r,p=f("div");r.activate=(O,_,P,D,L)=>{const b=O.component;u(O,_,P,0,a),l(b.vnode,O,_,P,b,a,D,O.slotScopeIds,L),pt(()=>{b.isDeactivated=!1,b.a&&ni(b.a);const T=O.props&&O.props.onVnodeMounted;T&&Kt(T,b.parent,O)},a)},r.deactivate=O=>{const _=O.component;Nc(_.m),Nc(_.a),u(O,p,null,1,a),pt(()=>{_.da&&ni(_.da);const P=O.props&&O.props.onVnodeUnmounted;P&&Kt(P,_.parent,O),_.isDeactivated=!0},a)};function g(O){Au(O),h(O,n,a,!0)}function E(O){s.forEach((_,P)=>{const D=Eh(_.type);D&&!O(D)&&R(P)})}function R(O){const _=s.get(O);_&&(!o||!yn(_,o))?g(_):o&&Au(o),s.delete(O),i.delete(O)}st(()=>[t.include,t.exclude],([O,_])=>{O&&E(P=>ro(O,P)),_&&E(P=>!ro(_,P))},{flush:"post",deep:!0});let S=null;const x=()=>{S!=null&&(xc(n.subTree.type)?pt(()=>{s.set(S,Ya(n.subTree))},n.subTree.suspense):s.set(S,Ya(n.subTree)))};return pn(x),Al(x),Sl(()=>{s.forEach(O=>{const{subTree:_,suspense:P}=n,D=Ya(_);if(O.type===D.type&&O.key===D.key){Au(D);const L=D.component.da;L&&pt(L,P);return}g(O)})}),()=>{if(S=null,!e.default)return o=null;const O=e.default(),_=O[0];if(O.length>1)return o=null,O;if(!Hr(_)||!(_.shapeFlag&4)&&!(_.shapeFlag&128))return o=null,_;let P=Ya(_);if(P.type===at)return o=null,P;const D=P.type,L=Eh(Vr(P)?P.type.__asyncResolved||{}:D),{include:b,exclude:T,max:y}=t;if(b&&(!L||!ro(b,L))||T&&L&&ro(T,L))return P.shapeFlag&=-257,o=P,_;const w=P.key==null?D:P.key,k=s.get(w);return P.el&&(P=$n(P),_.shapeFlag&128&&(_.ssContent=P)),S=w,k?(P.el=k.el,P.component=k.component,P.transition&&sr(P,P.transition),P.shapeFlag|=512,i.delete(w),i.add(w)):(i.add(w),y&&i.size>parseInt(y,10)&&R(i.values().next().value)),P.shapeFlag|=256,o=P,xc(_.type)?_:P}}},wA=TA;function ro(t,e){return ie(t)?t.some(n=>ro(n,e)):Ge(t)?t.split(",").includes(e):Gb(t)?(t.lastIndex=0,t.test(e)):!1}function Hy(t,e){Ky(t,"a",e)}function qy(t,e){Ky(t,"da",e)}function Ky(t,e,n=ct){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Il(e,r,n),n){let s=n.parent;for(;s&&s.parent;)ra(s.parent.vnode)&&bA(r,e,n,s),s=s.parent}}function bA(t,e,n,r){const s=Il(e,t,r,!0);Cs(()=>{vf(r[e],s)},n)}function Au(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Ya(t){return t.shapeFlag&128?t.ssContent:t}function Il(t,e,n=ct,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Gr();const a=_s(n),l=dn(e,n,t,o);return a(),Qr(),l});return r?s.unshift(i):s.push(i),i}}const lr=t=>(e,n=ct)=>{(!oa||t==="sp")&&Il(t,(...r)=>e(...r),n)},Ff=lr("bm"),pn=lr("m"),Wy=lr("bu"),Al=lr("u"),Sl=lr("bum"),Cs=lr("um"),zy=lr("sp"),Gy=lr("rtg"),Qy=lr("rtc");function Jy(t,e=ct){Il("ec",t,e)}const Uf="components",IA="directives";function sa(t,e){return jf(Uf,t,!0,e)||t}const Yy=Symbol.for("v-ndc");function Xy(t){return Ge(t)?jf(Uf,t,!1)||t:t||Yy}function AA(t){return jf(IA,t)}function jf(t,e,n=!0,r=!1){const s=ut||ct;if(s){const i=s.type;if(t===Uf){const a=Eh(i,!1);if(a&&(a===e||a===Nt(e)||a===ea(Nt(e))))return i}const o=Em(s[t]||i[t],e)||Em(s.appContext[t],e);return!o&&r?i:o}}function Em(t,e){return t&&(t[e]||t[Nt(e)]||t[ea(Nt(e))])}function vn(t,e,n,r){let s;const i=n&&n[r],o=ie(t);if(o||Ge(t)){const a=o&&Dr(t);let l=!1;a&&(l=!tn(t),t=_l(t)),s=new Array(t.length);for(let u=0,h=t.length;u<h;u++)s[u]=e(l?Pt(t[u]):t[u],u,void 0,i&&i[u])}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,i&&i[a])}else if($e(t))if(t[Symbol.iterator])s=Array.from(t,(a,l)=>e(a,l,void 0,i&&i[l]));else{const a=Object.keys(t);s=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const h=a[l];s[l]=e(t[h],h,l,i&&i[l])}}else s=[];return n&&(n[r]=s),s}function SA(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(ie(r))for(let s=0;s<r.length;s++)t[r[s].name]=r[s].fn;else r&&(t[r.name]=r.key?(...s)=>{const i=r.fn(...s);return i&&(i.key=r.key),i}:r.fn)}return t}function RA(t,e,n={},r,s){if(ut.ce||ut.parent&&Vr(ut.parent)&&ut.parent.ce)return e!=="default"&&(n.name=e),te(),Bt(Ue,null,[ve("slot",n,r&&r())],64);let i=t[e];i&&i._c&&(i._d=!1),te();const o=i&&$f(i(n)),a=Bt(Ue,{key:(n.key||o&&o.key||`_${e}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&t._===1?64:-2);return!s&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function $f(t){return t.some(e=>Hr(e)?!(e.type===at||e.type===Ue&&!$f(e.children)):!0)?t:null}function CA(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:uo(r)]=t[r];return n}const lh=t=>t?kv(t)?aa(t):lh(t.parent):null,po=ze(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>lh(t.parent),$root:t=>lh(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Hf(t),$forceUpdate:t=>t.f||(t.f=()=>{Df(t.update)}),$nextTick:t=>t.n||(t.n=na.bind(t.proxy)),$watch:t=>sS.bind(t)}),Su=(t,e)=>t!==ke&&!t.__isScriptSetup&&Le(t,e),uh={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(Su(r,e))return o[e]=1,r[e];if(s!==ke&&Le(s,e))return o[e]=2,s[e];if((u=t.propsOptions[0])&&Le(u,e))return o[e]=3,i[e];if(n!==ke&&Le(n,e))return o[e]=4,n[e];hh&&(o[e]=0)}}const h=po[e];let f,p;if(h)return e==="$attrs"&&Dt(t.attrs,"get",""),h(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(n!==ke&&Le(n,e))return o[e]=4,n[e];if(p=l.config.globalProperties,Le(p,e))return p[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return Su(s,e)?(s[e]=n,!0):r!==ke&&Le(r,e)?(r[e]=n,!0):Le(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||t!==ke&&Le(t,o)||Su(e,o)||(a=i[0])&&Le(a,o)||Le(r,o)||Le(po,o)||Le(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Le(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},PA=ze({},uh,{get(t,e){if(e!==Symbol.unscopables)return uh.get(t,e,t)},has(t,e){return e[0]!=="_"&&!Zb(e)}});function OA(){return null}function kA(){return null}function NA(t){}function xA(t){}function DA(){return null}function VA(){}function MA(t,e){return null}function Bf(){return Zy().slots}function LA(){return Zy().attrs}function Zy(){const t=Xt();return t.setupContext||(t.setupContext=Dv(t))}function Vo(t){return ie(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function FA(t,e){const n=Vo(t);for(const r in e){if(r.startsWith("__skip"))continue;let s=n[r];s?ie(s)||pe(s)?s=n[r]={type:s,default:e[r]}:s.default=e[r]:s===null&&(s=n[r]={default:e[r]}),s&&e[`__skip_${r}`]&&(s.skipFactory=!0)}return n}function UA(t,e){return!t||!e?t||e:ie(t)&&ie(e)?t.concat(e):ze({},Vo(t),Vo(e))}function jA(t,e){const n={};for(const r in t)e.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>t[r]});return n}function $A(t){const e=Xt();let n=t();return _h(),Ef(n)&&(n=n.catch(r=>{throw _s(e),r})),[n,()=>_s(e)]}let hh=!0;function BA(t){const e=Hf(t),n=t.proxy,r=t.ctx;hh=!1,e.beforeCreate&&Tm(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:u,created:h,beforeMount:f,mounted:p,beforeUpdate:g,updated:E,activated:R,deactivated:S,beforeDestroy:x,beforeUnmount:O,destroyed:_,unmounted:P,render:D,renderTracked:L,renderTriggered:b,errorCaptured:T,serverPrefetch:y,expose:w,inheritAttrs:k,components:C,directives:I,filters:ge}=e;if(u&&HA(u,r,null),o)for(const me in o){const ne=o[me];pe(ne)&&(r[me]=ne.bind(n))}if(s){const me=s.call(n,n);$e(me)&&(t.data=qn(me))}if(hh=!0,i)for(const me in i){const ne=i[me],Ye=pe(ne)?ne.bind(n,n):pe(ne.get)?ne.get.bind(n,n):Tn,gn=!pe(ne)&&pe(ne.set)?ne.set.bind(n):Tn,sn=Ae({get:Ye,set:gn});Object.defineProperty(r,me,{enumerable:!0,configurable:!0,get:()=>sn.value,set:Xe=>sn.value=Xe})}if(a)for(const me in a)ev(a[me],r,n,me);if(l){const me=pe(l)?l.call(n):l;Reflect.ownKeys(me).forEach(ne=>{mo(ne,me[ne])})}h&&Tm(h,t,"c");function re(me,ne){ie(ne)?ne.forEach(Ye=>me(Ye.bind(n))):ne&&me(ne.bind(n))}if(re(Ff,f),re(pn,p),re(Wy,g),re(Al,E),re(Hy,R),re(qy,S),re(Jy,T),re(Qy,L),re(Gy,b),re(Sl,O),re(Cs,P),re(zy,y),ie(w))if(w.length){const me=t.exposed||(t.exposed={});w.forEach(ne=>{Object.defineProperty(me,ne,{get:()=>n[ne],set:Ye=>n[ne]=Ye})})}else t.exposed||(t.exposed={});D&&t.render===Tn&&(t.render=D),k!=null&&(t.inheritAttrs=k),C&&(t.components=C),I&&(t.directives=I),y&&Lf(t)}function HA(t,e,n=Tn){ie(t)&&(t=fh(t));for(const r in t){const s=t[r];let i;$e(s)?"default"in s?i=Qt(s.from||r,s.default,!0):i=Qt(s.from||r):i=Qt(s),ht(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function Tm(t,e,n){dn(ie(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function ev(t,e,n,r){let s=r.includes(".")?Ev(n,r):()=>n[r];if(Ge(t)){const i=e[t];pe(i)&&st(s,i)}else if(pe(t))st(s,t.bind(n));else if($e(t))if(ie(t))t.forEach(i=>ev(i,e,n,r));else{const i=pe(t.handler)?t.handler.bind(n):e[t.handler];pe(i)&&st(s,i,t)}}function Hf(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!s.length&&!n&&!r?l=e:(l={},s.length&&s.forEach(u=>kc(l,u,o,!0)),kc(l,e,o)),$e(e)&&i.set(e,l),l}function kc(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&kc(t,i,n,!0),s&&s.forEach(o=>kc(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=qA[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const qA={data:wm,props:bm,emits:bm,methods:so,computed:so,beforeCreate:Ft,created:Ft,beforeMount:Ft,mounted:Ft,beforeUpdate:Ft,updated:Ft,beforeDestroy:Ft,beforeUnmount:Ft,destroyed:Ft,unmounted:Ft,activated:Ft,deactivated:Ft,errorCaptured:Ft,serverPrefetch:Ft,components:so,directives:so,watch:WA,provide:wm,inject:KA};function wm(t,e){return e?t?function(){return ze(pe(t)?t.call(this,this):t,pe(e)?e.call(this,this):e)}:e:t}function KA(t,e){return so(fh(t),fh(e))}function fh(t){if(ie(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Ft(t,e){return t?[...new Set([].concat(t,e))]:e}function so(t,e){return t?ze(Object.create(null),t,e):e}function bm(t,e){return t?ie(t)&&ie(e)?[...new Set([...t,...e])]:ze(Object.create(null),Vo(t),Vo(e??{})):e}function WA(t,e){if(!t)return e;if(!e)return t;const n=ze(Object.create(null),t);for(const r in e)n[r]=Ft(t[r],e[r]);return n}function tv(){return{app:null,config:{isNativeTag:Wb,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let zA=0;function GA(t,e){return function(r,s=null){pe(r)||(r=ze({},r)),s!=null&&!$e(s)&&(s=null);const i=tv(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:zA++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:Mv,get config(){return i.config},set config(h){},use(h,...f){return o.has(h)||(h&&pe(h.install)?(o.add(h),h.install(u,...f)):pe(h)&&(o.add(h),h(u,...f))),u},mixin(h){return i.mixins.includes(h)||i.mixins.push(h),u},component(h,f){return f?(i.components[h]=f,u):i.components[h]},directive(h,f){return f?(i.directives[h]=f,u):i.directives[h]},mount(h,f,p){if(!l){const g=u._ceVNode||ve(r,s);return g.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),f&&e?e(g,h):t(g,h,p),l=!0,u._container=h,h.__vue_app__=u,aa(g.component)}},onUnmount(h){a.push(h)},unmount(){l&&(dn(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(h,f){return i.provides[h]=f,u},runWithContext(h){const f=hs;hs=u;try{return h()}finally{hs=f}}};return u}}let hs=null;function mo(t,e){if(ct){let n=ct.provides;const r=ct.parent&&ct.parent.provides;r===n&&(n=ct.provides=Object.create(r)),n[t]=e}}function Qt(t,e,n=!1){const r=ct||ut;if(r||hs){const s=hs?hs._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&pe(e)?e.call(r&&r.proxy):e}}function QA(){return!!(ct||ut||hs)}const nv={},rv=()=>Object.create(nv),sv=t=>Object.getPrototypeOf(t)===nv;function JA(t,e,n,r=!1){const s={},i=rv();t.propsDefaults=Object.create(null),iv(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:Cf(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function YA(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=Ce(s),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const h=t.vnode.dynamicProps;for(let f=0;f<h.length;f++){let p=h[f];if(Rl(t.emitsOptions,p))continue;const g=e[p];if(l)if(Le(i,p))g!==i[p]&&(i[p]=g,u=!0);else{const E=Nt(p);s[E]=dh(l,a,E,g,t,!1)}else g!==i[p]&&(i[p]=g,u=!0)}}}else{iv(t,e,s,i)&&(u=!0);let h;for(const f in a)(!e||!Le(e,f)&&((h=Gt(f))===f||!Le(e,h)))&&(l?n&&(n[f]!==void 0||n[h]!==void 0)&&(s[f]=dh(l,a,f,void 0,t,!0)):delete s[f]);if(i!==a)for(const f in i)(!e||!Le(e,f))&&(delete i[f],u=!0)}u&&nr(t.attrs,"set","")}function iv(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(ti(l))continue;const u=e[l];let h;s&&Le(s,h=Nt(l))?!i||!i.includes(h)?n[h]=u:(a||(a={}))[h]=u:Rl(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=Ce(n),u=a||ke;for(let h=0;h<i.length;h++){const f=i[h];n[f]=dh(s,l,f,u[f],t,!Le(u,f))}}return o}function dh(t,e,n,r,s,i){const o=t[n];if(o!=null){const a=Le(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&pe(l)){const{propsDefaults:u}=s;if(n in u)r=u[n];else{const h=_s(s);r=u[n]=l.call(null,e),h()}}else r=l;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Gt(n))&&(r=!0))}return r}const XA=new WeakMap;function ov(t,e,n=!1){const r=n?XA:e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},a=[];let l=!1;if(!pe(t)){const h=f=>{l=!0;const[p,g]=ov(f,e,!0);ze(o,p),g&&a.push(...g)};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!i&&!l)return $e(t)&&r.set(t,Zs),Zs;if(ie(i))for(let h=0;h<i.length;h++){const f=Nt(i[h]);Im(f)&&(o[f]=ke)}else if(i)for(const h in i){const f=Nt(h);if(Im(f)){const p=i[h],g=o[f]=ie(p)||pe(p)?{type:p}:ze({},p),E=g.type;let R=!1,S=!0;if(ie(E))for(let x=0;x<E.length;++x){const O=E[x],_=pe(O)&&O.name;if(_==="Boolean"){R=!0;break}else _==="String"&&(S=!1)}else R=pe(E)&&E.name==="Boolean";g[0]=R,g[1]=S,(R||Le(g,"default"))&&a.push(f)}}const u=[o,a];return $e(t)&&r.set(t,u),u}function Im(t){return t[0]!=="$"&&!ti(t)}const av=t=>t[0]==="_"||t==="$stable",qf=t=>ie(t)?t.map(zt):[zt(t)],ZA=(t,e,n)=>{if(e._n)return e;const r=Je((...s)=>qf(e(...s)),n);return r._c=!1,r},cv=(t,e,n)=>{const r=t._ctx;for(const s in t){if(av(s))continue;const i=t[s];if(pe(i))e[s]=ZA(s,i,r);else if(i!=null){const o=qf(i);e[s]=()=>o}}},lv=(t,e)=>{const n=qf(e);t.slots.default=()=>n},uv=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},eS=(t,e,n)=>{const r=t.slots=rv();if(t.vnode.shapeFlag&32){const s=e._;s?(uv(r,e,n),n&&iy(r,"_",s,!0)):cv(e,r)}else e&&lv(t,e)},tS=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=ke;if(r.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:uv(s,e,n):(i=!e.$stable,cv(e,s)),o=e}else e&&(lv(t,e),o={default:1});if(i)for(const a in s)!av(a)&&o[a]==null&&delete s[a]},pt=Iv;function hv(t){return dv(t)}function fv(t){return dv(t,dA)}function dv(t,e){const n=oy();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:h,parentNode:f,nextSibling:p,setScopeId:g=Tn,insertStaticContent:E}=t,R=(A,N,M,H=null,$=null,K=null,Y=void 0,Q=null,G=!!N.dynamicChildren)=>{if(A===N)return;A&&!yn(A,N)&&(H=B(A),Xe(A,$,K,!0),A=null),N.patchFlag===-2&&(G=!1,N.dynamicChildren=null);const{type:W,ref:le,shapeFlag:Z}=N;switch(W){case Mr:S(A,N,M,H);break;case at:x(A,N,M,H);break;case fs:A==null&&O(N,M,H,Y);break;case Ue:C(A,N,M,H,$,K,Y,Q,G);break;default:Z&1?D(A,N,M,H,$,K,Y,Q,G):Z&6?I(A,N,M,H,$,K,Y,Q,G):(Z&64||Z&128)&&W.process(A,N,M,H,$,K,Y,Q,G,se)}le!=null&&$&&Oc(le,A&&A.ref,K,N||A,!N)},S=(A,N,M,H)=>{if(A==null)r(N.el=a(N.children),M,H);else{const $=N.el=A.el;N.children!==A.children&&u($,N.children)}},x=(A,N,M,H)=>{A==null?r(N.el=l(N.children||""),M,H):N.el=A.el},O=(A,N,M,H)=>{[A.el,A.anchor]=E(A.children,N,M,H,A.el,A.anchor)},_=({el:A,anchor:N},M,H)=>{let $;for(;A&&A!==N;)$=p(A),r(A,M,H),A=$;r(N,M,H)},P=({el:A,anchor:N})=>{let M;for(;A&&A!==N;)M=p(A),s(A),A=M;s(N)},D=(A,N,M,H,$,K,Y,Q,G)=>{N.type==="svg"?Y="svg":N.type==="math"&&(Y="mathml"),A==null?L(N,M,H,$,K,Y,Q,G):y(A,N,$,K,Y,Q,G)},L=(A,N,M,H,$,K,Y,Q)=>{let G,W;const{props:le,shapeFlag:Z,transition:ce,dirs:oe}=A;if(G=A.el=o(A.type,K,le&&le.is,le),Z&8?h(G,A.children):Z&16&&T(A.children,G,null,H,$,Ru(A,K),Y,Q),oe&&Nn(A,null,H,"created"),b(G,A,A.scopeId,Y,H),le){for(const Me in le)Me!=="value"&&!ti(Me)&&i(G,Me,null,le[Me],K,H);"value"in le&&i(G,"value",null,le.value,K),(W=le.onVnodeBeforeMount)&&Kt(W,H,A)}oe&&Nn(A,null,H,"beforeMount");const fe=pv($,ce);fe&&ce.beforeEnter(G),r(G,N,M),((W=le&&le.onVnodeMounted)||fe||oe)&&pt(()=>{W&&Kt(W,H,A),fe&&ce.enter(G),oe&&Nn(A,null,H,"mounted")},$)},b=(A,N,M,H,$)=>{if(M&&g(A,M),H)for(let K=0;K<H.length;K++)g(A,H[K]);if($){let K=$.subTree;if(N===K||xc(K.type)&&(K.ssContent===N||K.ssFallback===N)){const Y=$.vnode;b(A,Y,Y.scopeId,Y.slotScopeIds,$.parent)}}},T=(A,N,M,H,$,K,Y,Q,G=0)=>{for(let W=G;W<A.length;W++){const le=A[W]=Q?Ar(A[W]):zt(A[W]);R(null,le,N,M,H,$,K,Y,Q)}},y=(A,N,M,H,$,K,Y)=>{const Q=N.el=A.el;let{patchFlag:G,dynamicChildren:W,dirs:le}=N;G|=A.patchFlag&16;const Z=A.props||ke,ce=N.props||ke;let oe;if(M&&ns(M,!1),(oe=ce.onVnodeBeforeUpdate)&&Kt(oe,M,N,A),le&&Nn(N,A,M,"beforeUpdate"),M&&ns(M,!0),(Z.innerHTML&&ce.innerHTML==null||Z.textContent&&ce.textContent==null)&&h(Q,""),W?w(A.dynamicChildren,W,Q,M,H,Ru(N,$),K):Y||ne(A,N,Q,null,M,H,Ru(N,$),K,!1),G>0){if(G&16)k(Q,Z,ce,M,$);else if(G&2&&Z.class!==ce.class&&i(Q,"class",null,ce.class,$),G&4&&i(Q,"style",Z.style,ce.style,$),G&8){const fe=N.dynamicProps;for(let Me=0;Me<fe.length;Me++){const xe=fe[Me],bt=Z[xe],dt=ce[xe];(dt!==bt||xe==="value")&&i(Q,xe,bt,dt,$,M)}}G&1&&A.children!==N.children&&h(Q,N.children)}else!Y&&W==null&&k(Q,Z,ce,M,$);((oe=ce.onVnodeUpdated)||le)&&pt(()=>{oe&&Kt(oe,M,N,A),le&&Nn(N,A,M,"updated")},H)},w=(A,N,M,H,$,K,Y)=>{for(let Q=0;Q<N.length;Q++){const G=A[Q],W=N[Q],le=G.el&&(G.type===Ue||!yn(G,W)||G.shapeFlag&70)?f(G.el):M;R(G,W,le,null,H,$,K,Y,!0)}},k=(A,N,M,H,$)=>{if(N!==M){if(N!==ke)for(const K in N)!ti(K)&&!(K in M)&&i(A,K,N[K],null,$,H);for(const K in M){if(ti(K))continue;const Y=M[K],Q=N[K];Y!==Q&&K!=="value"&&i(A,K,Q,Y,$,H)}"value"in M&&i(A,"value",N.value,M.value,$)}},C=(A,N,M,H,$,K,Y,Q,G)=>{const W=N.el=A?A.el:a(""),le=N.anchor=A?A.anchor:a("");let{patchFlag:Z,dynamicChildren:ce,slotScopeIds:oe}=N;oe&&(Q=Q?Q.concat(oe):oe),A==null?(r(W,M,H),r(le,M,H),T(N.children||[],M,le,$,K,Y,Q,G)):Z>0&&Z&64&&ce&&A.dynamicChildren?(w(A.dynamicChildren,ce,M,$,K,Y,Q),(N.key!=null||$&&N===$.subTree)&&Kf(A,N,!0)):ne(A,N,M,le,$,K,Y,Q,G)},I=(A,N,M,H,$,K,Y,Q,G)=>{N.slotScopeIds=Q,A==null?N.shapeFlag&512?$.ctx.activate(N,M,H,Y,G):ge(N,M,H,$,K,Y,G):Se(A,N,G)},ge=(A,N,M,H,$,K,Y)=>{const Q=A.component=Ov(A,H,$);if(ra(A)&&(Q.ctx.renderer=se),Nv(Q,!1,Y),Q.asyncDep){if($&&$.registerDep(Q,re,Y),!A.el){const G=Q.subTree=ve(at);x(null,G,N,M)}}else re(Q,A,N,M,$,K,Y)},Se=(A,N,M)=>{const H=N.component=A.component;if(uS(A,N,M))if(H.asyncDep&&!H.asyncResolved){me(H,N,M);return}else H.next=N,H.update();else N.el=A.el,H.vnode=N},re=(A,N,M,H,$,K,Y)=>{const Q=()=>{if(A.isMounted){let{next:Z,bu:ce,u:oe,parent:fe,vnode:Me}=A;{const It=mv(A);if(It){Z&&(Z.el=Me.el,me(A,Z,Y)),It.asyncDep.then(()=>{A.isUnmounted||Q()});return}}let xe=Z,bt;ns(A,!1),Z?(Z.el=Me.el,me(A,Z,Y)):Z=Me,ce&&ni(ce),(bt=Z.props&&Z.props.onVnodeBeforeUpdate)&&Kt(bt,fe,Z,Me),ns(A,!0);const dt=cc(A),_t=A.subTree;A.subTree=dt,R(_t,dt,f(_t.el),B(_t),A,$,K),Z.el=dt.el,xe===null&&Wf(A,dt.el),oe&&pt(oe,$),(bt=Z.props&&Z.props.onVnodeUpdated)&&pt(()=>Kt(bt,fe,Z,Me),$)}else{let Z;const{el:ce,props:oe}=N,{bm:fe,m:Me,parent:xe,root:bt,type:dt}=A,_t=Vr(N);if(ns(A,!1),fe&&ni(fe),!_t&&(Z=oe&&oe.onVnodeBeforeMount)&&Kt(Z,xe,N),ns(A,!0),ce&&je){const It=()=>{A.subTree=cc(A),je(ce,A.subTree,A,$,null)};_t&&dt.__asyncHydrate?dt.__asyncHydrate(ce,A,It):It()}else{bt.ce&&bt.ce._injectChildStyle(dt);const It=A.subTree=cc(A);R(null,It,M,H,A,$,K),N.el=It.el}if(Me&&pt(Me,$),!_t&&(Z=oe&&oe.onVnodeMounted)){const It=N;pt(()=>Kt(Z,xe,It),$)}(N.shapeFlag&256||xe&&Vr(xe.vnode)&&xe.vnode.shapeFlag&256)&&A.a&&pt(A.a,$),A.isMounted=!0,N=M=H=null}};A.scope.on();const G=A.effect=new Po(Q);A.scope.off();const W=A.update=G.run.bind(G),le=A.job=G.runIfDirty.bind(G);le.i=A,le.id=A.uid,G.scheduler=()=>Df(le),ns(A,!0),W()},me=(A,N,M)=>{N.component=A;const H=A.vnode.props;A.vnode=N,A.next=null,YA(A,N.props,H,M),tS(A,N.children,M),Gr(),pm(A),Qr()},ne=(A,N,M,H,$,K,Y,Q,G=!1)=>{const W=A&&A.children,le=A?A.shapeFlag:0,Z=N.children,{patchFlag:ce,shapeFlag:oe}=N;if(ce>0){if(ce&128){gn(W,Z,M,H,$,K,Y,Q,G);return}else if(ce&256){Ye(W,Z,M,H,$,K,Y,Q,G);return}}oe&8?(le&16&&qt(W,$,K),Z!==W&&h(M,Z)):le&16?oe&16?gn(W,Z,M,H,$,K,Y,Q,G):qt(W,$,K,!0):(le&8&&h(M,""),oe&16&&T(Z,M,H,$,K,Y,Q,G))},Ye=(A,N,M,H,$,K,Y,Q,G)=>{A=A||Zs,N=N||Zs;const W=A.length,le=N.length,Z=Math.min(W,le);let ce;for(ce=0;ce<Z;ce++){const oe=N[ce]=G?Ar(N[ce]):zt(N[ce]);R(A[ce],oe,M,null,$,K,Y,Q,G)}W>le?qt(A,$,K,!0,!1,Z):T(N,M,H,$,K,Y,Q,G,Z)},gn=(A,N,M,H,$,K,Y,Q,G)=>{let W=0;const le=N.length;let Z=A.length-1,ce=le-1;for(;W<=Z&&W<=ce;){const oe=A[W],fe=N[W]=G?Ar(N[W]):zt(N[W]);if(yn(oe,fe))R(oe,fe,M,null,$,K,Y,Q,G);else break;W++}for(;W<=Z&&W<=ce;){const oe=A[Z],fe=N[ce]=G?Ar(N[ce]):zt(N[ce]);if(yn(oe,fe))R(oe,fe,M,null,$,K,Y,Q,G);else break;Z--,ce--}if(W>Z){if(W<=ce){const oe=ce+1,fe=oe<le?N[oe].el:H;for(;W<=ce;)R(null,N[W]=G?Ar(N[W]):zt(N[W]),M,fe,$,K,Y,Q,G),W++}}else if(W>ce)for(;W<=Z;)Xe(A[W],$,K,!0),W++;else{const oe=W,fe=W,Me=new Map;for(W=fe;W<=ce;W++){const Mt=N[W]=G?Ar(N[W]):zt(N[W]);Mt.key!=null&&Me.set(Mt.key,W)}let xe,bt=0;const dt=ce-fe+1;let _t=!1,It=0;const fr=new Array(dt);for(W=0;W<dt;W++)fr[W]=0;for(W=oe;W<=Z;W++){const Mt=A[W];if(bt>=dt){Xe(Mt,$,K,!0);continue}let on;if(Mt.key!=null)on=Me.get(Mt.key);else for(xe=fe;xe<=ce;xe++)if(fr[xe-fe]===0&&yn(Mt,N[xe])){on=xe;break}on===void 0?Xe(Mt,$,K,!0):(fr[on-fe]=W+1,on>=It?It=on:_t=!0,R(Mt,N[on],M,null,$,K,Y,Q,G),bt++)}const Ds=_t?nS(fr):Zs;for(xe=Ds.length-1,W=dt-1;W>=0;W--){const Mt=fe+W,on=N[Mt],Vs=Mt+1<le?N[Mt+1].el:H;fr[W]===0?R(null,on,M,Vs,$,K,Y,Q,G):_t&&(xe<0||W!==Ds[xe]?sn(on,M,Vs,2):xe--)}}},sn=(A,N,M,H,$=null)=>{const{el:K,type:Y,transition:Q,children:G,shapeFlag:W}=A;if(W&6){sn(A.component.subTree,N,M,H);return}if(W&128){A.suspense.move(N,M,H);return}if(W&64){Y.move(A,N,M,se);return}if(Y===Ue){r(K,N,M);for(let Z=0;Z<G.length;Z++)sn(G[Z],N,M,H);r(A.anchor,N,M);return}if(Y===fs){_(A,N,M);return}if(H!==2&&W&1&&Q)if(H===0)Q.beforeEnter(K),r(K,N,M),pt(()=>Q.enter(K),$);else{const{leave:Z,delayLeave:ce,afterLeave:oe}=Q,fe=()=>r(K,N,M),Me=()=>{Z(K,()=>{fe(),oe&&oe()})};ce?ce(K,fe,Me):Me()}else r(K,N,M)},Xe=(A,N,M,H=!1,$=!1)=>{const{type:K,props:Y,ref:Q,children:G,dynamicChildren:W,shapeFlag:le,patchFlag:Z,dirs:ce,cacheIndex:oe}=A;if(Z===-2&&($=!1),Q!=null&&Oc(Q,null,M,A,!0),oe!=null&&(N.renderCache[oe]=void 0),le&256){N.ctx.deactivate(A);return}const fe=le&1&&ce,Me=!Vr(A);let xe;if(Me&&(xe=Y&&Y.onVnodeBeforeUnmount)&&Kt(xe,N,A),le&6)Cn(A.component,M,H);else{if(le&128){A.suspense.unmount(M,H);return}fe&&Nn(A,null,N,"beforeUnmount"),le&64?A.type.remove(A,N,M,se,H):W&&!W.hasOnce&&(K!==Ue||Z>0&&Z&64)?qt(W,N,M,!1,!0):(K===Ue&&Z&384||!$&&le&16)&&qt(G,N,M),H&&Ze(A)}(Me&&(xe=Y&&Y.onVnodeUnmounted)||fe)&&pt(()=>{xe&&Kt(xe,N,A),fe&&Nn(A,null,N,"unmounted")},M)},Ze=A=>{const{type:N,el:M,anchor:H,transition:$}=A;if(N===Ue){hr(M,H);return}if(N===fs){P(A);return}const K=()=>{s(M),$&&!$.persisted&&$.afterLeave&&$.afterLeave()};if(A.shapeFlag&1&&$&&!$.persisted){const{leave:Y,delayLeave:Q}=$,G=()=>Y(M,K);Q?Q(A.el,K,G):G()}else K()},hr=(A,N)=>{let M;for(;A!==N;)M=p(A),s(A),A=M;s(N)},Cn=(A,N,M)=>{const{bum:H,scope:$,job:K,subTree:Y,um:Q,m:G,a:W}=A;Nc(G),Nc(W),H&&ni(H),$.stop(),K&&(K.flags|=8,Xe(Y,A,N,M)),Q&&pt(Q,N),pt(()=>{A.isUnmounted=!0},N),N&&N.pendingBranch&&!N.isUnmounted&&A.asyncDep&&!A.asyncResolved&&A.suspenseId===N.pendingId&&(N.deps--,N.deps===0&&N.resolve())},qt=(A,N,M,H=!1,$=!1,K=0)=>{for(let Y=K;Y<A.length;Y++)Xe(A[Y],N,M,H,$)},B=A=>{if(A.shapeFlag&6)return B(A.component.subTree);if(A.shapeFlag&128)return A.suspense.next();const N=p(A.anchor||A.el),M=N&&N[My];return M?p(M):N};let ee=!1;const X=(A,N,M)=>{A==null?N._vnode&&Xe(N._vnode,null,null,!0):R(N._vnode||null,A,N,null,null,null,M),N._vnode=A,ee||(ee=!0,pm(),Pc(),ee=!1)},se={p:R,um:Xe,m:sn,r:Ze,mt:ge,mc:T,pc:ne,pbc:w,n:B,o:t};let Pe,je;return e&&([Pe,je]=e(se)),{render:X,hydrate:Pe,createApp:GA(X,Pe)}}function Ru({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function ns({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function pv(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Kf(t,e,n=!1){const r=t.children,s=e.children;if(ie(r)&&ie(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=Ar(s[i]),a.el=o.el),!n&&a.patchFlag!==-2&&Kf(o,a)),a.type===Mr&&(a.el=o.el)}}function nS(t){const e=t.slice(),n=[0];let r,s,i,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(s=n[n.length-1],t[s]<u){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<u?i=a+1:o=a;u<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function mv(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:mv(e)}function Nc(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const gv=Symbol.for("v-scx"),_v=()=>Qt(gv);function rS(t,e){return ia(t,null,e)}function yv(t,e){return ia(t,null,{flush:"post"})}function vv(t,e){return ia(t,null,{flush:"sync"})}function st(t,e,n){return ia(t,e,n)}function ia(t,e,n=ke){const{immediate:r,deep:s,flush:i,once:o}=n,a=ze({},n);let l;if(oa)if(i==="sync"){const p=_v();l=p.__watcherHandles||(p.__watcherHandles=[])}else if(!e||r)a.once=!0;else return{stop:Tn,resume:Tn,pause:Tn};const u=ct;a.call=(p,g,E)=>dn(p,u,g,E);let h=!1;i==="post"?a.scheduler=p=>{pt(p,u&&u.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(p,g)=>{g?p():Df(p)}),a.augmentJob=p=>{e&&(p.flags|=4),h&&(p.flags|=2,u&&(p.id=u.uid,p.i=u))};const f=zI(t,e,a);return l&&l.push(f),f}function sS(t,e,n){const r=this.proxy,s=Ge(t)?t.includes(".")?Ev(r,t):()=>r[t]:t.bind(r,r);let i;pe(e)?i=e:(i=e.handler,n=e);const o=_s(this),a=ia(s,i.bind(r),n);return o(),a}function Ev(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function iS(t,e,n=ke){const r=Xt(),s=Nt(e),i=Gt(e),o=Tv(t,e),a=Cy((l,u)=>{let h,f=ke,p;return vv(()=>{const g=t[e];jt(h,g)&&(h=g,u())}),{get(){return l(),n.get?n.get(h):h},set(g){const E=n.set?n.set(g):g;if(!jt(E,h)&&!(f!==ke&&jt(g,f)))return;const R=r.vnode.props;R&&(e in R||s in R||i in R)&&(`onUpdate:${e}`in R||`onUpdate:${s}`in R||`onUpdate:${i}`in R)||(h=g,u()),r.emit(`update:${e}`,E),jt(g,E)&&jt(g,f)&&!jt(E,p)&&u(),f=g,p=E}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||ke:a,done:!1}:{done:!0}}}},a}const Tv=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Nt(e)}Modifiers`]||t[`${Gt(e)}Modifiers`];function oS(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||ke;let s=n;const i=e.startsWith("update:"),o=i&&Tv(r,e.slice(7));o&&(o.trim&&(s=n.map(h=>Ge(h)?h.trim():h)),o.number&&(s=n.map(Ic)));let a,l=r[a=uo(e)]||r[a=uo(Nt(e))];!l&&i&&(l=r[a=uo(Gt(e))]),l&&dn(l,t,6,s);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,dn(u,t,6,s)}}function wv(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!pe(t)){const l=u=>{const h=wv(u,e,!0);h&&(a=!0,ze(o,h))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?($e(t)&&r.set(t,null),null):(ie(i)?i.forEach(l=>o[l]=null):ze(o,i),$e(t)&&r.set(t,o),o)}function Rl(t,e){return!t||!Zo(e)?!1:(e=e.slice(2).replace(/Once$/,""),Le(t,e[0].toLowerCase()+e.slice(1))||Le(t,Gt(e))||Le(t,e))}function cc(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:h,props:f,data:p,setupState:g,ctx:E,inheritAttrs:R}=t,S=Do(t);let x,O;try{if(n.shapeFlag&4){const P=s||r,D=P;x=zt(u.call(D,P,h,f,g,p,E)),O=a}else{const P=e;x=zt(P.length>1?P(f,{attrs:a,slots:o,emit:l}):P(f,null)),O=e.props?a:cS(a)}}catch(P){go.length=0,Ss(P,t,1),x=ve(at)}let _=x;if(O&&R!==!1){const P=Object.keys(O),{shapeFlag:D}=_;P.length&&D&7&&(i&&P.some(yf)&&(O=lS(O,i)),_=$n(_,O,!1,!0))}return n.dirs&&(_=$n(_,null,!1,!0),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&sr(_,n.transition),x=_,Do(S),x}function aS(t,e=!0){let n;for(let r=0;r<t.length;r++){const s=t[r];if(Hr(s)){if(s.type!==at||s.children==="v-if"){if(n)return;n=s}}else return}return n}const cS=t=>{let e;for(const n in t)(n==="class"||n==="style"||Zo(n))&&((e||(e={}))[n]=t[n]);return e},lS=(t,e)=>{const n={};for(const r in t)(!yf(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function uS(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Am(r,o,u):!!o;if(l&8){const h=e.dynamicProps;for(let f=0;f<h.length;f++){const p=h[f];if(o[p]!==r[p]&&!Rl(u,p))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Am(r,o,u):!0:!!o;return!1}function Am(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!Rl(n,i))return!0}return!1}function Wf({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const xc=t=>t.__isSuspense;let ph=0;const hS={name:"Suspense",__isSuspense:!0,process(t,e,n,r,s,i,o,a,l,u){if(t==null)dS(e,n,r,s,i,o,a,l,u);else{if(i&&i.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}pS(t,e,n,r,s,o,a,l,u)}},hydrate:mS,normalize:gS},fS=hS;function Mo(t,e){const n=t.props&&t.props[e];pe(n)&&n()}function dS(t,e,n,r,s,i,o,a,l){const{p:u,o:{createElement:h}}=l,f=h("div"),p=t.suspense=bv(t,s,r,e,f,n,i,o,a,l);u(null,p.pendingBranch=t.ssContent,f,null,r,p,i,o),p.deps>0?(Mo(t,"onPending"),Mo(t,"onFallback"),u(null,t.ssFallback,e,n,r,null,i,o),si(p,t.ssFallback)):p.resolve(!1,!0)}function pS(t,e,n,r,s,i,o,a,{p:l,um:u,o:{createElement:h}}){const f=e.suspense=t.suspense;f.vnode=e,e.el=t.el;const p=e.ssContent,g=e.ssFallback,{activeBranch:E,pendingBranch:R,isInFallback:S,isHydrating:x}=f;if(R)f.pendingBranch=p,yn(p,R)?(l(R,p,f.hiddenContainer,null,s,f,i,o,a),f.deps<=0?f.resolve():S&&(x||(l(E,g,n,r,s,null,i,o,a),si(f,g)))):(f.pendingId=ph++,x?(f.isHydrating=!1,f.activeBranch=R):u(R,s,f),f.deps=0,f.effects.length=0,f.hiddenContainer=h("div"),S?(l(null,p,f.hiddenContainer,null,s,f,i,o,a),f.deps<=0?f.resolve():(l(E,g,n,r,s,null,i,o,a),si(f,g))):E&&yn(p,E)?(l(E,p,n,r,s,f,i,o,a),f.resolve(!0)):(l(null,p,f.hiddenContainer,null,s,f,i,o,a),f.deps<=0&&f.resolve()));else if(E&&yn(p,E))l(E,p,n,r,s,f,i,o,a),si(f,p);else if(Mo(e,"onPending"),f.pendingBranch=p,p.shapeFlag&512?f.pendingId=p.component.suspenseId:f.pendingId=ph++,l(null,p,f.hiddenContainer,null,s,f,i,o,a),f.deps<=0)f.resolve();else{const{timeout:O,pendingId:_}=f;O>0?setTimeout(()=>{f.pendingId===_&&f.fallback(g)},O):O===0&&f.fallback(g)}}function bv(t,e,n,r,s,i,o,a,l,u,h=!1){const{p:f,m:p,um:g,n:E,o:{parentNode:R,remove:S}}=u;let x;const O=_S(t);O&&e&&e.pendingBranch&&(x=e.pendingId,e.deps++);const _=t.props?Ac(t.props.timeout):void 0,P=i,D={vnode:t,parent:e,parentComponent:n,namespace:o,container:r,hiddenContainer:s,deps:0,pendingId:ph++,timeout:typeof _=="number"?_:-1,activeBranch:null,pendingBranch:null,isInFallback:!h,isHydrating:h,isUnmounted:!1,effects:[],resolve(L=!1,b=!1){const{vnode:T,activeBranch:y,pendingBranch:w,pendingId:k,effects:C,parentComponent:I,container:ge}=D;let Se=!1;D.isHydrating?D.isHydrating=!1:L||(Se=y&&w.transition&&w.transition.mode==="out-in",Se&&(y.transition.afterLeave=()=>{k===D.pendingId&&(p(w,ge,i===P?E(y):i,0),Cc(C))}),y&&(R(y.el)===ge&&(i=E(y)),g(y,I,D,!0)),Se||p(w,ge,i,0)),si(D,w),D.pendingBranch=null,D.isInFallback=!1;let re=D.parent,me=!1;for(;re;){if(re.pendingBranch){re.effects.push(...C),me=!0;break}re=re.parent}!me&&!Se&&Cc(C),D.effects=[],O&&e&&e.pendingBranch&&x===e.pendingId&&(e.deps--,e.deps===0&&!b&&e.resolve()),Mo(T,"onResolve")},fallback(L){if(!D.pendingBranch)return;const{vnode:b,activeBranch:T,parentComponent:y,container:w,namespace:k}=D;Mo(b,"onFallback");const C=E(T),I=()=>{D.isInFallback&&(f(null,L,w,C,y,null,k,a,l),si(D,L))},ge=L.transition&&L.transition.mode==="out-in";ge&&(T.transition.afterLeave=I),D.isInFallback=!0,g(T,y,null,!0),ge||I()},move(L,b,T){D.activeBranch&&p(D.activeBranch,L,b,T),D.container=L},next(){return D.activeBranch&&E(D.activeBranch)},registerDep(L,b,T){const y=!!D.pendingBranch;y&&D.deps++;const w=L.vnode.el;L.asyncDep.catch(k=>{Ss(k,L,0)}).then(k=>{if(L.isUnmounted||D.isUnmounted||D.pendingId!==L.suspenseId)return;L.asyncResolved=!0;const{vnode:C}=L;yh(L,k,!1),w&&(C.el=w);const I=!w&&L.subTree.el;b(L,C,R(w||L.subTree.el),w?null:E(L.subTree),D,o,T),I&&S(I),Wf(L,C.el),y&&--D.deps===0&&D.resolve()})},unmount(L,b){D.isUnmounted=!0,D.activeBranch&&g(D.activeBranch,n,L,b),D.pendingBranch&&g(D.pendingBranch,n,L,b)}};return D}function mS(t,e,n,r,s,i,o,a,l){const u=e.suspense=bv(e,r,n,t.parentNode,document.createElement("div"),null,s,i,o,a,!0),h=l(t,u.pendingBranch=e.ssContent,n,u,i,o);return u.deps===0&&u.resolve(!1,!0),h}function gS(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=Sm(r?n.default:n),t.ssFallback=r?Sm(n.fallback):ve(at)}function Sm(t){let e;if(pe(t)){const n=gs&&t._c;n&&(t._d=!1,te()),t=t(),n&&(t._d=!0,e=kt,Av())}return ie(t)&&(t=aS(t)),t=zt(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function Iv(t,e){e&&e.pendingBranch?ie(t)?e.effects.push(...t):e.effects.push(t):Cc(t)}function si(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let s=e.el;for(;!s&&e.component;)e=e.component.subTree,s=e.el;n.el=s,r&&r.subTree===n&&(r.vnode.el=s,Wf(r,s))}function _S(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const Ue=Symbol.for("v-fgt"),Mr=Symbol.for("v-txt"),at=Symbol.for("v-cmt"),fs=Symbol.for("v-stc"),go=[];let kt=null;function te(t=!1){go.push(kt=t?null:[])}function Av(){go.pop(),kt=go[go.length-1]||null}let gs=1;function mh(t){gs+=t,t<0&&kt&&(kt.hasOnce=!0)}function Sv(t){return t.dynamicChildren=gs>0?kt||Zs:null,Av(),gs>0&&kt&&kt.push(t),t}function de(t,e,n,r,s,i){return Sv(j(t,e,n,r,s,i,!0))}function Bt(t,e,n,r,s){return Sv(ve(t,e,n,r,s,!0))}function Hr(t){return t?t.__v_isVNode===!0:!1}function yn(t,e){return t.type===e.type&&t.key===e.key}function yS(t){}const Rv=({key:t})=>t??null,lc=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Ge(t)||ht(t)||pe(t)?{i:ut,r:t,k:e,f:!!n}:t:null);function j(t,e=null,n=null,r=0,s=null,i=t===Ue?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Rv(e),ref:e&&lc(e),scopeId:wl,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:ut};return a?(Gf(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=Ge(n)?8:16),gs>0&&!o&&kt&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&kt.push(l),l}const ve=vS;function vS(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===Yy)&&(t=at),Hr(t)){const a=$n(t,e,!0);return n&&Gf(a,n),gs>0&&!i&&kt&&(a.shapeFlag&6?kt[kt.indexOf(t)]=a:kt.push(a)),a.patchFlag=-2,a}if(SS(t)&&(t=t.__vccOpts),e){e=Cv(e);let{class:a,style:l}=e;a&&!Ge(a)&&(e.class=jn(a)),$e(l)&&(Tl(l)&&!ie(l)&&(l=ze({},l)),e.style=ta(l))}const o=Ge(t)?1:xc(t)?128:Ly(t)?64:$e(t)?4:pe(t)?2:0;return j(t,e,n,r,s,o,i,!0)}function Cv(t){return t?Tl(t)||sv(t)?ze({},t):t:null}function $n(t,e,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?Pv(s||{},e):s,h={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Rv(u),ref:e&&e.ref?n&&i?ie(i)?i.concat(lc(e)):[i,lc(e)]:lc(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ue?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&$n(t.ssContent),ssFallback:t.ssFallback&&$n(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&sr(h,l.clone(h)),h}function gt(t=" ",e=0){return ve(Mr,null,t,e)}function zf(t,e){const n=ve(fs,null,t);return n.staticCount=e,n}function ot(t="",e=!1){return e?(te(),Bt(at,null,t)):ve(at,null,t)}function zt(t){return t==null||typeof t=="boolean"?ve(at):ie(t)?ve(Ue,null,t.slice()):typeof t=="object"?Ar(t):ve(Mr,null,String(t))}function Ar(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:$n(t)}function Gf(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(ie(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),Gf(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!sv(e)?e._ctx=ut:s===3&&ut&&(ut.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else pe(e)?(e={default:e,_ctx:ut},n=32):(e=String(e),r&64?(n=16,e=[gt(e)]):n=8);t.children=e,t.shapeFlag|=n}function Pv(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=jn([e.class,r.class]));else if(s==="style")e.style=ta([e.style,r.style]);else if(Zo(s)){const i=e[s],o=r[s];o&&i!==o&&!(ie(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function Kt(t,e,n,r=null){dn(t,e,7,[n,r])}const ES=tv();let TS=0;function Ov(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||ES,i={uid:TS++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new wf(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ov(r,s),emitsOptions:wv(r,s),emit:null,emitted:null,propsDefaults:ke,inheritAttrs:r.inheritAttrs,ctx:ke,data:ke,props:ke,attrs:ke,slots:ke,refs:ke,setupState:ke,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=oS.bind(null,i),t.ce&&t.ce(i),i}let ct=null;const Xt=()=>ct||ut;let Dc,gh;{const t=oy(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};Dc=e("__VUE_INSTANCE_SETTERS__",n=>ct=n),gh=e("__VUE_SSR_SETTERS__",n=>oa=n)}const _s=t=>{const e=ct;return Dc(t),t.scope.on(),()=>{t.scope.off(),Dc(e)}},_h=()=>{ct&&ct.scope.off(),Dc(null)};function kv(t){return t.vnode.shapeFlag&4}let oa=!1;function Nv(t,e=!1,n=!1){e&&gh(e);const{props:r,children:s}=t.vnode,i=kv(t);JA(t,r,i,e),eS(t,s,n);const o=i?wS(t,e):void 0;return e&&gh(!1),o}function wS(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,uh);const{setup:r}=n;if(r){const s=t.setupContext=r.length>1?Dv(t):null,i=_s(t);Gr();const o=Si(r,t,0,[t.props,s]);if(Qr(),i(),Ef(o)){if(Vr(t)||Lf(t),o.then(_h,_h),e)return o.then(a=>{yh(t,a,e)}).catch(a=>{Ss(a,t,0)});t.asyncDep=o}else yh(t,o,e)}else xv(t,e)}function yh(t,e,n){pe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:$e(e)&&(t.setupState=Nf(e)),xv(t,n)}let Vc,vh;function bS(t){Vc=t,vh=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,PA))}}const IS=()=>!Vc;function xv(t,e,n){const r=t.type;if(!t.render){if(!e&&Vc&&!r.render){const s=r.template||Hf(t).template;if(s){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=ze(ze({isCustomElement:i,delimiters:a},o),l);r.render=Vc(s,u)}}t.render=r.render||Tn,vh&&vh(t)}{const s=_s(t);Gr();try{BA(t)}finally{Qr(),s()}}}const AS={get(t,e){return Dt(t,"get",""),t[e]}};function Dv(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,AS),slots:t.slots,emit:t.emit,expose:e}}function aa(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Nf(Sy(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in po)return po[n](t)},has(e,n){return n in e||n in po}})):t.proxy}function Eh(t,e=!0){return pe(t)?t.displayName||t.name:t.name||e&&t.__name}function SS(t){return pe(t)&&"__vccOpts"in t}const Ae=(t,e)=>HI(t,e,oa);function Ri(t,e,n){const r=arguments.length;return r===2?$e(e)&&!ie(e)?Hr(e)?ve(t,null,[e]):ve(t,e):ve(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Hr(n)&&(n=[n]),ve(t,e,n))}function RS(){}function CS(t,e,n,r){const s=n[r];if(s&&Vv(s,t))return s;const i=e();return i.memo=t.slice(),i.cacheIndex=r,n[r]=i}function Vv(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(jt(n[r],e[r]))return!1;return gs>0&&kt&&kt.push(t),!0}const Mv="3.5.5",PS=Tn,OS=XI,kS=Ws,NS=Vy,xS={createComponentInstance:Ov,setupComponent:Nv,renderComponentRoot:cc,setCurrentRenderingInstance:Do,isVNode:Hr,normalizeVNode:zt,getComponentPublicInstance:aa,ensureValidVNode:$f,pushWarningContext:GI,popWarningContext:QI},DS=xS,VS=null,MS=null,LS=null;/**
* @vue/runtime-dom v3.5.5
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Th;const Rm=typeof window<"u"&&window.trustedTypes;if(Rm)try{Th=Rm.createPolicy("vue",{createHTML:t=>t})}catch{}const Lv=Th?t=>Th.createHTML(t):t=>t,FS="http://www.w3.org/2000/svg",US="http://www.w3.org/1998/Math/MathML",Jn=typeof document<"u"?document:null,Cm=Jn&&Jn.createElement("template"),jS={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?Jn.createElementNS(FS,t):e==="mathml"?Jn.createElementNS(US,t):n?Jn.createElement(t,{is:n}):Jn.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>Jn.createTextNode(t),createComment:t=>Jn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Jn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{Cm.innerHTML=Lv(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Cm.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},_r="transition",Xi="animation",fi=Symbol("_vtc"),Fv={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Uv=ze({},Mf,Fv),$S=t=>(t.displayName="Transition",t.props=Uv,t),kr=$S((t,{slots:e})=>Ri($y,jv(t),e)),rs=(t,e=[])=>{ie(t)?t.forEach(n=>n(...e)):t&&t(...e)},Pm=t=>t?ie(t)?t.some(e=>e.length>1):t.length>1:!1;function jv(t){const e={};for(const C in t)C in Fv||(e[C]=t[C]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:u=o,appearToClass:h=a,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:g=`${n}-leave-to`}=t,E=BS(s),R=E&&E[0],S=E&&E[1],{onBeforeEnter:x,onEnter:O,onEnterCancelled:_,onLeave:P,onLeaveCancelled:D,onBeforeAppear:L=x,onAppear:b=O,onAppearCancelled:T=_}=e,y=(C,I,ge)=>{Tr(C,I?h:a),Tr(C,I?u:o),ge&&ge()},w=(C,I)=>{C._isLeaving=!1,Tr(C,f),Tr(C,g),Tr(C,p),I&&I()},k=C=>(I,ge)=>{const Se=C?b:O,re=()=>y(I,C,ge);rs(Se,[I,re]),Om(()=>{Tr(I,C?l:i),Qn(I,C?h:a),Pm(Se)||km(I,r,R,re)})};return ze(e,{onBeforeEnter(C){rs(x,[C]),Qn(C,i),Qn(C,o)},onBeforeAppear(C){rs(L,[C]),Qn(C,l),Qn(C,u)},onEnter:k(!1),onAppear:k(!0),onLeave(C,I){C._isLeaving=!0;const ge=()=>w(C,I);Qn(C,f),Qn(C,p),Bv(),Om(()=>{C._isLeaving&&(Tr(C,f),Qn(C,g),Pm(P)||km(C,r,S,ge))}),rs(P,[C,ge])},onEnterCancelled(C){y(C,!1),rs(_,[C])},onAppearCancelled(C){y(C,!0),rs(T,[C])},onLeaveCancelled(C){w(C),rs(D,[C])}})}function BS(t){if(t==null)return null;if($e(t))return[Cu(t.enter),Cu(t.leave)];{const e=Cu(t);return[e,e]}}function Cu(t){return Ac(t)}function Qn(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[fi]||(t[fi]=new Set)).add(e)}function Tr(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[fi];n&&(n.delete(e),n.size||(t[fi]=void 0))}function Om(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let HS=0;function km(t,e,n,r){const s=t._endId=++HS,i=()=>{s===t._endId&&r()};if(n)return setTimeout(i,n);const{type:o,timeout:a,propCount:l}=$v(t,e);if(!o)return r();const u=o+"end";let h=0;const f=()=>{t.removeEventListener(u,p),i()},p=g=>{g.target===t&&++h>=l&&f()};setTimeout(()=>{h<l&&f()},a+1),t.addEventListener(u,p)}function $v(t,e){const n=window.getComputedStyle(t),r=E=>(n[E]||"").split(", "),s=r(`${_r}Delay`),i=r(`${_r}Duration`),o=Nm(s,i),a=r(`${Xi}Delay`),l=r(`${Xi}Duration`),u=Nm(a,l);let h=null,f=0,p=0;e===_r?o>0&&(h=_r,f=o,p=i.length):e===Xi?u>0&&(h=Xi,f=u,p=l.length):(f=Math.max(o,u),h=f>0?o>u?_r:Xi:null,p=h?h===_r?i.length:l.length:0);const g=h===_r&&/\b(transform|all)(,|$)/.test(r(`${_r}Property`).toString());return{type:h,timeout:f,propCount:p,hasTransform:g}}function Nm(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>xm(n)+xm(t[r])))}function xm(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Bv(){return document.body.offsetHeight}function qS(t,e,n){const r=t[fi];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Mc=Symbol("_vod"),Hv=Symbol("_vsh"),Qf={beforeMount(t,{value:e},{transition:n}){t[Mc]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Zi(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Zi(t,!0),r.enter(t)):r.leave(t,()=>{Zi(t,!1)}):Zi(t,e))},beforeUnmount(t,{value:e}){Zi(t,e)}};function Zi(t,e){t.style.display=e?t[Mc]:"none",t[Hv]=!e}function KS(){Qf.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const qv=Symbol("");function WS(t){const e=Xt();if(!e)return;const n=e.ut=(s=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(i=>Lc(i,s))},r=()=>{const s=t(e.proxy);e.ce?Lc(e.ce,s):wh(e.subTree,s),n(s)};Ff(()=>{yv(r)}),pn(()=>{const s=new MutationObserver(r);s.observe(e.subTree.el.parentNode,{childList:!0}),Cs(()=>s.disconnect())})}function wh(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{wh(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Lc(t.el,e);else if(t.type===Ue)t.children.forEach(n=>wh(n,e));else if(t.type===fs){let{el:n,anchor:r}=t;for(;n&&(Lc(n,e),n!==r);)n=n.nextSibling}}function Lc(t,e){if(t.nodeType===1){const n=t.style;let r="";for(const s in e)n.setProperty(`--${s}`,e[s]),r+=`--${s}: ${e[s]};`;n[qv]=r}}const zS=/(^|;)\s*display\s*:/;function GS(t,e,n){const r=t.style,s=Ge(n);let i=!1;if(n&&!s){if(e)if(Ge(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&uc(r,a,"")}else for(const o in e)n[o]==null&&uc(r,o,"");for(const o in n)o==="display"&&(i=!0),uc(r,o,n[o])}else if(s){if(e!==n){const o=r[qv];o&&(n+=";"+o),r.cssText=n,i=zS.test(n)}}else e&&t.removeAttribute("style");Mc in t&&(t[Mc]=i?r.display:"",t[Hv]&&(r.display="none"))}const Dm=/\s*!important$/;function uc(t,e,n){if(ie(n))n.forEach(r=>uc(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=QS(t,e);Dm.test(n)?t.setProperty(Gt(r),n.replace(Dm,""),"important"):t[r]=n}}const Vm=["Webkit","Moz","ms"],Pu={};function QS(t,e){const n=Pu[e];if(n)return n;let r=Nt(e);if(r!=="filter"&&r in t)return Pu[e]=r;r=ea(r);for(let s=0;s<Vm.length;s++){const i=Vm[s]+r;if(i in t)return Pu[e]=i}return e}const Mm="http://www.w3.org/1999/xlink";function Lm(t,e,n,r,s,i=oI(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Mm,e.slice(6,e.length)):t.setAttributeNS(Mm,e,n):n==null||i&&!ay(n)?t.removeAttribute(e):t.setAttribute(e,i?"":Un(n)?String(n):n)}function JS(t,e,n,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Lv(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const o=s==="OPTION"?t.getAttribute("value")||"":t.value,a=n==null?t.type==="checkbox"?"on":"":String(n);(o!==a||!("_value"in t))&&(t.value=a),n==null&&t.removeAttribute(e),t._value=n;return}let i=!1;if(n===""||n==null){const o=typeof t[e];o==="boolean"?n=ay(n):n==null&&o==="string"?(n="",i=!0):o==="number"&&(n=0,i=!0)}try{t[e]=n}catch{}i&&t.removeAttribute(e)}function Xn(t,e,n,r){t.addEventListener(e,n,r)}function YS(t,e,n,r){t.removeEventListener(e,n,r)}const Fm=Symbol("_vei");function XS(t,e,n,r,s=null){const i=t[Fm]||(t[Fm]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=ZS(e);if(r){const u=i[e]=nR(r,s);Xn(t,a,u,l)}else o&&(YS(t,a,o,l),i[e]=void 0)}}const Um=/(?:Once|Passive|Capture)$/;function ZS(t){let e;if(Um.test(t)){e={};let r;for(;r=t.match(Um);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Gt(t.slice(2)),e]}let Ou=0;const eR=Promise.resolve(),tR=()=>Ou||(eR.then(()=>Ou=0),Ou=Date.now());function nR(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;dn(rR(r,n.value),e,5,[r])};return n.value=t,n.attached=tR(),n}function rR(t,e){if(ie(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const jm=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,sR=(t,e,n,r,s,i)=>{const o=s==="svg";e==="class"?qS(t,r,o):e==="style"?GS(t,n,r):Zo(e)?yf(e)||XS(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):iR(t,e,r,o))?(JS(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Lm(t,e,r,o,i,e!=="value")):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Lm(t,e,r,o))};function iR(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&jm(e)&&pe(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return jm(e)&&Ge(n)?!1:!!(e in t||t._isVueCE&&(/[A-Z]/.test(e)||!Ge(n)))}const $m={};/*! #__NO_SIDE_EFFECTS__ */function Kv(t,e,n){const r=Rs(t,e);dl(r)&&ze(r,e);class s extends Cl{constructor(o){super(r,o,n)}}return s.def=r,s}/*! #__NO_SIDE_EFFECTS__ */const oR=(t,e)=>Kv(t,e,rE),aR=typeof HTMLElement<"u"?HTMLElement:class{};class Cl extends aR{constructor(e,n={},r=jc){super(),this._def=e,this._props=n,this._createApp=r,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&r!==jc?this._root=this.shadowRoot:e.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof Cl){this._parent=e;break}this._instance||(this._resolved?(this._setParent(),this._update()):e&&e._pendingResolve?this._pendingResolve=e._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._instance.provides=e._instance.provides)}disconnectedCallback(){this._connected=!1,na(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const s of r)this._setAttr(s.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(r,s=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:i,styles:o}=r;let a;if(i&&!ie(i))for(const l in i){const u=i[l];(u===Number||u&&u.type===Number)&&(l in this._props&&(this._props[l]=Ac(this._props[l])),(a||(a=Object.create(null)))[Nt(l)]=!0)}this._numberProps=a,s&&this._resolveProps(r),this.shadowRoot&&this._applyStyles(o),this._mount(r)},n=this._def.__asyncLoader;n?this._pendingResolve=n().then(r=>e(this._def=r,!0)):e(this._def)}_mount(e){this._app=this._createApp(e),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const n=this._instance&&this._instance.exposed;if(n)for(const r in n)Le(this,r)||Object.defineProperty(this,r,{get:()=>xt(n[r])})}_resolveProps(e){const{props:n}=e,r=ie(n)?n:Object.keys(n||{});for(const s of Object.keys(this))s[0]!=="_"&&r.includes(s)&&this._setProp(s,this[s]);for(const s of r.map(Nt))Object.defineProperty(this,s,{get(){return this._getProp(s)},set(i){this._setProp(s,i,!0,!0)}})}_setAttr(e){if(e.startsWith("data-v-"))return;const n=this.hasAttribute(e);let r=n?this.getAttribute(e):$m;const s=Nt(e);n&&this._numberProps&&this._numberProps[s]&&(r=Ac(r)),this._setProp(s,r,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,n,r=!0,s=!1){n!==this._props[e]&&(n===$m?delete this._props[e]:(this._props[e]=n,e==="key"&&this._app&&(this._app._ceVNode.key=n)),s&&this._instance&&this._update(),r&&(n===!0?this.setAttribute(Gt(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(Gt(e),n+""):n||this.removeAttribute(Gt(e))))}_update(){nE(this._createVNode(),this._root)}_createVNode(){const e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));const n=ve(this._def,ze(e,this._props));return this._instance||(n.ce=r=>{this._instance=r,r.ce=this,r.isCE=!0;const s=(i,o)=>{this.dispatchEvent(new CustomEvent(i,dl(o[0])?ze({detail:o},o[0]):{detail:o}))};r.emit=(i,...o)=>{s(i,o),Gt(i)!==i&&s(Gt(i),o)},this._setParent()}),n}_applyStyles(e,n){if(!e)return;if(n){if(n===this._def||this._styleChildren.has(n))return;this._styleChildren.add(n)}const r=this._nonce;for(let s=e.length-1;s>=0;s--){const i=document.createElement("style");r&&i.setAttribute("nonce",r),i.textContent=e[s],this.shadowRoot.prepend(i)}}_parseSlots(){const e=this._slots={};let n;for(;n=this.firstChild;){const r=n.nodeType===1&&n.getAttribute("slot")||"default";(e[r]||(e[r]=[])).push(n),this.removeChild(n)}}_renderSlots(){const e=(this._teleportTarget||this).querySelectorAll("slot"),n=this._instance.type.__scopeId;for(let r=0;r<e.length;r++){const s=e[r],i=s.getAttribute("name")||"default",o=this._slots[i],a=s.parentNode;if(o)for(const l of o){if(n&&l.nodeType===1){const u=n+"-s",h=document.createTreeWalker(l,1);l.setAttribute(u,"");let f;for(;f=h.nextNode();)f.setAttribute(u,"")}a.insertBefore(l,s)}else for(;s.firstChild;)a.insertBefore(s.firstChild,s);a.removeChild(s)}}_injectChildStyle(e){this._applyStyles(e.styles,e)}_removeChildStyle(e){}}function Wv(t){const e=Xt(),n=e&&e.ce;return n||null}function cR(){const t=Wv();return t&&t.shadowRoot}function lR(t="$style"){{const e=Xt();if(!e)return ke;const n=e.type.__cssModules;if(!n)return ke;const r=n[t];return r||ke}}const zv=new WeakMap,Gv=new WeakMap,Fc=Symbol("_moveCb"),Bm=Symbol("_enterCb"),uR=t=>(delete t.props.mode,t),hR=uR({name:"TransitionGroup",props:ze({},Uv,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Xt(),r=Vf();let s,i;return Al(()=>{if(!s.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!mR(s[0].el,n.vnode.el,o))return;s.forEach(fR),s.forEach(dR);const a=s.filter(pR);Bv(),a.forEach(l=>{const u=l.el,h=u.style;Qn(u,o),h.transform=h.webkitTransform=h.transitionDuration="";const f=u[Fc]=p=>{p&&p.target!==u||(!p||/transform$/.test(p.propertyName))&&(u.removeEventListener("transitionend",f),u[Fc]=null,Tr(u,o))};u.addEventListener("transitionend",f)})}),()=>{const o=Ce(t),a=jv(o);let l=o.tag||Ue;if(s=[],i)for(let u=0;u<i.length;u++){const h=i[u];h.el&&h.el instanceof Element&&(s.push(h),sr(h,hi(h,a,r,n)),zv.set(h,h.el.getBoundingClientRect()))}i=e.default?bl(e.default()):[];for(let u=0;u<i.length;u++){const h=i[u];h.key!=null&&sr(h,hi(h,a,r,n))}return ve(l,null,i)}}}),Qv=hR;function fR(t){const e=t.el;e[Fc]&&e[Fc](),e[Bm]&&e[Bm]()}function dR(t){Gv.set(t,t.el.getBoundingClientRect())}function pR(t){const e=zv.get(t),n=Gv.get(t),r=e.left-n.left,s=e.top-n.top;if(r||s){const i=t.el.style;return i.transform=i.webkitTransform=`translate(${r}px,${s}px)`,i.transitionDuration="0s",t}}function mR(t,e,n){const r=t.cloneNode(),s=t[fi];s&&s.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(r);const{hasTransform:o}=$v(r);return i.removeChild(r),o}const qr=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ie(e)?n=>ni(e,n):e};function gR(t){t.target.composing=!0}function Hm(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const un=Symbol("_assign"),hn={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[un]=qr(s);const i=r||s.props&&s.props.type==="number";Xn(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=Ic(a)),t[un](a)}),n&&Xn(t,"change",()=>{t.value=t.value.trim()}),e||(Xn(t,"compositionstart",gR),Xn(t,"compositionend",Hm),Xn(t,"change",Hm))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(t[un]=qr(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?Ic(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===l)||(t.value=l))}},Jf={deep:!0,created(t,e,n){t[un]=qr(n),Xn(t,"change",()=>{const r=t._modelValue,s=di(t),i=t.checked,o=t[un];if(ie(r)){const a=ml(r,s),l=a!==-1;if(i&&!l)o(r.concat(s));else if(!i&&l){const u=[...r];u.splice(a,1),o(u)}}else if(As(r)){const a=new Set(r);i?a.add(s):a.delete(s),o(a)}else o(Jv(t,i))})},mounted:qm,beforeUpdate(t,e,n){t[un]=qr(n),qm(t,e,n)}};function qm(t,{value:e,oldValue:n},r){t._modelValue=e;let s;ie(e)?s=ml(e,r.props.value)>-1:As(e)?s=e.has(r.props.value):s=$r(e,Jv(t,!0)),t.checked!==s&&(t.checked=s)}const Yf={created(t,{value:e},n){t.checked=$r(e,n.props.value),t[un]=qr(n),Xn(t,"change",()=>{t[un](di(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[un]=qr(r),e!==n&&(t.checked=$r(e,r.props.value))}},Uc={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const s=As(e);Xn(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Ic(di(o)):di(o));t[un](t.multiple?s?new Set(i):i:i[0]),t._assigning=!0,na(()=>{t._assigning=!1})}),t[un]=qr(r)},mounted(t,{value:e,modifiers:{number:n}}){Km(t,e)},beforeUpdate(t,e,n){t[un]=qr(n)},updated(t,{value:e,modifiers:{number:n}}){t._assigning||Km(t,e)}};function Km(t,e,n){const r=t.multiple,s=ie(e);if(!(r&&!s&&!As(e))){for(let i=0,o=t.options.length;i<o;i++){const a=t.options[i],l=di(a);if(r)if(s){const u=typeof l;u==="string"||u==="number"?a.selected=e.some(h=>String(h)===String(l)):a.selected=ml(e,l)>-1}else a.selected=e.has(l);else if($r(di(a),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function di(t){return"_value"in t?t._value:t.value}function Jv(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const Yv={created(t,e,n){Xa(t,e,n,null,"created")},mounted(t,e,n){Xa(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){Xa(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){Xa(t,e,n,r,"updated")}};function Xv(t,e){switch(t){case"SELECT":return Uc;case"TEXTAREA":return hn;default:switch(e){case"checkbox":return Jf;case"radio":return Yf;default:return hn}}}function Xa(t,e,n,r,s){const o=Xv(t.tagName,n.props&&n.props.type)[s];o&&o(t,e,n,r)}function _R(){hn.getSSRProps=({value:t})=>({value:t}),Yf.getSSRProps=({value:t},e)=>{if(e.props&&$r(e.props.value,t))return{checked:!0}},Jf.getSSRProps=({value:t},e)=>{if(ie(t)){if(e.props&&ml(t,e.props.value)>-1)return{checked:!0}}else if(As(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},Yv.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=Xv(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const yR=["ctrl","shift","alt","meta"],vR={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>yR.some(n=>t[`${n}Key`]&&!e.includes(n))},ds=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(s,...i)=>{for(let o=0;o<e.length;o++){const a=vR[e[o]];if(a&&a(s,e))return}return t(s,...i)})},ER={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},bh=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=s=>{if(!("key"in s))return;const i=Gt(s.key);if(e.some(o=>o===i||ER[o]===i))return t(s)})},Zv=ze({patchProp:sR},jS);let _o,Wm=!1;function eE(){return _o||(_o=hv(Zv))}function tE(){return _o=Wm?_o:fv(Zv),Wm=!0,_o}const nE=(...t)=>{eE().render(...t)},TR=(...t)=>{tE().hydrate(...t)},jc=(...t)=>{const e=eE().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=iE(r);if(!s)return;const i=e._component;!pe(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,sE(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e},rE=(...t)=>{const e=tE().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=iE(r);if(s)return n(s,!0,sE(s))},e};function sE(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function iE(t){return Ge(t)?document.querySelector(t):t}let zm=!1;const wR=()=>{zm||(zm=!0,_R(),KS())};/**
* vue v3.5.5
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const bR=()=>{},IR=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:$y,BaseTransitionPropsValidators:Mf,Comment:at,DeprecationTypes:LS,EffectScope:wf,ErrorCodes:YI,ErrorTypeStrings:OS,Fragment:Ue,KeepAlive:wA,ReactiveEffect:Po,Static:fs,Suspense:fS,Teleport:aA,Text:Mr,TrackOpTypes:qI,Transition:kr,TransitionGroup:Qv,TriggerOpTypes:KI,VueElement:Cl,assertNumber:JI,callWithAsyncErrorHandling:dn,callWithErrorHandling:Si,camelize:Nt,capitalize:ea,cloneVNode:$n,compatUtils:MS,compile:bR,computed:Ae,createApp:jc,createBlock:Bt,createCommentVNode:ot,createElementBlock:de,createElementVNode:j,createHydrationRenderer:fv,createPropsRestProxy:jA,createRenderer:hv,createSSRApp:rE,createSlots:SA,createStaticVNode:zf,createTextVNode:gt,createVNode:ve,customRef:Cy,defineAsyncComponent:EA,defineComponent:Rs,defineCustomElement:Kv,defineEmits:kA,defineExpose:NA,defineModel:VA,defineOptions:xA,defineProps:OA,defineSSRCustomElement:oR,defineSlots:DA,devtools:kS,effect:lI,effectScope:uy,getCurrentInstance:Xt,getCurrentScope:bf,getCurrentWatcher:WI,getTransitionRawChildren:bl,guardReactiveProps:Cv,h:Ri,handleError:Ss,hasInjectionContext:QA,hydrate:TR,hydrateOnIdle:mA,hydrateOnInteraction:yA,hydrateOnMediaQuery:_A,hydrateOnVisible:gA,initCustomFormatter:RS,initDirectivesForSSR:wR,inject:Qt,isMemoSame:Vv,isProxy:Tl,isReactive:Dr,isReadonly:Br,isRef:ht,isRuntimeOnly:IS,isShallow:tn,isVNode:Hr,markRaw:Sy,mergeDefaults:FA,mergeModels:UA,mergeProps:Pv,nextTick:na,normalizeClass:jn,normalizeProps:sI,normalizeStyle:ta,onActivated:Hy,onBeforeMount:Ff,onBeforeUnmount:Sl,onBeforeUpdate:Wy,onDeactivated:qy,onErrorCaptured:Jy,onMounted:pn,onRenderTracked:Qy,onRenderTriggered:Gy,onScopeDispose:hy,onServerPrefetch:zy,onUnmounted:Cs,onUpdated:Al,onWatcherCleanup:Oy,openBlock:te,popScopeId:nA,provide:mo,proxyRefs:Nf,pushScopeId:tA,queuePostFlushCb:Cc,reactive:qn,readonly:Pf,ref:ye,registerRuntimeCompiler:bS,render:nE,renderList:vn,renderSlot:RA,resolveComponent:sa,resolveDirective:AA,resolveDynamicComponent:Xy,resolveFilter:VS,resolveTransitionHooks:hi,setBlockTracking:mh,setDevtoolsHook:NS,setTransitionHooks:sr,shallowReactive:Cf,shallowReadonly:NI,shallowRef:kf,ssrContextKey:gv,ssrUtils:DS,stop:uI,toDisplayString:Ke,toHandlerKey:uo,toHandlers:CA,toRaw:Ce,toRef:$I,toRefs:FI,toValue:VI,transformVNodeArgs:yS,triggerRef:DI,unref:xt,useAttrs:LA,useCssModule:lR,useCssVars:WS,useHost:Wv,useId:lA,useModel:iS,useSSRContext:_v,useShadowRoot:cR,useSlots:Bf,useTemplateRef:uA,useTransitionState:Vf,vModelCheckbox:Jf,vModelDynamic:Yv,vModelRadio:Yf,vModelSelect:Uc,vModelText:hn,vShow:Qf,version:Mv,warn:PS,watch:st,watchEffect:rS,watchPostEffect:yv,watchSyncEffect:vv,withAsyncContext:$A,withCtx:Je,withDefaults:MA,withDirectives:ln,withKeys:bh,withMemo:CS,withModifiers:ds,withScopeId:rA},Symbol.toStringTag,{value:"Module"}));function AR(){return oE().__VUE_DEVTOOLS_GLOBAL_HOOK__}function oE(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const SR=typeof Proxy=="function",RR="devtools-plugin:setup",CR="plugin:settings:set";let Bs,Ih;function aE(){var t;return Bs!==void 0||(typeof window<"u"&&window.performance?(Bs=!0,Ih=window.performance):typeof globalThis<"u"&&(!((t=globalThis.perf_hooks)===null||t===void 0)&&t.performance)?(Bs=!0,Ih=globalThis.perf_hooks.performance):Bs=!1),Bs}function cE(){return aE()?Ih.now():Date.now()}class PR{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const r={};if(e.settings)for(const o in e.settings){const a=e.settings[o];r[o]=a.defaultValue}const s=`__vue-devtools-plugin-settings__${e.id}`;let i=Object.assign({},r);try{const o=localStorage.getItem(s),a=JSON.parse(o);Object.assign(i,a)}catch{}this.fallbacks={getSettings(){return i},setSettings(o){try{localStorage.setItem(s,JSON.stringify(o))}catch{}i=o},now(){return cE()}},n&&n.on(CR,(o,a)=>{o===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(o,a)=>this.target?this.target.on[a]:(...l)=>{this.onQueue.push({method:a,args:l})}}),this.proxiedTarget=new Proxy({},{get:(o,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...l)=>(this.targetQueue.push({method:a,args:l,resolve:()=>{}}),this.fallbacks[a](...l)):(...l)=>new Promise(u=>{this.targetQueue.push({method:a,args:l,resolve:u})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function lE(t,e){const n=t,r=oE(),s=AR(),i=SR&&n.enableEarlyProxy;if(s&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!i))s.emit(RR,t,e);else{const o=i?new PR(n,s):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:o}),o&&e(o.proxiedTarget)}}const OR=Object.freeze(Object.defineProperty({__proto__:null,isPerformanceSupported:aE,now:cE,setupDevtoolsPlugin:lE},Symbol.toStringTag,{value:"Module"}));/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var uE="store";function Xf(t){return t===void 0&&(t=null),Qt(t!==null?t:uE)}function Ci(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function kR(t){return t!==null&&typeof t=="object"}function NR(t){return t&&typeof t.then=="function"}function xR(t,e){return function(){return t(e)}}function hE(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var r=e.indexOf(t);r>-1&&e.splice(r,1)}}function fE(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;Pl(t,n,[],t._modules.root,!0),Zf(t,n,e)}function Zf(t,e,n){var r=t._state,s=t._scope;t.getters={},t._makeLocalGettersCache=Object.create(null);var i=t._wrappedGetters,o={},a={},l=uy(!0);l.run(function(){Ci(i,function(u,h){o[h]=xR(u,t),a[h]=Ae(function(){return o[h]()}),Object.defineProperty(t.getters,h,{get:function(){return a[h].value},enumerable:!0})})}),t._state=qn({data:e}),t._scope=l,t.strict&&FR(t),r&&n&&t._withCommit(function(){r.data=null}),s&&s.stop()}function Pl(t,e,n,r,s){var i=!n.length,o=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[o],t._modulesNamespaceMap[o]=r),!i&&!s){var a=ed(e,n.slice(0,-1)),l=n[n.length-1];t._withCommit(function(){a[l]=r.state})}var u=r.context=DR(t,o,n);r.forEachMutation(function(h,f){var p=o+f;VR(t,p,h,u)}),r.forEachAction(function(h,f){var p=h.root?f:o+f,g=h.handler||h;MR(t,p,g,u)}),r.forEachGetter(function(h,f){var p=o+f;LR(t,p,h,u)}),r.forEachChild(function(h,f){Pl(t,e,n.concat(f),h,s)})}function DR(t,e,n){var r=e==="",s={dispatch:r?t.dispatch:function(i,o,a){var l=$c(i,o,a),u=l.payload,h=l.options,f=l.type;return(!h||!h.root)&&(f=e+f),t.dispatch(f,u)},commit:r?t.commit:function(i,o,a){var l=$c(i,o,a),u=l.payload,h=l.options,f=l.type;(!h||!h.root)&&(f=e+f),t.commit(f,u,h)}};return Object.defineProperties(s,{getters:{get:r?function(){return t.getters}:function(){return dE(t,e)}},state:{get:function(){return ed(t.state,n)}}}),s}function dE(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach(function(s){if(s.slice(0,r)===e){var i=s.slice(r);Object.defineProperty(n,i,{get:function(){return t.getters[s]},enumerable:!0})}}),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function VR(t,e,n,r){var s=t._mutations[e]||(t._mutations[e]=[]);s.push(function(o){n.call(t,r.state,o)})}function MR(t,e,n,r){var s=t._actions[e]||(t._actions[e]=[]);s.push(function(o){var a=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},o);return NR(a)||(a=Promise.resolve(a)),t._devtoolHook?a.catch(function(l){throw t._devtoolHook.emit("vuex:error",l),l}):a})}function LR(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(i){return n(r.state,r.getters,i.state,i.getters)})}function FR(t){st(function(){return t._state.data},function(){},{deep:!0,flush:"sync"})}function ed(t,e){return e.reduce(function(n,r){return n[r]},t)}function $c(t,e,n){return kR(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}var UR="vuex bindings",Gm="vuex:mutations",ku="vuex:actions",Hs="vuex",jR=0;function $R(t,e){lE({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[UR]},function(n){n.addTimelineLayer({id:Gm,label:"Vuex Mutations",color:Qm}),n.addTimelineLayer({id:ku,label:"Vuex Actions",color:Qm}),n.addInspector({id:Hs,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===t&&r.inspectorId===Hs)if(r.filter){var s=[];_E(s,e._modules.root,r.filter,""),r.rootNodes=s}else r.rootNodes=[gE(e._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===t&&r.inspectorId===Hs){var s=r.nodeId;dE(e,s),r.state=qR(WR(e._modules,s),s==="root"?e.getters:e._makeLocalGettersCache,s)}}),n.on.editInspectorState(function(r){if(r.app===t&&r.inspectorId===Hs){var s=r.nodeId,i=r.path;s!=="root"&&(i=s.split("/").filter(Boolean).concat(i)),e._withCommit(function(){r.set(e._state.data,i,r.state.value)})}}),e.subscribe(function(r,s){var i={};r.payload&&(i.payload=r.payload),i.state=s,n.notifyComponentUpdate(),n.sendInspectorTree(Hs),n.sendInspectorState(Hs),n.addTimelineEvent({layerId:Gm,event:{time:Date.now(),title:r.type,data:i}})}),e.subscribeAction({before:function(r,s){var i={};r.payload&&(i.payload=r.payload),r._id=jR++,r._time=Date.now(),i.state=s,n.addTimelineEvent({layerId:ku,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:i}})},after:function(r,s){var i={},o=Date.now()-r._time;i.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},r.payload&&(i.payload=r.payload),i.state=s,n.addTimelineEvent({layerId:ku,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:i}})}})})}var Qm=8702998,BR=6710886,HR=16777215,pE={label:"namespaced",textColor:HR,backgroundColor:BR};function mE(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function gE(t,e){return{id:e||"root",label:mE(e),tags:t.namespaced?[pE]:[],children:Object.keys(t._children).map(function(n){return gE(t._children[n],e+n+"/")})}}function _E(t,e,n,r){r.includes(n)&&t.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:e.namespaced?[pE]:[]}),Object.keys(e._children).forEach(function(s){_E(t,e._children[s],n,r+s+"/")})}function qR(t,e,n){e=n==="root"?e:e[n];var r=Object.keys(e),s={state:Object.keys(t.state).map(function(o){return{key:o,editable:!0,value:t.state[o]}})};if(r.length){var i=KR(e);s.getters=Object.keys(i).map(function(o){return{key:o.endsWith("/")?mE(o):o,editable:!1,value:Ah(function(){return i[o]})}})}return s}function KR(t){var e={};return Object.keys(t).forEach(function(n){var r=n.split("/");if(r.length>1){var s=e,i=r.pop();r.forEach(function(o){s[o]||(s[o]={_custom:{value:{},display:o,tooltip:"Module",abstract:!0}}),s=s[o]._custom.value}),s[i]=Ah(function(){return t[n]})}else e[n]=Ah(function(){return t[n]})}),e}function WR(t,e){var n=e.split("/").filter(function(r){return r});return n.reduce(function(r,s,i){var o=r[s];if(!o)throw new Error('Missing module "'+s+'" for path "'+e+'".');return i===n.length-1?o:o._children},e==="root"?t:t.root._children)}function Ah(t){try{return t()}catch(e){return e}}var An=function(e,n){this.runtime=n,this._children=Object.create(null),this._rawModule=e;var r=e.state;this.state=(typeof r=="function"?r():r)||{}},yE={namespaced:{configurable:!0}};yE.namespaced.get=function(){return!!this._rawModule.namespaced};An.prototype.addChild=function(e,n){this._children[e]=n};An.prototype.removeChild=function(e){delete this._children[e]};An.prototype.getChild=function(e){return this._children[e]};An.prototype.hasChild=function(e){return e in this._children};An.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};An.prototype.forEachChild=function(e){Ci(this._children,e)};An.prototype.forEachGetter=function(e){this._rawModule.getters&&Ci(this._rawModule.getters,e)};An.prototype.forEachAction=function(e){this._rawModule.actions&&Ci(this._rawModule.actions,e)};An.prototype.forEachMutation=function(e){this._rawModule.mutations&&Ci(this._rawModule.mutations,e)};Object.defineProperties(An.prototype,yE);var Ps=function(e){this.register([],e,!1)};Ps.prototype.get=function(e){return e.reduce(function(n,r){return n.getChild(r)},this.root)};Ps.prototype.getNamespace=function(e){var n=this.root;return e.reduce(function(r,s){return n=n.getChild(s),r+(n.namespaced?s+"/":"")},"")};Ps.prototype.update=function(e){vE([],this.root,e)};Ps.prototype.register=function(e,n,r){var s=this;r===void 0&&(r=!0);var i=new An(n,r);if(e.length===0)this.root=i;else{var o=this.get(e.slice(0,-1));o.addChild(e[e.length-1],i)}n.modules&&Ci(n.modules,function(a,l){s.register(e.concat(l),a,r)})};Ps.prototype.unregister=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1],s=n.getChild(r);s&&s.runtime&&n.removeChild(r)};Ps.prototype.isRegistered=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1];return n?n.hasChild(r):!1};function vE(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return;vE(t.concat(r),e.getChild(r),n.modules[r])}}function zR(t){return new Zt(t)}var Zt=function(e){var n=this;e===void 0&&(e={});var r=e.plugins;r===void 0&&(r=[]);var s=e.strict;s===void 0&&(s=!1);var i=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Ps(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=i;var o=this,a=this,l=a.dispatch,u=a.commit;this.dispatch=function(p,g){return l.call(o,p,g)},this.commit=function(p,g,E){return u.call(o,p,g,E)},this.strict=s;var h=this._modules.root.state;Pl(this,h,[],this._modules.root),Zf(this,h),r.forEach(function(f){return f(n)})},td={state:{configurable:!0}};Zt.prototype.install=function(e,n){e.provide(n||uE,this),e.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&$R(e,this)};td.state.get=function(){return this._state.data};td.state.set=function(t){};Zt.prototype.commit=function(e,n,r){var s=this,i=$c(e,n,r),o=i.type,a=i.payload,l={type:o,payload:a},u=this._mutations[o];u&&(this._withCommit(function(){u.forEach(function(f){f(a)})}),this._subscribers.slice().forEach(function(h){return h(l,s.state)}))};Zt.prototype.dispatch=function(e,n){var r=this,s=$c(e,n),i=s.type,o=s.payload,a={type:i,payload:o},l=this._actions[i];if(l){try{this._actionSubscribers.slice().filter(function(h){return h.before}).forEach(function(h){return h.before(a,r.state)})}catch{}var u=l.length>1?Promise.all(l.map(function(h){return h(o)})):l[0](o);return new Promise(function(h,f){u.then(function(p){try{r._actionSubscribers.filter(function(g){return g.after}).forEach(function(g){return g.after(a,r.state)})}catch{}h(p)},function(p){try{r._actionSubscribers.filter(function(g){return g.error}).forEach(function(g){return g.error(a,r.state,p)})}catch{}f(p)})})}};Zt.prototype.subscribe=function(e,n){return hE(e,this._subscribers,n)};Zt.prototype.subscribeAction=function(e,n){var r=typeof e=="function"?{before:e}:e;return hE(r,this._actionSubscribers,n)};Zt.prototype.watch=function(e,n,r){var s=this;return st(function(){return e(s.state,s.getters)},n,Object.assign({},r))};Zt.prototype.replaceState=function(e){var n=this;this._withCommit(function(){n._state.data=e})};Zt.prototype.registerModule=function(e,n,r){r===void 0&&(r={}),typeof e=="string"&&(e=[e]),this._modules.register(e,n),Pl(this,this.state,e,this._modules.get(e),r.preserveState),Zf(this,this.state)};Zt.prototype.unregisterModule=function(e){var n=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var r=ed(n.state,e.slice(0,-1));delete r[e[e.length-1]]}),fE(this)};Zt.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};Zt.prototype.hotUpdate=function(e){this._modules.update(e),fE(this,!0)};Zt.prototype._withCommit=function(e){var n=this._committing;this._committing=!0,e(),this._committing=n};Object.defineProperties(Zt.prototype,td);const GR="/Cook-Castle/logo.png";/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const zs=typeof document<"u";function EE(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function QR(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&EE(t.default)}const Fe=Object.assign;function Nu(t,e){const n={};for(const r in e){const s=e[r];n[r]=bn(s)?s.map(t):t(s)}return n}const yo=()=>{},bn=Array.isArray,TE=/#/g,JR=/&/g,YR=/\//g,XR=/=/g,ZR=/\?/g,wE=/\+/g,eC=/%5B/g,tC=/%5D/g,bE=/%5E/g,nC=/%60/g,IE=/%7B/g,rC=/%7C/g,AE=/%7D/g,sC=/%20/g;function nd(t){return encodeURI(""+t).replace(rC,"|").replace(eC,"[").replace(tC,"]")}function iC(t){return nd(t).replace(IE,"{").replace(AE,"}").replace(bE,"^")}function Sh(t){return nd(t).replace(wE,"%2B").replace(sC,"+").replace(TE,"%23").replace(JR,"%26").replace(nC,"`").replace(IE,"{").replace(AE,"}").replace(bE,"^")}function oC(t){return Sh(t).replace(XR,"%3D")}function aC(t){return nd(t).replace(TE,"%23").replace(ZR,"%3F")}function cC(t){return t==null?"":aC(t).replace(YR,"%2F")}function Lo(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const lC=/\/$/,uC=t=>t.replace(lC,"");function xu(t,e,n="/"){let r,s={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),s=t(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=pC(r??e,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:Lo(o)}}function hC(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Jm(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function fC(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&pi(e.matched[r],n.matched[s])&&SE(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function pi(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function SE(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!dC(t[n],e[n]))return!1;return!0}function dC(t,e){return bn(t)?Ym(t,e):bn(e)?Ym(e,t):t===e}function Ym(t,e){return bn(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function pC(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const yr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Fo;(function(t){t.pop="pop",t.push="push"})(Fo||(Fo={}));var vo;(function(t){t.back="back",t.forward="forward",t.unknown=""})(vo||(vo={}));function mC(t){if(!t)if(zs){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),uC(t)}const gC=/^[^#]+#/;function _C(t,e){return t.replace(gC,"#")+e}function yC(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Ol=()=>({left:window.scrollX,top:window.scrollY});function vC(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=yC(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Xm(t,e){return(history.state?history.state.position-e:-1)+t}const Rh=new Map;function EC(t,e){Rh.set(t,e)}function TC(t){const e=Rh.get(t);return Rh.delete(t),e}let wC=()=>location.protocol+"//"+location.host;function RE(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let a=s.includes(t.slice(i))?t.slice(i).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),Jm(l,"")}return Jm(n,t)+r+s}function bC(t,e,n,r){let s=[],i=[],o=null;const a=({state:p})=>{const g=RE(t,location),E=n.value,R=e.value;let S=0;if(p){if(n.value=g,e.value=p,o&&o===E){o=null;return}S=R?p.position-R.position:0}else r(g);s.forEach(x=>{x(n.value,E,{delta:S,type:Fo.pop,direction:S?S>0?vo.forward:vo.back:vo.unknown})})};function l(){o=n.value}function u(p){s.push(p);const g=()=>{const E=s.indexOf(p);E>-1&&s.splice(E,1)};return i.push(g),g}function h(){const{history:p}=window;p.state&&p.replaceState(Fe({},p.state,{scroll:Ol()}),"")}function f(){for(const p of i)p();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:l,listen:u,destroy:f}}function Zm(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?Ol():null}}function IC(t){const{history:e,location:n}=window,r={value:RE(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,u,h){const f=t.indexOf("#"),p=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+l:wC()+t+l;try{e[h?"replaceState":"pushState"](u,"",p),s.value=u}catch(g){console.error(g),n[h?"replace":"assign"](p)}}function o(l,u){const h=Fe({},e.state,Zm(s.value.back,l,s.value.forward,!0),u,{position:s.value.position});i(l,h,!0),r.value=l}function a(l,u){const h=Fe({},s.value,e.state,{forward:l,scroll:Ol()});i(h.current,h,!0);const f=Fe({},Zm(r.value,l,null),{position:h.position+1},u);i(l,f,!1),r.value=l}return{location:r,state:s,push:a,replace:o}}function AC(t){t=mC(t);const e=IC(t),n=bC(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=Fe({location:"",base:t,go:r,createHref:_C.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function SC(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),AC(t)}function RC(t){return typeof t=="string"||t&&typeof t=="object"}function CE(t){return typeof t=="string"||typeof t=="symbol"}const PE=Symbol("");var eg;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(eg||(eg={}));function mi(t,e){return Fe(new Error,{type:t,[PE]:!0},e)}function Gn(t,e){return t instanceof Error&&PE in t&&(e==null||!!(t.type&e))}const tg="[^/]+?",CC={sensitive:!1,strict:!1,start:!0,end:!0},PC=/[.+*?^${}()[\]/\\]/g;function OC(t,e){const n=Fe({},CC,e),r=[];let s=n.start?"^":"";const i=[];for(const u of t){const h=u.length?[]:[90];n.strict&&!u.length&&(s+="/");for(let f=0;f<u.length;f++){const p=u[f];let g=40+(n.sensitive?.25:0);if(p.type===0)f||(s+="/"),s+=p.value.replace(PC,"\\$&"),g+=40;else if(p.type===1){const{value:E,repeatable:R,optional:S,regexp:x}=p;i.push({name:E,repeatable:R,optional:S});const O=x||tg;if(O!==tg){g+=10;try{new RegExp(`(${O})`)}catch(P){throw new Error(`Invalid custom RegExp for param "${E}" (${O}): `+P.message)}}let _=R?`((?:${O})(?:/(?:${O}))*)`:`(${O})`;f||(_=S&&u.length<2?`(?:/${_})`:"/"+_),S&&(_+="?"),s+=_,g+=20,S&&(g+=-8),R&&(g+=-20),O===".*"&&(g+=-50)}h.push(g)}r.push(h)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(u){const h=u.match(o),f={};if(!h)return null;for(let p=1;p<h.length;p++){const g=h[p]||"",E=i[p-1];f[E.name]=g&&E.repeatable?g.split("/"):g}return f}function l(u){let h="",f=!1;for(const p of t){(!f||!h.endsWith("/"))&&(h+="/"),f=!1;for(const g of p)if(g.type===0)h+=g.value;else if(g.type===1){const{value:E,repeatable:R,optional:S}=g,x=E in u?u[E]:"";if(bn(x)&&!R)throw new Error(`Provided param "${E}" is an array but it is not repeatable (* or + modifiers)`);const O=bn(x)?x.join("/"):x;if(!O)if(S)p.length<2&&(h.endsWith("/")?h=h.slice(0,-1):f=!0);else throw new Error(`Missing required param "${E}"`);h+=O}}return h||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function kC(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function OE(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=kC(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(ng(r))return 1;if(ng(s))return-1}return s.length-r.length}function ng(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const NC={type:0,value:""},xC=/[a-zA-Z0-9_]/;function DC(t){if(!t)return[[]];if(t==="/")return[[NC]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${n})/"${u}": ${g}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,l,u="",h="";function f(){u&&(n===0?i.push({type:0,value:u}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:h,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function p(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&f(),o()):l===":"?(f(),n=1):p();break;case 4:p(),n=r;break;case 1:l==="("?n=2:xC.test(l)?p():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+l:n=3:h+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,h="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),f(),o(),s}function VC(t,e,n){const r=OC(DC(t.path),n),s=Fe(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function MC(t,e){const n=[],r=new Map;e=og({strict:!1,end:!0,sensitive:!1},e);function s(f){return r.get(f)}function i(f,p,g){const E=!g,R=sg(f);R.aliasOf=g&&g.record;const S=og(e,f),x=[R];if("alias"in f){const P=typeof f.alias=="string"?[f.alias]:f.alias;for(const D of P)x.push(sg(Fe({},R,{components:g?g.record.components:R.components,path:D,aliasOf:g?g.record:R})))}let O,_;for(const P of x){const{path:D}=P;if(p&&D[0]!=="/"){const L=p.record.path,b=L[L.length-1]==="/"?"":"/";P.path=p.record.path+(D&&b+D)}if(O=VC(P,p,S),g?g.alias.push(O):(_=_||O,_!==O&&_.alias.push(O),E&&f.name&&!ig(O)&&o(f.name)),kE(O)&&l(O),R.children){const L=R.children;for(let b=0;b<L.length;b++)i(L[b],O,g&&g.children[b])}g=g||O}return _?()=>{o(_)}:yo}function o(f){if(CE(f)){const p=r.get(f);p&&(r.delete(f),n.splice(n.indexOf(p),1),p.children.forEach(o),p.alias.forEach(o))}else{const p=n.indexOf(f);p>-1&&(n.splice(p,1),f.record.name&&r.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return n}function l(f){const p=UC(f,n);n.splice(p,0,f),f.record.name&&!ig(f)&&r.set(f.record.name,f)}function u(f,p){let g,E={},R,S;if("name"in f&&f.name){if(g=r.get(f.name),!g)throw mi(1,{location:f});S=g.record.name,E=Fe(rg(p.params,g.keys.filter(_=>!_.optional).concat(g.parent?g.parent.keys.filter(_=>_.optional):[]).map(_=>_.name)),f.params&&rg(f.params,g.keys.map(_=>_.name))),R=g.stringify(E)}else if(f.path!=null)R=f.path,g=n.find(_=>_.re.test(R)),g&&(E=g.parse(R),S=g.record.name);else{if(g=p.name?r.get(p.name):n.find(_=>_.re.test(p.path)),!g)throw mi(1,{location:f,currentLocation:p});S=g.record.name,E=Fe({},p.params,f.params),R=g.stringify(E)}const x=[];let O=g;for(;O;)x.unshift(O.record),O=O.parent;return{name:S,path:R,params:E,matched:x,meta:FC(x)}}t.forEach(f=>i(f));function h(){n.length=0,r.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:h,getRoutes:a,getRecordMatcher:s}}function rg(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function sg(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:LC(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function LC(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function ig(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function FC(t){return t.reduce((e,n)=>Fe(e,n.meta),{})}function og(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function UC(t,e){let n=0,r=e.length;for(;n!==r;){const i=n+r>>1;OE(t,e[i])<0?r=i:n=i+1}const s=jC(t);return s&&(r=e.lastIndexOf(s,r-1)),r}function jC(t){let e=t;for(;e=e.parent;)if(kE(e)&&OE(t,e)===0)return e}function kE({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function $C(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(wE," "),o=i.indexOf("="),a=Lo(o<0?i:i.slice(0,o)),l=o<0?null:Lo(i.slice(o+1));if(a in e){let u=e[a];bn(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function ag(t){let e="";for(let n in t){const r=t[n];if(n=oC(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(bn(r)?r.map(i=>i&&Sh(i)):[r&&Sh(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function BC(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=bn(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const HC=Symbol(""),cg=Symbol(""),kl=Symbol(""),rd=Symbol(""),Ch=Symbol("");function eo(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Sr(t,e,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((a,l)=>{const u=p=>{p===!1?l(mi(4,{from:n,to:e})):p instanceof Error?l(p):RC(p)?l(mi(2,{from:e,to:p})):(o&&r.enterCallbacks[s]===o&&typeof p=="function"&&o.push(p),a())},h=i(()=>t.call(r&&r.instances[s],e,n,u));let f=Promise.resolve(h);t.length<3&&(f=f.then(u)),f.catch(p=>l(p))})}function Du(t,e,n,r,s=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(EE(l)){const h=(l.__vccOpts||l)[e];h&&i.push(Sr(h,n,r,o,a,s))}else{let u=l();i.push(()=>u.then(h=>{if(!h)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=QR(h)?h.default:h;o.mods[a]=h,o.components[a]=f;const g=(f.__vccOpts||f)[e];return g&&Sr(g,n,r,o,a,s)()}))}}return i}function lg(t){const e=Qt(kl),n=Qt(rd),r=Ae(()=>{const l=xt(t.to);return e.resolve(l)}),s=Ae(()=>{const{matched:l}=r.value,{length:u}=l,h=l[u-1],f=n.matched;if(!h||!f.length)return-1;const p=f.findIndex(pi.bind(null,h));if(p>-1)return p;const g=ug(l[u-2]);return u>1&&ug(h)===g&&f[f.length-1].path!==g?f.findIndex(pi.bind(null,l[u-2])):p}),i=Ae(()=>s.value>-1&&zC(n.params,r.value.params)),o=Ae(()=>s.value>-1&&s.value===n.matched.length-1&&SE(n.params,r.value.params));function a(l={}){return WC(l)?e[xt(t.replace)?"replace":"push"](xt(t.to)).catch(yo):Promise.resolve()}return{route:r,href:Ae(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}const qC=Rs({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:lg,setup(t,{slots:e}){const n=qn(lg(t)),{options:r}=Qt(kl),s=Ae(()=>({[hg(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[hg(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:Ri("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),KC=qC;function WC(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function zC(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!bn(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function ug(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const hg=(t,e,n)=>t??e??n,GC=Rs({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Qt(Ch),s=Ae(()=>t.route||r.value),i=Qt(cg,0),o=Ae(()=>{let u=xt(i);const{matched:h}=s.value;let f;for(;(f=h[u])&&!f.components;)u++;return u}),a=Ae(()=>s.value.matched[o.value]);mo(cg,Ae(()=>o.value+1)),mo(HC,a),mo(Ch,s);const l=ye();return st(()=>[l.value,a.value,t.name],([u,h,f],[p,g,E])=>{h&&(h.instances[f]=u,g&&g!==h&&u&&u===p&&(h.leaveGuards.size||(h.leaveGuards=g.leaveGuards),h.updateGuards.size||(h.updateGuards=g.updateGuards))),u&&h&&(!g||!pi(h,g)||!p)&&(h.enterCallbacks[f]||[]).forEach(R=>R(u))},{flush:"post"}),()=>{const u=s.value,h=t.name,f=a.value,p=f&&f.components[h];if(!p)return fg(n.default,{Component:p,route:u});const g=f.props[h],E=g?g===!0?u.params:typeof g=="function"?g(u):g:null,S=Ri(p,Fe({},E,e,{onVnodeUnmounted:x=>{x.component.isUnmounted&&(f.instances[h]=null)},ref:l}));return fg(n.default,{Component:S,route:u})||S}}});function fg(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const QC=GC;function JC(t){const e=MC(t.routes,t),n=t.parseQuery||$C,r=t.stringifyQuery||ag,s=t.history,i=eo(),o=eo(),a=eo(),l=kf(yr);let u=yr;zs&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=Nu.bind(null,B=>""+B),f=Nu.bind(null,cC),p=Nu.bind(null,Lo);function g(B,ee){let X,se;return CE(B)?(X=e.getRecordMatcher(B),se=ee):se=B,e.addRoute(se,X)}function E(B){const ee=e.getRecordMatcher(B);ee&&e.removeRoute(ee)}function R(){return e.getRoutes().map(B=>B.record)}function S(B){return!!e.getRecordMatcher(B)}function x(B,ee){if(ee=Fe({},ee||l.value),typeof B=="string"){const N=xu(n,B,ee.path),M=e.resolve({path:N.path},ee),H=s.createHref(N.fullPath);return Fe(N,M,{params:p(M.params),hash:Lo(N.hash),redirectedFrom:void 0,href:H})}let X;if(B.path!=null)X=Fe({},B,{path:xu(n,B.path,ee.path).path});else{const N=Fe({},B.params);for(const M in N)N[M]==null&&delete N[M];X=Fe({},B,{params:f(N)}),ee.params=f(ee.params)}const se=e.resolve(X,ee),Pe=B.hash||"";se.params=h(p(se.params));const je=hC(r,Fe({},B,{hash:iC(Pe),path:se.path})),A=s.createHref(je);return Fe({fullPath:je,hash:Pe,query:r===ag?BC(B.query):B.query||{}},se,{redirectedFrom:void 0,href:A})}function O(B){return typeof B=="string"?xu(n,B,l.value.path):Fe({},B)}function _(B,ee){if(u!==B)return mi(8,{from:ee,to:B})}function P(B){return b(B)}function D(B){return P(Fe(O(B),{replace:!0}))}function L(B){const ee=B.matched[B.matched.length-1];if(ee&&ee.redirect){const{redirect:X}=ee;let se=typeof X=="function"?X(B):X;return typeof se=="string"&&(se=se.includes("?")||se.includes("#")?se=O(se):{path:se},se.params={}),Fe({query:B.query,hash:B.hash,params:se.path!=null?{}:B.params},se)}}function b(B,ee){const X=u=x(B),se=l.value,Pe=B.state,je=B.force,A=B.replace===!0,N=L(X);if(N)return b(Fe(O(N),{state:typeof N=="object"?Fe({},Pe,N.state):Pe,force:je,replace:A}),ee||X);const M=X;M.redirectedFrom=ee;let H;return!je&&fC(r,se,X)&&(H=mi(16,{to:M,from:se}),sn(se,se,!0,!1)),(H?Promise.resolve(H):w(M,se)).catch($=>Gn($)?Gn($,2)?$:gn($):ne($,M,se)).then($=>{if($){if(Gn($,2))return b(Fe({replace:A},O($.to),{state:typeof $.to=="object"?Fe({},Pe,$.to.state):Pe,force:je}),ee||M)}else $=C(M,se,!0,A,Pe);return k(M,se,$),$})}function T(B,ee){const X=_(B,ee);return X?Promise.reject(X):Promise.resolve()}function y(B){const ee=hr.values().next().value;return ee&&typeof ee.runWithContext=="function"?ee.runWithContext(B):B()}function w(B,ee){let X;const[se,Pe,je]=YC(B,ee);X=Du(se.reverse(),"beforeRouteLeave",B,ee);for(const N of se)N.leaveGuards.forEach(M=>{X.push(Sr(M,B,ee))});const A=T.bind(null,B,ee);return X.push(A),qt(X).then(()=>{X=[];for(const N of i.list())X.push(Sr(N,B,ee));return X.push(A),qt(X)}).then(()=>{X=Du(Pe,"beforeRouteUpdate",B,ee);for(const N of Pe)N.updateGuards.forEach(M=>{X.push(Sr(M,B,ee))});return X.push(A),qt(X)}).then(()=>{X=[];for(const N of je)if(N.beforeEnter)if(bn(N.beforeEnter))for(const M of N.beforeEnter)X.push(Sr(M,B,ee));else X.push(Sr(N.beforeEnter,B,ee));return X.push(A),qt(X)}).then(()=>(B.matched.forEach(N=>N.enterCallbacks={}),X=Du(je,"beforeRouteEnter",B,ee,y),X.push(A),qt(X))).then(()=>{X=[];for(const N of o.list())X.push(Sr(N,B,ee));return X.push(A),qt(X)}).catch(N=>Gn(N,8)?N:Promise.reject(N))}function k(B,ee,X){a.list().forEach(se=>y(()=>se(B,ee,X)))}function C(B,ee,X,se,Pe){const je=_(B,ee);if(je)return je;const A=ee===yr,N=zs?history.state:{};X&&(se||A?s.replace(B.fullPath,Fe({scroll:A&&N&&N.scroll},Pe)):s.push(B.fullPath,Pe)),l.value=B,sn(B,ee,X,A),gn()}let I;function ge(){I||(I=s.listen((B,ee,X)=>{if(!Cn.listening)return;const se=x(B),Pe=L(se);if(Pe){b(Fe(Pe,{replace:!0}),se).catch(yo);return}u=se;const je=l.value;zs&&EC(Xm(je.fullPath,X.delta),Ol()),w(se,je).catch(A=>Gn(A,12)?A:Gn(A,2)?(b(A.to,se).then(N=>{Gn(N,20)&&!X.delta&&X.type===Fo.pop&&s.go(-1,!1)}).catch(yo),Promise.reject()):(X.delta&&s.go(-X.delta,!1),ne(A,se,je))).then(A=>{A=A||C(se,je,!1),A&&(X.delta&&!Gn(A,8)?s.go(-X.delta,!1):X.type===Fo.pop&&Gn(A,20)&&s.go(-1,!1)),k(se,je,A)}).catch(yo)}))}let Se=eo(),re=eo(),me;function ne(B,ee,X){gn(B);const se=re.list();return se.length?se.forEach(Pe=>Pe(B,ee,X)):console.error(B),Promise.reject(B)}function Ye(){return me&&l.value!==yr?Promise.resolve():new Promise((B,ee)=>{Se.add([B,ee])})}function gn(B){return me||(me=!B,ge(),Se.list().forEach(([ee,X])=>B?X(B):ee()),Se.reset()),B}function sn(B,ee,X,se){const{scrollBehavior:Pe}=t;if(!zs||!Pe)return Promise.resolve();const je=!X&&TC(Xm(B.fullPath,0))||(se||!X)&&history.state&&history.state.scroll||null;return na().then(()=>Pe(B,ee,je)).then(A=>A&&vC(A)).catch(A=>ne(A,B,ee))}const Xe=B=>s.go(B);let Ze;const hr=new Set,Cn={currentRoute:l,listening:!0,addRoute:g,removeRoute:E,clearRoutes:e.clearRoutes,hasRoute:S,getRoutes:R,resolve:x,options:t,push:P,replace:D,go:Xe,back:()=>Xe(-1),forward:()=>Xe(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:re.add,isReady:Ye,install(B){const ee=this;B.component("RouterLink",KC),B.component("RouterView",QC),B.config.globalProperties.$router=ee,Object.defineProperty(B.config.globalProperties,"$route",{enumerable:!0,get:()=>xt(l)}),zs&&!Ze&&l.value===yr&&(Ze=!0,P(s.location).catch(Pe=>{}));const X={};for(const Pe in yr)Object.defineProperty(X,Pe,{get:()=>l.value[Pe],enumerable:!0});B.provide(kl,ee),B.provide(rd,Cf(X)),B.provide(Ch,l);const se=B.unmount;hr.add(B),B.unmount=function(){hr.delete(B),hr.size<1&&(u=yr,I&&I(),I=null,l.value=yr,Ze=!1,me=!1),se()}}};function qt(B){return B.reduce((ee,X)=>ee.then(()=>y(X)),Promise.resolve())}return Cn}function YC(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(u=>pi(u,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(u=>pi(u,l))||s.push(l))}return[n,r,s]}function sd(){return Qt(kl)}function XC(t){return Qt(rd)}var dg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},ZC=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},xE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(p=64)),r.push(n[h],n[f],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(NE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ZC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||f==null)throw new e1;const p=i<<2|a>>4;if(r.push(p),u!==64){const g=a<<4&240|u>>2;if(r.push(g),f!==64){const E=u<<6&192|f;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class e1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const t1=function(t){const e=NE(t);return xE.encodeByteArray(e,!0)},Bc=function(t){return t1(t).replace(/\./g,"")},DE=function(t){try{return xE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=()=>n1().__FIREBASE_DEFAULTS__,s1=()=>{if(typeof process>"u"||typeof dg>"u")return;const t=dg.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},i1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&DE(t[1]);return e&&JSON.parse(e)},Nl=()=>{try{return r1()||s1()||i1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},VE=t=>{var e,n;return(n=(e=Nl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},o1=t=>{const e=VE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ME=()=>{var t;return(t=Nl())===null||t===void 0?void 0:t.config},LE=t=>{var e;return(e=Nl())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Bc(JSON.stringify(n)),Bc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function l1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}function u1(){var t;const e=(t=Nl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function h1(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function f1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function d1(){const t=Vt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function p1(){return!u1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function m1(){try{return typeof indexedDB=="object"}catch{return!1}}function g1(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="FirebaseError";class ur extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_1,Object.setPrototypeOf(this,ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ca.prototype.create)}}class ca{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?y1(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new ur(s,a,r)}}function y1(t,e){return t.replace(v1,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const v1=/\{\$([^}]+)}/g;function E1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Hc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(pg(i)&&pg(o)){if(!Hc(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function pg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function io(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function oo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function T1(t,e){const n=new w1(t,e);return n.subscribe.bind(n)}class w1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");b1(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Vu),s.error===void 0&&(s.error=Vu),s.complete===void 0&&(s.complete=Vu);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function b1(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Vu(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t){return t&&t._delegate?t._delegate:t}class ys{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new a1;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(S1(e))try{this.getOrInitializeService({instanceIdentifier:os})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=os){return this.instances.has(e)}getOptions(e=os){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:A1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=os){return this.component?this.component.multipleInstances?e:os:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function A1(t){return t===os?void 0:t}function S1(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new I1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Oe||(Oe={}));const C1={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},P1=Oe.INFO,O1={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},k1=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=O1[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class id{constructor(e){this.name=e,this._logLevel=P1,this._logHandler=k1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?C1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const N1=(t,e)=>e.some(n=>t instanceof n);let mg,gg;function x1(){return mg||(mg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function D1(){return gg||(gg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FE=new WeakMap,Ph=new WeakMap,UE=new WeakMap,Mu=new WeakMap,od=new WeakMap;function V1(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Lr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&FE.set(n,t)}).catch(()=>{}),od.set(e,t),e}function M1(t){if(Ph.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Ph.set(t,e)}let Oh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ph.get(t);if(e==="objectStoreNames")return t.objectStoreNames||UE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Lr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function L1(t){Oh=t(Oh)}function F1(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Lu(this),e,...n);return UE.set(r,e.sort?e.sort():[e]),Lr(r)}:D1().includes(t)?function(...e){return t.apply(Lu(this),e),Lr(FE.get(this))}:function(...e){return Lr(t.apply(Lu(this),e))}}function U1(t){return typeof t=="function"?F1(t):(t instanceof IDBTransaction&&M1(t),N1(t,x1())?new Proxy(t,Oh):t)}function Lr(t){if(t instanceof IDBRequest)return V1(t);if(Mu.has(t))return Mu.get(t);const e=U1(t);return e!==t&&(Mu.set(t,e),od.set(e,t)),e}const Lu=t=>od.get(t);function j1(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Lr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Lr(o.result),l.oldVersion,l.newVersion,Lr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const $1=["get","getKey","getAll","getAllKeys","count"],B1=["put","add","delete","clear"],Fu=new Map;function _g(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fu.get(e))return Fu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=B1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||$1.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return Fu.set(e,i),i}L1(t=>({...t,get:(e,n,r)=>_g(e,n)||t.get(e,n,r),has:(e,n)=>!!_g(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(q1(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function q1(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const kh="@firebase/app",yg="0.10.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir=new id("@firebase/app"),K1="@firebase/app-compat",W1="@firebase/analytics-compat",z1="@firebase/analytics",G1="@firebase/app-check-compat",Q1="@firebase/app-check",J1="@firebase/auth",Y1="@firebase/auth-compat",X1="@firebase/database",Z1="@firebase/database-compat",eP="@firebase/functions",tP="@firebase/functions-compat",nP="@firebase/installations",rP="@firebase/installations-compat",sP="@firebase/messaging",iP="@firebase/messaging-compat",oP="@firebase/performance",aP="@firebase/performance-compat",cP="@firebase/remote-config",lP="@firebase/remote-config-compat",uP="@firebase/storage",hP="@firebase/storage-compat",fP="@firebase/firestore",dP="@firebase/vertexai-preview",pP="@firebase/firestore-compat",mP="firebase",gP="10.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh="[DEFAULT]",_P={[kh]:"fire-core",[K1]:"fire-core-compat",[z1]:"fire-analytics",[W1]:"fire-analytics-compat",[Q1]:"fire-app-check",[G1]:"fire-app-check-compat",[J1]:"fire-auth",[Y1]:"fire-auth-compat",[X1]:"fire-rtdb",[Z1]:"fire-rtdb-compat",[eP]:"fire-fn",[tP]:"fire-fn-compat",[nP]:"fire-iid",[rP]:"fire-iid-compat",[sP]:"fire-fcm",[iP]:"fire-fcm-compat",[oP]:"fire-perf",[aP]:"fire-perf-compat",[cP]:"fire-rc",[lP]:"fire-rc-compat",[uP]:"fire-gcs",[hP]:"fire-gcs-compat",[fP]:"fire-fst",[pP]:"fire-fst-compat",[dP]:"fire-vertex","fire-js":"fire-js",[mP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc=new Map,yP=new Map,xh=new Map;function vg(t,e){try{t.container.addComponent(e)}catch(n){ir.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function gi(t){const e=t.name;if(xh.has(e))return ir.debug(`There were multiple attempts to register component ${e}.`),!1;xh.set(e,t);for(const n of qc.values())vg(n,t);for(const n of yP.values())vg(n,t);return!0}function ad(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function xn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fr=new ca("app","Firebase",vP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=gP;function jE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Nh,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Fr.create("bad-app-name",{appName:String(s)});if(n||(n=ME()),!n)throw Fr.create("no-options");const i=qc.get(s);if(i){if(Hc(n,i.options)&&Hc(r,i.config))return i;throw Fr.create("duplicate-app",{appName:s})}const o=new R1(s);for(const l of xh.values())o.addComponent(l);const a=new EP(n,r,o);return qc.set(s,a),a}function $E(t=Nh){const e=qc.get(t);if(!e&&t===Nh&&ME())return jE();if(!e)throw Fr.create("no-app",{appName:t});return e}function Ur(t,e,n){var r;let s=(r=_P[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ir.warn(a.join(" "));return}gi(new ys(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP="firebase-heartbeat-database",wP=1,Uo="firebase-heartbeat-store";let Uu=null;function BE(){return Uu||(Uu=j1(TP,wP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Uo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Fr.create("idb-open",{originalErrorMessage:t.message})})),Uu}async function bP(t){try{const n=(await BE()).transaction(Uo),r=await n.objectStore(Uo).get(HE(t));return await n.done,r}catch(e){if(e instanceof ur)ir.warn(e.message);else{const n=Fr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ir.warn(n.message)}}}async function Eg(t,e){try{const r=(await BE()).transaction(Uo,"readwrite");await r.objectStore(Uo).put(e,HE(t)),await r.done}catch(n){if(n instanceof ur)ir.warn(n.message);else{const r=Fr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ir.warn(r.message)}}}function HE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=1024,AP=30*24*60*60*1e3;class SP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new CP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Tg();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=AP}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ir.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Tg(),{heartbeatsToSend:r,unsentEntries:s}=RP(this._heartbeatsCache.heartbeats),i=Bc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ir.warn(n),""}}}function Tg(){return new Date().toISOString().substring(0,10)}function RP(t,e=IP){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),wg(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),wg(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class CP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return m1()?g1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await bP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Eg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Eg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function wg(t){return Bc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(t){gi(new ys("platform-logger",e=>new H1(e),"PRIVATE")),gi(new ys("heartbeat",e=>new SP(e),"PRIVATE")),Ur(kh,yg,t),Ur(kh,yg,"esm2017"),Ur("fire-js","")}PP("");var OP="firebase",kP="10.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ur(OP,kP,"app");function cd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function qE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const NP=qE,KE=new ca("auth","Firebase",qE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kc=new id("@firebase/auth");function xP(t,...e){Kc.logLevel<=Oe.WARN&&Kc.warn(`Auth (${Pi}): ${t}`,...e)}function hc(t,...e){Kc.logLevel<=Oe.ERROR&&Kc.error(`Auth (${Pi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(t,...e){throw ld(t,...e)}function Dn(t,...e){return ld(t,...e)}function WE(t,e,n){const r=Object.assign(Object.assign({},NP()),{[e]:n});return new ca("auth","Firebase",r).create(e,{appName:t.name})}function rr(t){return WE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ld(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return KE.create(t,...e)}function _e(t,e,...n){if(!t)throw ld(e,...n)}function Zn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw hc(e),new Error(e)}function or(t,e){t||Zn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function DP(){return bg()==="http:"||bg()==="https:"}function bg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DP()||h1()||"connection"in navigator)?navigator.onLine:!0}function MP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,n){this.shortDelay=e,this.longDelay=n,or(n>e,"Short delay should be less than long delay!"),this.isMobile=l1()||f1()}get(){return VP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(t,e){or(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=new ua(3e4,6e4);function Jr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Yr(t,e,n,r,s={}){return GE(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=la(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),zE.fetch()(QE(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function GE(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},LP),e);try{const s=new jP(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Za(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Za(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Za(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Za(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw WE(t,h,u);In(t,h)}}catch(s){if(s instanceof ur)throw s;In(t,"network-request-failed",{message:String(s)})}}async function ha(t,e,n,r,s={}){const i=await Yr(t,e,n,r,s);return"mfaPendingCredential"in i&&In(t,"multi-factor-auth-required",{_serverResponse:i}),i}function QE(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?ud(t.config,s):`${t.config.apiScheme}://${s}`}function UP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jP{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Dn(this.auth,"network-request-failed")),FP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Za(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Dn(t,e,r);return s.customData._tokenResponse=n,s}function Ig(t){return t!==void 0&&t.enterprise!==void 0}class $P{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return UP(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function BP(t,e){return Yr(t,"GET","/v2/recaptchaConfig",Jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HP(t,e){return Yr(t,"POST","/v1/accounts:delete",e)}async function JE(t,e){return Yr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qP(t,e=!1){const n=rn(t),r=await n.getIdToken(e),s=hd(r);_e(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Eo(ju(s.auth_time)),issuedAtTime:Eo(ju(s.iat)),expirationTime:Eo(ju(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function ju(t){return Number(t)*1e3}function hd(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return hc("JWT malformed, contained fewer than 3 sections"),null;try{const s=DE(n);return s?JSON.parse(s):(hc("Failed to decode base64 JWT payload"),null)}catch(s){return hc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Ag(t){const e=hd(t);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ur&&KP(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function KP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eo(this.lastLoginAt),this.creationTime=Eo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wc(t){var e;const n=t.auth,r=await t.getIdToken(),s=await jo(t,JE(n,{idToken:r}));_e(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?YE(i.providerUserInfo):[],a=GP(t.providerData,o),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=l?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Vh(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function zP(t){const e=rn(t);await Wc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function GP(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function YE(t){return t.map(e=>{var{providerId:n}=e,r=cd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QP(t,e){const n=await GE(t,{},async()=>{const r=la({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=QE(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",zE.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function JP(t,e){return Yr(t,"POST","/v2/accounts:revokeToken",Jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ag(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=Ag(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await QP(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new ii;return r&&(_e(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(_e(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(_e(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ii,this.toJSON())}_performRefresh(){return Zn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(t,e){_e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class er{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=cd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new WP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Vh(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await jo(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return qP(this,e)}reload(){return zP(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new er(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Wc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xn(this.auth.app))return Promise.reject(rr(this.auth));const e=await this.getIdToken();return await jo(this,HP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,u,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,R=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(u=n.createdAt)!==null&&u!==void 0?u:void 0,O=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:_,emailVerified:P,isAnonymous:D,providerData:L,stsTokenManager:b}=n;_e(_&&b,e,"internal-error");const T=ii.fromJSON(this.name,b);_e(typeof _=="string",e,"internal-error"),vr(f,e.name),vr(p,e.name),_e(typeof P=="boolean",e,"internal-error"),_e(typeof D=="boolean",e,"internal-error"),vr(g,e.name),vr(E,e.name),vr(R,e.name),vr(S,e.name),vr(x,e.name),vr(O,e.name);const y=new er({uid:_,auth:e,email:p,emailVerified:P,displayName:f,isAnonymous:D,photoURL:E,phoneNumber:g,tenantId:R,stsTokenManager:T,createdAt:x,lastLoginAt:O});return L&&Array.isArray(L)&&(y.providerData=L.map(w=>Object.assign({},w))),S&&(y._redirectEventId=S),y}static async _fromIdTokenResponse(e,n,r=!1){const s=new ii;s.updateFromServerResponse(n);const i=new er({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Wc(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];_e(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?YE(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new ii;a.updateFromIdToken(r);const l=new er({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Vh(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg=new Map;function tr(t){or(t instanceof Function,"Expected a class definition");let e=Sg.get(t);return e?(or(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Sg.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}XE.type="NONE";const Rg=XE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(t,e,n){return`firebase:${t}:${e}:${n}`}class oi{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=fc(this.userKey,s.apiKey,i),this.fullPersistenceKey=fc("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?er._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new oi(tr(Rg),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||tr(Rg);const o=fc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){const f=er._fromJSON(e,h);u!==i&&(a=f),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new oi(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new oi(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(n0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(s0(e))return"Blackberry";if(i0(e))return"Webos";if(e0(e))return"Safari";if((e.includes("chrome/")||t0(e))&&!e.includes("edge/"))return"Chrome";if(r0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ZE(t=Vt()){return/firefox\//i.test(t)}function e0(t=Vt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function t0(t=Vt()){return/crios\//i.test(t)}function n0(t=Vt()){return/iemobile/i.test(t)}function r0(t=Vt()){return/android/i.test(t)}function s0(t=Vt()){return/blackberry/i.test(t)}function i0(t=Vt()){return/webos/i.test(t)}function fd(t=Vt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function YP(t=Vt()){var e;return fd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function XP(){return d1()&&document.documentMode===10}function o0(t=Vt()){return fd(t)||r0(t)||i0(t)||s0(t)||/windows phone/i.test(t)||n0(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(t,e=[]){let n;switch(t){case"Browser":n=Cg(Vt());break;case"Worker":n=`${Cg(Vt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Pi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eO(t,e={}){return Yr(t,"GET","/v2/passwordPolicy",Jr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=6;class nO{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:tO,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pg(this),this.idTokenSubscription=new Pg(this),this.beforeStateQueue=new ZP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=tr(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await oi.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await JE(this,{idToken:e}),r=await er._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(xn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Wc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xn(this.app))return Promise.reject(rr(this));const n=e?rn(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xn(this.app)?Promise.reject(rr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xn(this.app)?Promise.reject(rr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(tr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await eO(this),n=new nO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ca("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await JP(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&tr(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await oi.create(this,[tr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=a0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&xP(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Os(t){return rn(t)}class Pg{constructor(e){this.auth=e,this.observer=null,this.addObserver=T1(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xl={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sO(t){xl=t}function c0(t){return xl.loadJS(t)}function iO(){return xl.recaptchaEnterpriseScript}function oO(){return xl.gapiScript}function aO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const cO="recaptcha-enterprise",lO="NO_RECAPTCHA";class uO{constructor(e){this.type=cO,this.auth=Os(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{BP(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new $P(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;Ig(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(lO)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&Ig(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=iO();l.length!==0&&(l+=a),c0(l).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function Og(t,e,n,r=!1){const s=new uO(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Mh(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Og(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Og(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(t,e){const n=ad(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Hc(i,e??{}))return s;In(s,"already-initialized")}return n.initialize({options:e})}function fO(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(tr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function dO(t,e,n){const r=Os(t);_e(r._canInitEmulator,r,"emulator-config-failed"),_e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=l0(e),{host:o,port:a}=pO(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),mO()}function l0(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function pO(t){const e=l0(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:kg(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:kg(o)}}}function kg(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function mO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zn("not implemented")}_getIdTokenResponse(e){return Zn("not implemented")}_linkToIdToken(e,n){return Zn("not implemented")}_getReauthenticationResolver(e){return Zn("not implemented")}}async function gO(t,e){return Yr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _O(t,e){return ha(t,"POST","/v1/accounts:signInWithPassword",Jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yO(t,e){return ha(t,"POST","/v1/accounts:signInWithEmailLink",Jr(t,e))}async function vO(t,e){return ha(t,"POST","/v1/accounts:signInWithEmailLink",Jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o extends dd{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new $o(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new $o(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mh(e,n,"signInWithPassword",_O);case"emailLink":return yO(e,{email:this._email,oobCode:this._password});default:In(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mh(e,r,"signUpPassword",gO);case"emailLink":return vO(e,{idToken:n,email:this._email,oobCode:this._password});default:In(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ai(t,e){return ha(t,"POST","/v1/accounts:signInWithIdp",Jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO="http://localhost";class vs extends dd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new vs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):In("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=cd(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new vs(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ai(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ai(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ai(e,n)}buildRequest(){const e={requestUri:EO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=la(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wO(t){const e=io(oo(t)).link,n=e?io(oo(e)).deep_link_id:null,r=io(oo(t)).deep_link_id;return(r?io(oo(r)).link:null)||r||n||e||t}class pd{constructor(e){var n,r,s,i,o,a;const l=io(oo(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,f=TO((s=l.mode)!==null&&s!==void 0?s:null);_e(u&&h&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=h,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=wO(e);try{return new pd(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(){this.providerId=Oi.PROVIDER_ID}static credential(e,n){return $o._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=pd.parseLink(n);return _e(r,"argument-error"),$o._fromEmailAndCode(e,r.code,r.tenantId)}}Oi.PROVIDER_ID="password";Oi.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Oi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa extends u0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends fa{constructor(){super("facebook.com")}static credential(e){return vs._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rr.credential(e.oauthAccessToken)}catch{return null}}}Rr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends fa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return vs._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Cr.credential(n,r)}catch{return null}}}Cr.GOOGLE_SIGN_IN_METHOD="google.com";Cr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends fa{constructor(){super("github.com")}static credential(e){return vs._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pr.credential(e.oauthAccessToken)}catch{return null}}}Pr.GITHUB_SIGN_IN_METHOD="github.com";Pr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends fa{constructor(){super("twitter.com")}static credential(e,n){return vs._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Or.credential(n,r)}catch{return null}}}Or.TWITTER_SIGN_IN_METHOD="twitter.com";Or.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bO(t,e){return ha(t,"POST","/v1/accounts:signUp",Jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await er._fromIdTokenResponse(e,r,s),o=Ng(r);return new Es({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Ng(r);return new Es({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Ng(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc extends ur{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,zc.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new zc(e,n,r,s)}}function h0(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?zc._fromErrorAndOperation(t,i,e,r):i})}async function IO(t,e,n=!1){const r=await jo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Es._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AO(t,e,n=!1){const{auth:r}=t;if(xn(r.app))return Promise.reject(rr(r));const s="reauthenticate";try{const i=await jo(t,h0(r,s,e,t),n);_e(i.idToken,r,"internal-error");const o=hd(i.idToken);_e(o,r,"internal-error");const{sub:a}=o;return _e(t.uid===a,r,"user-mismatch"),Es._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&In(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f0(t,e,n=!1){if(xn(t.app))return Promise.reject(rr(t));const r="signIn",s=await h0(t,r,e),i=await Es._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function SO(t,e){return f0(Os(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d0(t){const e=Os(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function RO(t,e,n){if(xn(t.app))return Promise.reject(rr(t));const r=Os(t),o=await Mh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bO).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&d0(t),l}),a=await Es._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function CO(t,e,n){return xn(t.app)?Promise.reject(rr(t)):SO(rn(t),Oi.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&d0(t),r})}function PO(t,e,n,r){return rn(t).onIdTokenChanged(e,n,r)}function OO(t,e,n){return rn(t).beforeAuthStateChanged(e,n)}function kO(t,e,n,r){return rn(t).onAuthStateChanged(e,n,r)}function NO(t){return rn(t).signOut()}const Gc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gc,"1"),this.storage.removeItem(Gc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=1e3,DO=10;class m0 extends p0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=o0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);XP()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,DO):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},xO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}m0.type="LOCAL";const VO=m0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0 extends p0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}g0.type="SESSION";const _0=g0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Dl(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await MO(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dl.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=md("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(){return window}function FO(t){Vn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(){return typeof Vn().WorkerGlobalScope<"u"&&typeof Vn().importScripts=="function"}async function UO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function $O(){return y0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="firebaseLocalStorageDb",BO=1,Qc="firebaseLocalStorage",E0="fbase_key";class da{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vl(t,e){return t.transaction([Qc],e?"readwrite":"readonly").objectStore(Qc)}function HO(){const t=indexedDB.deleteDatabase(v0);return new da(t).toPromise()}function Lh(){const t=indexedDB.open(v0,BO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Qc,{keyPath:E0})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Qc)?e(r):(r.close(),await HO(),e(await Lh()))})})}async function xg(t,e,n){const r=Vl(t,!0).put({[E0]:e,value:n});return new da(r).toPromise()}async function qO(t,e){const n=Vl(t,!1).get(e),r=await new da(n).toPromise();return r===void 0?null:r.value}function Dg(t,e){const n=Vl(t,!0).delete(e);return new da(n).toPromise()}const KO=800,WO=3;class T0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>WO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return y0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dl._getInstance($O()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await UO(),!this.activeServiceWorker)return;this.sender=new LO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Lh();return await xg(e,Gc,"1"),await Dg(e,Gc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>xg(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>qO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Dg(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Vl(s,!1).getAll();return new da(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}T0.type="LOCAL";const zO=T0;new ua(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(t,e){return e?tr(e):(_e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd extends dd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ai(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ai(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ai(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function QO(t){return f0(t.auth,new gd(t),t.bypassAuthState)}function JO(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),AO(n,new gd(t),t.bypassAuthState)}async function YO(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),IO(n,new gd(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QO;case"linkViaPopup":case"linkViaRedirect":return YO;case"reauthViaPopup":case"reauthViaRedirect":return JO;default:In(this.auth,"internal-error")}}resolve(e){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO=new ua(2e3,1e4);class Xs extends w0{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Xs.currentPopupAction&&Xs.currentPopupAction.cancel(),Xs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){or(this.filter.length===1,"Popup operations only handle one event");const e=md();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Dn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Dn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Dn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XO.get())};e()}}Xs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO="pendingRedirect",dc=new Map;class ek extends w0{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=dc.get(this.auth._key());if(!e){try{const r=await tk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}dc.set(this.auth._key(),e)}return this.bypassAuthState||dc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tk(t,e){const n=sk(e),r=rk(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function nk(t,e){dc.set(t._key(),e)}function rk(t){return tr(t._redirectPersistence)}function sk(t){return fc(ZO,t.config.apiKey,t.name)}async function ik(t,e,n=!1){if(xn(t.app))return Promise.reject(rr(t));const r=Os(t),s=GO(r,e),o=await new ek(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok=10*60*1e3;class ak{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ck(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!b0(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Dn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ok&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vg(e))}saveEventToCache(e){this.cachedEventUids.add(Vg(e)),this.lastProcessedEventTime=Date.now()}}function Vg(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function b0({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ck(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return b0(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lk(t,e={}){return Yr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hk=/^https?/;async function fk(t){if(t.config.emulator)return;const{authorizedDomains:e}=await lk(t);for(const n of e)try{if(dk(n))return}catch{}In(t,"unauthorized-domain")}function dk(t){const e=Dh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!hk.test(n))return!1;if(uk.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk=new ua(3e4,6e4);function Mg(){const t=Vn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function mk(t){return new Promise((e,n)=>{var r,s,i;function o(){Mg(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Mg(),n(Dn(t,"network-request-failed"))},timeout:pk.get()})}if(!((s=(r=Vn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Vn().gapi)===null||i===void 0)&&i.load)o();else{const a=aO("iframefcb");return Vn()[a]=()=>{gapi.load?o():n(Dn(t,"network-request-failed"))},c0(`${oO()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw pc=null,e})}let pc=null;function gk(t){return pc=pc||mk(t),pc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k=new ua(5e3,15e3),yk="__/auth/iframe",vk="emulator/auth/iframe",Ek={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Tk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wk(t){const e=t.config;_e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ud(e,vk):`https://${t.config.authDomain}/${yk}`,r={apiKey:e.apiKey,appName:t.name,v:Pi},s=Tk.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${la(r).slice(1)}`}async function bk(t){const e=await gk(t),n=Vn().gapi;return _e(n,t,"internal-error"),e.open({where:document.body,url:wk(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ek,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Dn(t,"network-request-failed"),a=Vn().setTimeout(()=>{i(o)},_k.get());function l(){Vn().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ak=500,Sk=600,Rk="_blank",Ck="http://localhost";class Lg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Pk(t,e,n,r=Ak,s=Sk){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Ik),{width:r.toString(),height:s.toString(),top:i,left:o}),u=Vt().toLowerCase();n&&(a=t0(u)?Rk:n),ZE(u)&&(e=e||Ck,l.scrollbars="yes");const h=Object.entries(l).reduce((p,[g,E])=>`${p}${g}=${E},`,"");if(YP(u)&&a!=="_self")return Ok(e||"",a),new Lg(null);const f=window.open(e||"",a,h);_e(f,t,"popup-blocked");try{f.focus()}catch{}return new Lg(f)}function Ok(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk="__/auth/handler",Nk="emulator/auth/handler",xk=encodeURIComponent("fac");async function Fg(t,e,n,r,s,i){_e(t.config.authDomain,t,"auth-domain-config-required"),_e(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Pi,eventId:s};if(e instanceof u0){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",E1(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof fa){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),u=l?`#${xk}=${encodeURIComponent(l)}`:"";return`${Dk(t)}?${la(a).slice(1)}${u}`}function Dk({config:t}){return t.emulator?ud(t,Nk):`https://${t.authDomain}/${kk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u="webStorageSupport";class Vk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_0,this._completeRedirectFn=ik,this._overrideRedirectResult=nk}async _openPopup(e,n,r,s){var i;or((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Fg(e,n,r,Dh(),s);return Pk(e,o,md())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Fg(e,n,r,Dh(),s);return FO(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(or(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await bk(e),r=new ak(e);return n.register("authEvent",s=>(_e(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($u,{type:$u},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[$u];o!==void 0&&n(!!o),In(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=fk(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return o0()||e0()||fd()}}const Mk=Vk;var Ug="@firebase/auth",jg="1.7.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Uk(t){gi(new ys("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;_e(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:a0(t)},u=new rO(r,s,i,l);return fO(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),gi(new ys("auth-internal",e=>{const n=Os(e.getProvider("auth").getImmediate());return(r=>new Lk(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ur(Ug,jg,Fk(t)),Ur(Ug,jg,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk=5*60,$k=LE("authIdTokenMaxAge")||jk;let $g=null;const Bk=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>$k)return;const s=n==null?void 0:n.token;$g!==s&&($g=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Hk(t=$E()){const e=ad(t,"auth");if(e.isInitialized())return e.getImmediate();const n=hO(t,{popupRedirectResolver:Mk,persistence:[zO,VO,_0]}),r=LE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=Bk(i.toString());OO(n,o,()=>o(n.currentUser)),PO(n,a=>o(a))}}const s=VE("auth");return s&&dO(n,`http://${s}`),n}function qk(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}sO({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Dn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",qk().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Uk("Browser");var Bg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ps,I0;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,T){function y(){}y.prototype=T.prototype,b.D=T.prototype,b.prototype=new y,b.prototype.constructor=b,b.C=function(w,k,C){for(var I=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)I[ge-2]=arguments[ge];return T.prototype[k].apply(w,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(b,T,y){y||(y=0);var w=Array(16);if(typeof T=="string")for(var k=0;16>k;++k)w[k]=T.charCodeAt(y++)|T.charCodeAt(y++)<<8|T.charCodeAt(y++)<<16|T.charCodeAt(y++)<<24;else for(k=0;16>k;++k)w[k]=T[y++]|T[y++]<<8|T[y++]<<16|T[y++]<<24;T=b.g[0],y=b.g[1],k=b.g[2];var C=b.g[3],I=T+(C^y&(k^C))+w[0]+3614090360&4294967295;T=y+(I<<7&4294967295|I>>>25),I=C+(k^T&(y^k))+w[1]+3905402710&4294967295,C=T+(I<<12&4294967295|I>>>20),I=k+(y^C&(T^y))+w[2]+606105819&4294967295,k=C+(I<<17&4294967295|I>>>15),I=y+(T^k&(C^T))+w[3]+3250441966&4294967295,y=k+(I<<22&4294967295|I>>>10),I=T+(C^y&(k^C))+w[4]+4118548399&4294967295,T=y+(I<<7&4294967295|I>>>25),I=C+(k^T&(y^k))+w[5]+1200080426&4294967295,C=T+(I<<12&4294967295|I>>>20),I=k+(y^C&(T^y))+w[6]+2821735955&4294967295,k=C+(I<<17&4294967295|I>>>15),I=y+(T^k&(C^T))+w[7]+4249261313&4294967295,y=k+(I<<22&4294967295|I>>>10),I=T+(C^y&(k^C))+w[8]+1770035416&4294967295,T=y+(I<<7&4294967295|I>>>25),I=C+(k^T&(y^k))+w[9]+2336552879&4294967295,C=T+(I<<12&4294967295|I>>>20),I=k+(y^C&(T^y))+w[10]+4294925233&4294967295,k=C+(I<<17&4294967295|I>>>15),I=y+(T^k&(C^T))+w[11]+2304563134&4294967295,y=k+(I<<22&4294967295|I>>>10),I=T+(C^y&(k^C))+w[12]+1804603682&4294967295,T=y+(I<<7&4294967295|I>>>25),I=C+(k^T&(y^k))+w[13]+4254626195&4294967295,C=T+(I<<12&4294967295|I>>>20),I=k+(y^C&(T^y))+w[14]+2792965006&4294967295,k=C+(I<<17&4294967295|I>>>15),I=y+(T^k&(C^T))+w[15]+1236535329&4294967295,y=k+(I<<22&4294967295|I>>>10),I=T+(k^C&(y^k))+w[1]+4129170786&4294967295,T=y+(I<<5&4294967295|I>>>27),I=C+(y^k&(T^y))+w[6]+3225465664&4294967295,C=T+(I<<9&4294967295|I>>>23),I=k+(T^y&(C^T))+w[11]+643717713&4294967295,k=C+(I<<14&4294967295|I>>>18),I=y+(C^T&(k^C))+w[0]+3921069994&4294967295,y=k+(I<<20&4294967295|I>>>12),I=T+(k^C&(y^k))+w[5]+3593408605&4294967295,T=y+(I<<5&4294967295|I>>>27),I=C+(y^k&(T^y))+w[10]+38016083&4294967295,C=T+(I<<9&4294967295|I>>>23),I=k+(T^y&(C^T))+w[15]+3634488961&4294967295,k=C+(I<<14&4294967295|I>>>18),I=y+(C^T&(k^C))+w[4]+3889429448&4294967295,y=k+(I<<20&4294967295|I>>>12),I=T+(k^C&(y^k))+w[9]+568446438&4294967295,T=y+(I<<5&4294967295|I>>>27),I=C+(y^k&(T^y))+w[14]+3275163606&4294967295,C=T+(I<<9&4294967295|I>>>23),I=k+(T^y&(C^T))+w[3]+4107603335&4294967295,k=C+(I<<14&4294967295|I>>>18),I=y+(C^T&(k^C))+w[8]+1163531501&4294967295,y=k+(I<<20&4294967295|I>>>12),I=T+(k^C&(y^k))+w[13]+2850285829&4294967295,T=y+(I<<5&4294967295|I>>>27),I=C+(y^k&(T^y))+w[2]+4243563512&4294967295,C=T+(I<<9&4294967295|I>>>23),I=k+(T^y&(C^T))+w[7]+1735328473&4294967295,k=C+(I<<14&4294967295|I>>>18),I=y+(C^T&(k^C))+w[12]+2368359562&4294967295,y=k+(I<<20&4294967295|I>>>12),I=T+(y^k^C)+w[5]+4294588738&4294967295,T=y+(I<<4&4294967295|I>>>28),I=C+(T^y^k)+w[8]+2272392833&4294967295,C=T+(I<<11&4294967295|I>>>21),I=k+(C^T^y)+w[11]+1839030562&4294967295,k=C+(I<<16&4294967295|I>>>16),I=y+(k^C^T)+w[14]+4259657740&4294967295,y=k+(I<<23&4294967295|I>>>9),I=T+(y^k^C)+w[1]+2763975236&4294967295,T=y+(I<<4&4294967295|I>>>28),I=C+(T^y^k)+w[4]+1272893353&4294967295,C=T+(I<<11&4294967295|I>>>21),I=k+(C^T^y)+w[7]+4139469664&4294967295,k=C+(I<<16&4294967295|I>>>16),I=y+(k^C^T)+w[10]+3200236656&4294967295,y=k+(I<<23&4294967295|I>>>9),I=T+(y^k^C)+w[13]+681279174&4294967295,T=y+(I<<4&4294967295|I>>>28),I=C+(T^y^k)+w[0]+3936430074&4294967295,C=T+(I<<11&4294967295|I>>>21),I=k+(C^T^y)+w[3]+3572445317&4294967295,k=C+(I<<16&4294967295|I>>>16),I=y+(k^C^T)+w[6]+76029189&4294967295,y=k+(I<<23&4294967295|I>>>9),I=T+(y^k^C)+w[9]+3654602809&4294967295,T=y+(I<<4&4294967295|I>>>28),I=C+(T^y^k)+w[12]+3873151461&4294967295,C=T+(I<<11&4294967295|I>>>21),I=k+(C^T^y)+w[15]+530742520&4294967295,k=C+(I<<16&4294967295|I>>>16),I=y+(k^C^T)+w[2]+3299628645&4294967295,y=k+(I<<23&4294967295|I>>>9),I=T+(k^(y|~C))+w[0]+4096336452&4294967295,T=y+(I<<6&4294967295|I>>>26),I=C+(y^(T|~k))+w[7]+1126891415&4294967295,C=T+(I<<10&4294967295|I>>>22),I=k+(T^(C|~y))+w[14]+2878612391&4294967295,k=C+(I<<15&4294967295|I>>>17),I=y+(C^(k|~T))+w[5]+4237533241&4294967295,y=k+(I<<21&4294967295|I>>>11),I=T+(k^(y|~C))+w[12]+1700485571&4294967295,T=y+(I<<6&4294967295|I>>>26),I=C+(y^(T|~k))+w[3]+2399980690&4294967295,C=T+(I<<10&4294967295|I>>>22),I=k+(T^(C|~y))+w[10]+4293915773&4294967295,k=C+(I<<15&4294967295|I>>>17),I=y+(C^(k|~T))+w[1]+2240044497&4294967295,y=k+(I<<21&4294967295|I>>>11),I=T+(k^(y|~C))+w[8]+1873313359&4294967295,T=y+(I<<6&4294967295|I>>>26),I=C+(y^(T|~k))+w[15]+4264355552&4294967295,C=T+(I<<10&4294967295|I>>>22),I=k+(T^(C|~y))+w[6]+2734768916&4294967295,k=C+(I<<15&4294967295|I>>>17),I=y+(C^(k|~T))+w[13]+1309151649&4294967295,y=k+(I<<21&4294967295|I>>>11),I=T+(k^(y|~C))+w[4]+4149444226&4294967295,T=y+(I<<6&4294967295|I>>>26),I=C+(y^(T|~k))+w[11]+3174756917&4294967295,C=T+(I<<10&4294967295|I>>>22),I=k+(T^(C|~y))+w[2]+718787259&4294967295,k=C+(I<<15&4294967295|I>>>17),I=y+(C^(k|~T))+w[9]+3951481745&4294967295,b.g[0]=b.g[0]+T&4294967295,b.g[1]=b.g[1]+(k+(I<<21&4294967295|I>>>11))&4294967295,b.g[2]=b.g[2]+k&4294967295,b.g[3]=b.g[3]+C&4294967295}r.prototype.u=function(b,T){T===void 0&&(T=b.length);for(var y=T-this.blockSize,w=this.B,k=this.h,C=0;C<T;){if(k==0)for(;C<=y;)s(this,b,C),C+=this.blockSize;if(typeof b=="string"){for(;C<T;)if(w[k++]=b.charCodeAt(C++),k==this.blockSize){s(this,w),k=0;break}}else for(;C<T;)if(w[k++]=b[C++],k==this.blockSize){s(this,w),k=0;break}}this.h=k,this.o+=T},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var T=1;T<b.length-8;++T)b[T]=0;var y=8*this.o;for(T=b.length-8;T<b.length;++T)b[T]=y&255,y/=256;for(this.u(b),b=Array(16),T=y=0;4>T;++T)for(var w=0;32>w;w+=8)b[y++]=this.g[T]>>>w&255;return b};function i(b,T){var y=a;return Object.prototype.hasOwnProperty.call(y,b)?y[b]:y[b]=T(b)}function o(b,T){this.h=T;for(var y=[],w=!0,k=b.length-1;0<=k;k--){var C=b[k]|0;w&&C==T||(y[k]=C,w=!1)}this.g=y}var a={};function l(b){return-128<=b&&128>b?i(b,function(T){return new o([T|0],0>T?-1:0)}):new o([b|0],0>b?-1:0)}function u(b){if(isNaN(b)||!isFinite(b))return f;if(0>b)return S(u(-b));for(var T=[],y=1,w=0;b>=y;w++)T[w]=b/y|0,y*=4294967296;return new o(T,0)}function h(b,T){if(b.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(b.charAt(0)=="-")return S(h(b.substring(1),T));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=u(Math.pow(T,8)),w=f,k=0;k<b.length;k+=8){var C=Math.min(8,b.length-k),I=parseInt(b.substring(k,k+C),T);8>C?(C=u(Math.pow(T,C)),w=w.j(C).add(u(I))):(w=w.j(y),w=w.add(u(I)))}return w}var f=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(R(this))return-S(this).m();for(var b=0,T=1,y=0;y<this.g.length;y++){var w=this.i(y);b+=(0<=w?w:4294967296+w)*T,T*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(E(this))return"0";if(R(this))return"-"+S(this).toString(b);for(var T=u(Math.pow(b,6)),y=this,w="";;){var k=P(y,T).g;y=x(y,k.j(T));var C=((0<y.g.length?y.g[0]:y.h)>>>0).toString(b);if(y=k,E(y))return C+w;for(;6>C.length;)C="0"+C;w=C+w}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function E(b){if(b.h!=0)return!1;for(var T=0;T<b.g.length;T++)if(b.g[T]!=0)return!1;return!0}function R(b){return b.h==-1}t.l=function(b){return b=x(this,b),R(b)?-1:E(b)?0:1};function S(b){for(var T=b.g.length,y=[],w=0;w<T;w++)y[w]=~b.g[w];return new o(y,~b.h).add(p)}t.abs=function(){return R(this)?S(this):this},t.add=function(b){for(var T=Math.max(this.g.length,b.g.length),y=[],w=0,k=0;k<=T;k++){var C=w+(this.i(k)&65535)+(b.i(k)&65535),I=(C>>>16)+(this.i(k)>>>16)+(b.i(k)>>>16);w=I>>>16,C&=65535,I&=65535,y[k]=I<<16|C}return new o(y,y[y.length-1]&-2147483648?-1:0)};function x(b,T){return b.add(S(T))}t.j=function(b){if(E(this)||E(b))return f;if(R(this))return R(b)?S(this).j(S(b)):S(S(this).j(b));if(R(b))return S(this.j(S(b)));if(0>this.l(g)&&0>b.l(g))return u(this.m()*b.m());for(var T=this.g.length+b.g.length,y=[],w=0;w<2*T;w++)y[w]=0;for(w=0;w<this.g.length;w++)for(var k=0;k<b.g.length;k++){var C=this.i(w)>>>16,I=this.i(w)&65535,ge=b.i(k)>>>16,Se=b.i(k)&65535;y[2*w+2*k]+=I*Se,O(y,2*w+2*k),y[2*w+2*k+1]+=C*Se,O(y,2*w+2*k+1),y[2*w+2*k+1]+=I*ge,O(y,2*w+2*k+1),y[2*w+2*k+2]+=C*ge,O(y,2*w+2*k+2)}for(w=0;w<T;w++)y[w]=y[2*w+1]<<16|y[2*w];for(w=T;w<2*T;w++)y[w]=0;return new o(y,0)};function O(b,T){for(;(b[T]&65535)!=b[T];)b[T+1]+=b[T]>>>16,b[T]&=65535,T++}function _(b,T){this.g=b,this.h=T}function P(b,T){if(E(T))throw Error("division by zero");if(E(b))return new _(f,f);if(R(b))return T=P(S(b),T),new _(S(T.g),S(T.h));if(R(T))return T=P(b,S(T)),new _(S(T.g),T.h);if(30<b.g.length){if(R(b)||R(T))throw Error("slowDivide_ only works with positive integers.");for(var y=p,w=T;0>=w.l(b);)y=D(y),w=D(w);var k=L(y,1),C=L(w,1);for(w=L(w,2),y=L(y,2);!E(w);){var I=C.add(w);0>=I.l(b)&&(k=k.add(y),C=I),w=L(w,1),y=L(y,1)}return T=x(b,k.j(T)),new _(k,T)}for(k=f;0<=b.l(T);){for(y=Math.max(1,Math.floor(b.m()/T.m())),w=Math.ceil(Math.log(y)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),C=u(y),I=C.j(T);R(I)||0<I.l(b);)y-=w,C=u(y),I=C.j(T);E(C)&&(C=p),k=k.add(C),b=x(b,I)}return new _(k,b)}t.A=function(b){return P(this,b).h},t.and=function(b){for(var T=Math.max(this.g.length,b.g.length),y=[],w=0;w<T;w++)y[w]=this.i(w)&b.i(w);return new o(y,this.h&b.h)},t.or=function(b){for(var T=Math.max(this.g.length,b.g.length),y=[],w=0;w<T;w++)y[w]=this.i(w)|b.i(w);return new o(y,this.h|b.h)},t.xor=function(b){for(var T=Math.max(this.g.length,b.g.length),y=[],w=0;w<T;w++)y[w]=this.i(w)^b.i(w);return new o(y,this.h^b.h)};function D(b){for(var T=b.g.length+1,y=[],w=0;w<T;w++)y[w]=b.i(w)<<1|b.i(w-1)>>>31;return new o(y,b.h)}function L(b,T){var y=T>>5;T%=32;for(var w=b.g.length-y,k=[],C=0;C<w;C++)k[C]=0<T?b.i(C+y)>>>T|b.i(C+y+1)<<32-T:b.i(C+y);return new o(k,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,I0=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,ps=o}).apply(typeof Bg<"u"?Bg:typeof self<"u"?self:typeof window<"u"?window:{});var ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var A0,S0,ao,R0,mc,Fh,C0,P0,O0;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,m){return c==Array.prototype||c==Object.prototype||(c[d]=m.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ec=="object"&&ec];for(var d=0;d<c.length;++d){var m=c[d];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function s(c,d){if(d)e:{var m=r;c=c.split(".");for(var v=0;v<c.length-1;v++){var V=c[v];if(!(V in m))break e;m=m[V]}c=c[c.length-1],v=m[c],d=d(v),d!=v&&d!=null&&e(m,c,{configurable:!0,writable:!0,value:d})}}function i(c,d){c instanceof String&&(c+="");var m=0,v=!1,V={next:function(){if(!v&&m<c.length){var F=m++;return{value:d(F,c[F]),done:!1}}return v=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}s("Array.prototype.values",function(c){return c||function(){return i(this,function(d,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function u(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,m){return c.call.apply(c.bind,arguments)}function f(c,d,m){if(!c)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,v),c.apply(d,V)}}return function(){return c.apply(d,arguments)}}function p(c,d,m){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function g(c,d){var m=Array.prototype.slice.call(arguments,1);return function(){var v=m.slice();return v.push.apply(v,arguments),c.apply(this,v)}}function E(c,d){function m(){}m.prototype=d.prototype,c.aa=d.prototype,c.prototype=new m,c.prototype.constructor=c,c.Qb=function(v,V,F){for(var J=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)J[Be-2]=arguments[Be];return d.prototype[V].apply(v,J)}}function R(c){const d=c.length;if(0<d){const m=Array(d);for(let v=0;v<d;v++)m[v]=c[v];return m}return[]}function S(c,d){for(let m=1;m<arguments.length;m++){const v=arguments[m];if(l(v)){const V=c.length||0,F=v.length||0;c.length=V+F;for(let J=0;J<F;J++)c[V+J]=v[J]}else c.push(v)}}class x{constructor(d,m){this.i=d,this.j=m,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function O(c){return/^[\s\xa0]*$/.test(c)}function _(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function P(c){return P[" "](c),c}P[" "]=function(){};var D=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function L(c,d,m){for(const v in c)d.call(m,c[v],v,c)}function b(c,d){for(const m in c)d.call(void 0,c[m],m,c)}function T(c){const d={};for(const m in c)d[m]=c[m];return d}const y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(c,d){let m,v;for(let V=1;V<arguments.length;V++){v=arguments[V];for(m in v)c[m]=v[m];for(let F=0;F<y.length;F++)m=y[F],Object.prototype.hasOwnProperty.call(v,m)&&(c[m]=v[m])}}function k(c){var d=1;c=c.split(":");const m=[];for(;0<d&&c.length;)m.push(c.shift()),d--;return c.length&&m.push(c.join(":")),m}function C(c){a.setTimeout(()=>{throw c},0)}function I(){var c=Ye;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class ge{constructor(){this.h=this.g=null}add(d,m){const v=Se.get();v.set(d,m),this.h?this.h.next=v:this.g=v,this.h=v}}var Se=new x(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(d,m){this.h=d,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let me,ne=!1,Ye=new ge,gn=()=>{const c=a.Promise.resolve(void 0);me=()=>{c.then(sn)}};var sn=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(m){C(m)}var d=Se;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}ne=!1};function Xe(){this.s=this.s,this.C=this.C}Xe.prototype.s=!1,Xe.prototype.ma=function(){this.s||(this.s=!0,this.N())},Xe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ze(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Ze.prototype.h=function(){this.defaultPrevented=!0};var hr=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const m=()=>{};a.addEventListener("test",m,d),a.removeEventListener("test",m,d)}catch{}return c}();function Cn(c,d){if(Ze.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var m=this.type=c.type,v=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(D){e:{try{P(d.nodeName);var V=!0;break e}catch{}V=!1}V||(d=null)}}else m=="mouseover"?d=c.fromElement:m=="mouseout"&&(d=c.toElement);this.relatedTarget=d,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:qt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Cn.aa.h.call(this)}}E(Cn,Ze);var qt={2:"touch",3:"pen",4:"mouse"};Cn.prototype.h=function(){Cn.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var B="closure_listenable_"+(1e6*Math.random()|0),ee=0;function X(c,d,m,v,V){this.listener=c,this.proxy=null,this.src=d,this.type=m,this.capture=!!v,this.ha=V,this.key=++ee,this.da=this.fa=!1}function se(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Pe(c){this.src=c,this.g={},this.h=0}Pe.prototype.add=function(c,d,m,v,V){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var J=A(c,d,v,V);return-1<J?(d=c[J],m||(d.fa=!1)):(d=new X(d,this.src,F,!!v,V),d.fa=m,c.push(d)),d};function je(c,d){var m=d.type;if(m in c.g){var v=c.g[m],V=Array.prototype.indexOf.call(v,d,void 0),F;(F=0<=V)&&Array.prototype.splice.call(v,V,1),F&&(se(d),c.g[m].length==0&&(delete c.g[m],c.h--))}}function A(c,d,m,v){for(var V=0;V<c.length;++V){var F=c[V];if(!F.da&&F.listener==d&&F.capture==!!m&&F.ha==v)return V}return-1}var N="closure_lm_"+(1e6*Math.random()|0),M={};function H(c,d,m,v,V){if(Array.isArray(d)){for(var F=0;F<d.length;F++)H(c,d[F],m,v,V);return null}return m=ce(m),c&&c[B]?c.K(d,m,u(v)?!!v.capture:!!v,V):$(c,d,m,!1,v,V)}function $(c,d,m,v,V,F){if(!d)throw Error("Invalid event type");var J=u(V)?!!V.capture:!!V,Be=le(c);if(Be||(c[N]=Be=new Pe(c)),m=Be.add(d,m,v,J,F),m.proxy)return m;if(v=K(),m.proxy=v,v.src=c,v.listener=m,c.addEventListener)hr||(V=J),V===void 0&&(V=!1),c.addEventListener(d.toString(),v,V);else if(c.attachEvent)c.attachEvent(G(d.toString()),v);else if(c.addListener&&c.removeListener)c.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return m}function K(){function c(m){return d.call(c.src,c.listener,m)}const d=W;return c}function Y(c,d,m,v,V){if(Array.isArray(d))for(var F=0;F<d.length;F++)Y(c,d[F],m,v,V);else v=u(v)?!!v.capture:!!v,m=ce(m),c&&c[B]?(c=c.i,d=String(d).toString(),d in c.g&&(F=c.g[d],m=A(F,m,v,V),-1<m&&(se(F[m]),Array.prototype.splice.call(F,m,1),F.length==0&&(delete c.g[d],c.h--)))):c&&(c=le(c))&&(d=c.g[d.toString()],c=-1,d&&(c=A(d,m,v,V)),(m=-1<c?d[c]:null)&&Q(m))}function Q(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[B])je(d.i,c);else{var m=c.type,v=c.proxy;d.removeEventListener?d.removeEventListener(m,v,c.capture):d.detachEvent?d.detachEvent(G(m),v):d.addListener&&d.removeListener&&d.removeListener(v),(m=le(d))?(je(m,c),m.h==0&&(m.src=null,d[N]=null)):se(c)}}}function G(c){return c in M?M[c]:M[c]="on"+c}function W(c,d){if(c.da)c=!0;else{d=new Cn(d,this);var m=c.listener,v=c.ha||c.src;c.fa&&Q(c),c=m.call(v,d)}return c}function le(c){return c=c[N],c instanceof Pe?c:null}var Z="__closure_events_fn_"+(1e9*Math.random()>>>0);function ce(c){return typeof c=="function"?c:(c[Z]||(c[Z]=function(d){return c.handleEvent(d)}),c[Z])}function oe(){Xe.call(this),this.i=new Pe(this),this.M=this,this.F=null}E(oe,Xe),oe.prototype[B]=!0,oe.prototype.removeEventListener=function(c,d,m,v){Y(this,c,d,m,v)};function fe(c,d){var m,v=c.F;if(v)for(m=[];v;v=v.F)m.push(v);if(c=c.M,v=d.type||d,typeof d=="string")d=new Ze(d,c);else if(d instanceof Ze)d.target=d.target||c;else{var V=d;d=new Ze(v,c),w(d,V)}if(V=!0,m)for(var F=m.length-1;0<=F;F--){var J=d.g=m[F];V=Me(J,v,!0,d)&&V}if(J=d.g=c,V=Me(J,v,!0,d)&&V,V=Me(J,v,!1,d)&&V,m)for(F=0;F<m.length;F++)J=d.g=m[F],V=Me(J,v,!1,d)&&V}oe.prototype.N=function(){if(oe.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var m=c.g[d],v=0;v<m.length;v++)se(m[v]);delete c.g[d],c.h--}}this.F=null},oe.prototype.K=function(c,d,m,v){return this.i.add(String(c),d,!1,m,v)},oe.prototype.L=function(c,d,m,v){return this.i.add(String(c),d,!0,m,v)};function Me(c,d,m,v){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var V=!0,F=0;F<d.length;++F){var J=d[F];if(J&&!J.da&&J.capture==m){var Be=J.listener,yt=J.ha||J.src;J.fa&&je(c.i,J),V=Be.call(yt,v)!==!1&&V}}return V&&!v.defaultPrevented}function xe(c,d,m){if(typeof c=="function")m&&(c=p(c,m));else if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function bt(c){c.g=xe(()=>{c.g=null,c.i&&(c.i=!1,bt(c))},c.l);const d=c.h;c.h=null,c.m.apply(null,d)}class dt extends Xe{constructor(d,m){super(),this.m=d,this.l=m,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:bt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _t(c){Xe.call(this),this.h=c,this.g={}}E(_t,Xe);var It=[];function fr(c){L(c.g,function(d,m){this.g.hasOwnProperty(m)&&Q(d)},c),c.g={}}_t.prototype.N=function(){_t.aa.N.call(this),fr(this)},_t.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ds=a.JSON.stringify,Mt=a.JSON.parse,on=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Vs(){}Vs.prototype.h=null;function mp(c){return c.h||(c.h=c.i())}function gp(){}var Fi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function iu(){Ze.call(this,"d")}E(iu,Ze);function ou(){Ze.call(this,"c")}E(ou,Ze);var Xr={},_p=null;function Sa(){return _p=_p||new oe}Xr.La="serverreachability";function yp(c){Ze.call(this,Xr.La,c)}E(yp,Ze);function Ui(c){const d=Sa();fe(d,new yp(d))}Xr.STAT_EVENT="statevent";function vp(c,d){Ze.call(this,Xr.STAT_EVENT,c),this.stat=d}E(vp,Ze);function Lt(c){const d=Sa();fe(d,new vp(d,c))}Xr.Ma="timingevent";function Ep(c,d){Ze.call(this,Xr.Ma,c),this.size=d}E(Ep,Ze);function ji(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function $i(){this.g=!0}$i.prototype.xa=function(){this.g=!1};function bb(c,d,m,v,V,F){c.info(function(){if(c.g)if(F)for(var J="",Be=F.split("&"),yt=0;yt<Be.length;yt++){var De=Be[yt].split("=");if(1<De.length){var At=De[0];De=De[1];var St=At.split("_");J=2<=St.length&&St[1]=="type"?J+(At+"="+De+"&"):J+(At+"=redacted&")}}else J=null;else J=F;return"XMLHTTP REQ ("+v+") [attempt "+V+"]: "+d+`
`+m+`
`+J})}function Ib(c,d,m,v,V,F,J){c.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+V+"]: "+d+`
`+m+`
`+F+" "+J})}function Ms(c,d,m,v){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+Sb(c,m)+(v?" "+v:"")})}function Ab(c,d){c.info(function(){return"TIMEOUT: "+d})}$i.prototype.info=function(){};function Sb(c,d){if(!c.g)return d;if(!d)return null;try{var m=JSON.parse(d);if(m){for(c=0;c<m.length;c++)if(Array.isArray(m[c])){var v=m[c];if(!(2>v.length)){var V=v[1];if(Array.isArray(V)&&!(1>V.length)){var F=V[0];if(F!="noop"&&F!="stop"&&F!="close")for(var J=1;J<V.length;J++)V[J]=""}}}}return Ds(m)}catch{return d}}var Ra={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Tp={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},au;function Ca(){}E(Ca,Vs),Ca.prototype.g=function(){return new XMLHttpRequest},Ca.prototype.i=function(){return{}},au=new Ca;function dr(c,d,m,v){this.j=c,this.i=d,this.l=m,this.R=v||1,this.U=new _t(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wp}function wp(){this.i=null,this.g="",this.h=!1}var bp={},cu={};function lu(c,d,m){c.L=1,c.v=Na(Kn(d)),c.m=m,c.P=!0,Ip(c,null)}function Ip(c,d){c.F=Date.now(),Pa(c),c.A=Kn(c.v);var m=c.A,v=c.R;Array.isArray(v)||(v=[String(v)]),Fp(m.i,"t",v),c.C=0,m=c.j.J,c.h=new wp,c.g=nm(c.j,m?d:null,!c.m),0<c.O&&(c.M=new dt(p(c.Y,c,c.g),c.O)),d=c.U,m=c.g,v=c.ca;var V="readystatechange";Array.isArray(V)||(V&&(It[0]=V.toString()),V=It);for(var F=0;F<V.length;F++){var J=H(m,V[F],v||d.handleEvent,!1,d.h||d);if(!J)break;d.g[J.key]=J}d=c.H?T(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Ui(),bb(c.i,c.u,c.A,c.l,c.R,c.m)}dr.prototype.ca=function(c){c=c.target;const d=this.M;d&&Wn(c)==3?d.j():this.Y(c)},dr.prototype.Y=function(c){try{if(c==this.g)e:{const St=Wn(this.g);var d=this.g.Ba();const Us=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||Kp(this.g)))){this.J||St!=4||d==7||(d==8||0>=Us?Ui(3):Ui(2)),uu(this);var m=this.g.Z();this.X=m;t:if(Ap(this)){var v=Kp(this.g);c="";var V=v.length,F=Wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zr(this),Bi(this);var J="";break t}this.h.i=new a.TextDecoder}for(d=0;d<V;d++)this.h.h=!0,c+=this.h.i.decode(v[d],{stream:!(F&&d==V-1)});v.length=0,this.h.g+=c,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=m==200,Ib(this.i,this.u,this.A,this.l,this.R,St,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,yt=this.g;if((Be=yt.g?yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(Be)){var De=Be;break t}}De=null}if(m=De)Ms(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hu(this,m);else{this.o=!1,this.s=3,Lt(12),Zr(this),Bi(this);break e}}if(this.P){m=!0;let _n;for(;!this.J&&this.C<J.length;)if(_n=Rb(this,J),_n==cu){St==4&&(this.s=4,Lt(14),m=!1),Ms(this.i,this.l,null,"[Incomplete Response]");break}else if(_n==bp){this.s=4,Lt(15),Ms(this.i,this.l,J,"[Invalid Chunk]"),m=!1;break}else Ms(this.i,this.l,_n,null),hu(this,_n);if(Ap(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||J.length!=0||this.h.h||(this.s=1,Lt(16),m=!1),this.o=this.o&&m,!m)Ms(this.i,this.l,J,"[Invalid Chunked Response]"),Zr(this),Bi(this);else if(0<J.length&&!this.W){this.W=!0;var At=this.j;At.g==this&&At.ba&&!At.M&&(At.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),_u(At),At.M=!0,Lt(11))}}else Ms(this.i,this.l,J,null),hu(this,J);St==4&&Zr(this),this.o&&!this.J&&(St==4?Xp(this.j,this):(this.o=!1,Pa(this)))}else qb(this.g),m==400&&0<J.indexOf("Unknown SID")?(this.s=3,Lt(12)):(this.s=0,Lt(13)),Zr(this),Bi(this)}}}catch{}finally{}};function Ap(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Rb(c,d){var m=c.C,v=d.indexOf(`
`,m);return v==-1?cu:(m=Number(d.substring(m,v)),isNaN(m)?bp:(v+=1,v+m>d.length?cu:(d=d.slice(v,v+m),c.C=v+m,d)))}dr.prototype.cancel=function(){this.J=!0,Zr(this)};function Pa(c){c.S=Date.now()+c.I,Sp(c,c.I)}function Sp(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ji(p(c.ba,c),d)}function uu(c){c.B&&(a.clearTimeout(c.B),c.B=null)}dr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ab(this.i,this.A),this.L!=2&&(Ui(),Lt(17)),Zr(this),this.s=2,Bi(this)):Sp(this,this.S-c)};function Bi(c){c.j.G==0||c.J||Xp(c.j,c)}function Zr(c){uu(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,fr(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function hu(c,d){try{var m=c.j;if(m.G!=0&&(m.g==c||fu(m.h,c))){if(!c.K&&fu(m.h,c)&&m.G==3){try{var v=m.Da.g.parse(d)}catch{v=null}if(Array.isArray(v)&&v.length==3){var V=v;if(V[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<c.F)La(m),Va(m);else break e;gu(m),Lt(18)}}else m.za=V[1],0<m.za-m.T&&37500>V[2]&&m.F&&m.v==0&&!m.C&&(m.C=ji(p(m.Za,m),6e3));if(1>=Pp(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else ts(m,11)}else if((c.K||m.g==c)&&La(m),!O(d))for(V=m.Da.g.parse(d),d=0;d<V.length;d++){let De=V[d];if(m.T=De[0],De=De[1],m.G==2)if(De[0]=="c"){m.K=De[1],m.ia=De[2];const At=De[3];At!=null&&(m.la=At,m.j.info("VER="+m.la));const St=De[4];St!=null&&(m.Aa=St,m.j.info("SVER="+m.Aa));const Us=De[5];Us!=null&&typeof Us=="number"&&0<Us&&(v=1.5*Us,m.L=v,m.j.info("backChannelRequestTimeoutMs_="+v)),v=m;const _n=c.g;if(_n){const Ua=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ua){var F=v.h;F.g||Ua.indexOf("spdy")==-1&&Ua.indexOf("quic")==-1&&Ua.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(du(F,F.h),F.h=null))}if(v.D){const yu=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;yu&&(v.ya=yu,Qe(v.I,v.D,yu))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-c.F,m.j.info("Handshake RTT: "+m.R+"ms")),v=m;var J=c;if(v.qa=tm(v,v.J?v.ia:null,v.W),J.K){Op(v.h,J);var Be=J,yt=v.L;yt&&(Be.I=yt),Be.B&&(uu(Be),Pa(Be)),v.g=J}else Jp(v);0<m.i.length&&Ma(m)}else De[0]!="stop"&&De[0]!="close"||ts(m,7);else m.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?ts(m,7):mu(m):De[0]!="noop"&&m.l&&m.l.ta(De),m.v=0)}}Ui(4)}catch{}}var Cb=class{constructor(c,d){this.g=c,this.map=d}};function Rp(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Cp(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Pp(c){return c.h?1:c.g?c.g.size:0}function fu(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function du(c,d){c.g?c.g.add(d):c.h=d}function Op(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}Rp.prototype.cancel=function(){if(this.i=kp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function kp(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(const m of c.g.values())d=d.concat(m.D);return d}return R(c.i)}function Pb(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var d=[],m=c.length,v=0;v<m;v++)d.push(c[v]);return d}d=[],m=0;for(v in c)d[m++]=c[v];return d}function Ob(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var d=[];c=c.length;for(var m=0;m<c;m++)d.push(m);return d}d=[],m=0;for(const v in c)d[m++]=v;return d}}}function Np(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var m=Ob(c),v=Pb(c),V=v.length,F=0;F<V;F++)d.call(void 0,v[F],m&&m[F],c)}var xp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kb(c,d){if(c){c=c.split("&");for(var m=0;m<c.length;m++){var v=c[m].indexOf("="),V=null;if(0<=v){var F=c[m].substring(0,v);V=c[m].substring(v+1)}else F=c[m];d(F,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function es(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof es){this.h=c.h,Oa(this,c.j),this.o=c.o,this.g=c.g,ka(this,c.s),this.l=c.l;var d=c.i,m=new Ki;m.i=d.i,d.g&&(m.g=new Map(d.g),m.h=d.h),Dp(this,m),this.m=c.m}else c&&(d=String(c).match(xp))?(this.h=!1,Oa(this,d[1]||"",!0),this.o=Hi(d[2]||""),this.g=Hi(d[3]||"",!0),ka(this,d[4]),this.l=Hi(d[5]||"",!0),Dp(this,d[6]||"",!0),this.m=Hi(d[7]||"")):(this.h=!1,this.i=new Ki(null,this.h))}es.prototype.toString=function(){var c=[],d=this.j;d&&c.push(qi(d,Vp,!0),":");var m=this.g;return(m||d=="file")&&(c.push("//"),(d=this.o)&&c.push(qi(d,Vp,!0),"@"),c.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&c.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&c.push("/"),c.push(qi(m,m.charAt(0)=="/"?Db:xb,!0))),(m=this.i.toString())&&c.push("?",m),(m=this.m)&&c.push("#",qi(m,Mb)),c.join("")};function Kn(c){return new es(c)}function Oa(c,d,m){c.j=m?Hi(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function ka(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function Dp(c,d,m){d instanceof Ki?(c.i=d,Lb(c.i,c.h)):(m||(d=qi(d,Vb)),c.i=new Ki(d,c.h))}function Qe(c,d,m){c.i.set(d,m)}function Na(c){return Qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Hi(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function qi(c,d,m){return typeof c=="string"?(c=encodeURI(c).replace(d,Nb),m&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Nb(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Vp=/[#\/\?@]/g,xb=/[#\?:]/g,Db=/[#\?]/g,Vb=/[#\?@]/g,Mb=/#/g;function Ki(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function pr(c){c.g||(c.g=new Map,c.h=0,c.i&&kb(c.i,function(d,m){c.add(decodeURIComponent(d.replace(/\+/g," ")),m)}))}t=Ki.prototype,t.add=function(c,d){pr(this),this.i=null,c=Ls(this,c);var m=this.g.get(c);return m||this.g.set(c,m=[]),m.push(d),this.h+=1,this};function Mp(c,d){pr(c),d=Ls(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function Lp(c,d){return pr(c),d=Ls(c,d),c.g.has(d)}t.forEach=function(c,d){pr(this),this.g.forEach(function(m,v){m.forEach(function(V){c.call(d,V,v,this)},this)},this)},t.na=function(){pr(this);const c=Array.from(this.g.values()),d=Array.from(this.g.keys()),m=[];for(let v=0;v<d.length;v++){const V=c[v];for(let F=0;F<V.length;F++)m.push(d[v])}return m},t.V=function(c){pr(this);let d=[];if(typeof c=="string")Lp(this,c)&&(d=d.concat(this.g.get(Ls(this,c))));else{c=Array.from(this.g.values());for(let m=0;m<c.length;m++)d=d.concat(c[m])}return d},t.set=function(c,d){return pr(this),this.i=null,c=Ls(this,c),Lp(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function Fp(c,d,m){Mp(c,d),0<m.length&&(c.i=null,c.g.set(Ls(c,d),R(m)),c.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],d=Array.from(this.g.keys());for(var m=0;m<d.length;m++){var v=d[m];const F=encodeURIComponent(String(v)),J=this.V(v);for(v=0;v<J.length;v++){var V=F;J[v]!==""&&(V+="="+encodeURIComponent(String(J[v]))),c.push(V)}}return this.i=c.join("&")};function Ls(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function Lb(c,d){d&&!c.j&&(pr(c),c.i=null,c.g.forEach(function(m,v){var V=v.toLowerCase();v!=V&&(Mp(this,v),Fp(this,V,m))},c)),c.j=d}function Fb(c,d){const m=new $i;if(a.Image){const v=new Image;v.onload=g(mr,m,"TestLoadImage: loaded",!0,d,v),v.onerror=g(mr,m,"TestLoadImage: error",!1,d,v),v.onabort=g(mr,m,"TestLoadImage: abort",!1,d,v),v.ontimeout=g(mr,m,"TestLoadImage: timeout",!1,d,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=c}else d(!1)}function Ub(c,d){const m=new $i,v=new AbortController,V=setTimeout(()=>{v.abort(),mr(m,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:v.signal}).then(F=>{clearTimeout(V),F.ok?mr(m,"TestPingServer: ok",!0,d):mr(m,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(V),mr(m,"TestPingServer: error",!1,d)})}function mr(c,d,m,v,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),v(m)}catch{}}function jb(){this.g=new on}function $b(c,d,m){const v=m||"";try{Np(c,function(V,F){let J=V;u(V)&&(J=Ds(V)),d.push(v+F+"="+encodeURIComponent(J))})}catch(V){throw d.push(v+"type="+encodeURIComponent("_badmap")),V}}function Wi(c){this.l=c.Ub||null,this.j=c.eb||!1}E(Wi,Vs),Wi.prototype.g=function(){return new xa(this.l,this.j)},Wi.prototype.i=function(c){return function(){return c}}({});function xa(c,d){oe.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(xa,oe),t=xa.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Gi(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zi(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Gi(this)),this.g&&(this.readyState=3,Gi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Up(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Up(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?zi(this):Gi(this),this.readyState==3&&Up(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,zi(this))},t.Qa=function(c){this.g&&(this.response=c,zi(this))},t.ga=function(){this.g&&zi(this)};function zi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Gi(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],d=this.h.entries();for(var m=d.next();!m.done;)m=m.value,c.push(m[0]+": "+m[1]),m=d.next();return c.join(`\r
`)};function Gi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(xa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function jp(c){let d="";return L(c,function(m,v){d+=v,d+=":",d+=m,d+=`\r
`}),d}function pu(c,d,m){e:{for(v in m){var v=!1;break e}v=!0}v||(m=jp(m),typeof c=="string"?m!=null&&encodeURIComponent(String(m)):Qe(c,d,m))}function tt(c){oe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(tt,oe);var Bb=/^https?$/i,Hb=["POST","PUT"];t=tt.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,m,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():au.g(),this.v=this.o?mp(this.o):mp(au),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(F){$p(this,F);return}if(c=m||"",m=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var V in v)m.set(V,v[V]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const F of v.keys())m.set(F,v.get(F));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(m.keys()).find(F=>F.toLowerCase()=="content-type"),V=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Hb,d,void 0))||v||V||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,J]of m)this.g.setRequestHeader(F,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qp(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){$p(this,F)}};function $p(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,Bp(c),Da(c)}function Bp(c){c.A||(c.A=!0,fe(c,"complete"),fe(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,fe(this,"complete"),fe(this,"abort"),Da(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Da(this,!0)),tt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Hp(this):this.bb())},t.bb=function(){Hp(this)};function Hp(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Wn(c)!=4||c.Z()!=2)){if(c.u&&Wn(c)==4)xe(c.Ea,0,c);else if(fe(c,"readystatechange"),Wn(c)==4){c.h=!1;try{const J=c.Z();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var m;if(!(m=d)){var v;if(v=J===0){var V=String(c.D).match(xp)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),v=!Bb.test(V?V.toLowerCase():"")}m=v}if(m)fe(c,"complete"),fe(c,"success");else{c.m=6;try{var F=2<Wn(c)?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.Z()+"]",Bp(c)}}finally{Da(c)}}}}function Da(c,d){if(c.g){qp(c);const m=c.g,v=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||fe(c,"ready");try{m.onreadystatechange=v}catch{}}}function qp(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Wn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Wn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),Mt(d)}};function Kp(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function qb(c){const d={};c=(c.g&&2<=Wn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<c.length;v++){if(O(c[v]))continue;var m=k(c[v]);const V=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const F=d[V]||[];d[V]=F,F.push(m)}b(d,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qi(c,d,m){return m&&m.internalChannelParams&&m.internalChannelParams[c]||d}function Wp(c){this.Aa=0,this.i=[],this.j=new $i,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qi("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qi("baseRetryDelayMs",5e3,c),this.cb=Qi("retryDelaySeedMs",1e4,c),this.Wa=Qi("forwardChannelMaxRetries",2,c),this.wa=Qi("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Rp(c&&c.concurrentRequestLimit),this.Da=new jb,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Wp.prototype,t.la=8,t.G=1,t.connect=function(c,d,m,v){Lt(0),this.W=c,this.H=d||{},m&&v!==void 0&&(this.H.OSID=m,this.H.OAID=v),this.F=this.X,this.I=tm(this,null,this.W),Ma(this)};function mu(c){if(zp(c),c.G==3){var d=c.U++,m=Kn(c.I);if(Qe(m,"SID",c.K),Qe(m,"RID",d),Qe(m,"TYPE","terminate"),Ji(c,m),d=new dr(c,c.j,d),d.L=2,d.v=Na(Kn(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=d.v,m=!0),m||(d.g=nm(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Pa(d)}em(c)}function Va(c){c.g&&(_u(c),c.g.cancel(),c.g=null)}function zp(c){Va(c),c.u&&(a.clearTimeout(c.u),c.u=null),La(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Ma(c){if(!Cp(c.h)&&!c.s){c.s=!0;var d=c.Ga;me||gn(),ne||(me(),ne=!0),Ye.add(d,c),c.B=0}}function Kb(c,d){return Pp(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ji(p(c.Ga,c,d),Zp(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const V=new dr(this,this.j,c);let F=this.o;if(this.S&&(F?(F=T(F),w(F,this.S)):F=this.S),this.m!==null||this.O||(V.H=F,F=null),this.P)e:{for(var d=0,m=0;m<this.i.length;m++){t:{var v=this.i[m];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(d+=v,4096<d){d=m;break e}if(d===4096||m===this.i.length-1){d=m+1;break e}}d=1e3}else d=1e3;d=Qp(this,V,d),m=Kn(this.I),Qe(m,"RID",c),Qe(m,"CVER",22),this.D&&Qe(m,"X-HTTP-Session-Id",this.D),Ji(this,m),F&&(this.O?d="headers="+encodeURIComponent(String(jp(F)))+"&"+d:this.m&&pu(m,this.m,F)),du(this.h,V),this.Ua&&Qe(m,"TYPE","init"),this.P?(Qe(m,"$req",d),Qe(m,"SID","null"),V.T=!0,lu(V,m,null)):lu(V,m,d),this.G=2}}else this.G==3&&(c?Gp(this,c):this.i.length==0||Cp(this.h)||Gp(this))};function Gp(c,d){var m;d?m=d.l:m=c.U++;const v=Kn(c.I);Qe(v,"SID",c.K),Qe(v,"RID",m),Qe(v,"AID",c.T),Ji(c,v),c.m&&c.o&&pu(v,c.m,c.o),m=new dr(c,c.j,m,c.B+1),c.m===null&&(m.H=c.o),d&&(c.i=d.D.concat(c.i)),d=Qp(c,m,1e3),m.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),du(c.h,m),lu(m,v,d)}function Ji(c,d){c.H&&L(c.H,function(m,v){Qe(d,v,m)}),c.l&&Np({},function(m,v){Qe(d,v,m)})}function Qp(c,d,m){m=Math.min(c.i.length,m);var v=c.l?p(c.l.Na,c.l,c):null;e:{var V=c.i;let F=-1;for(;;){const J=["count="+m];F==-1?0<m?(F=V[0].g,J.push("ofs="+F)):F=0:J.push("ofs="+F);let Be=!0;for(let yt=0;yt<m;yt++){let De=V[yt].g;const At=V[yt].map;if(De-=F,0>De)F=Math.max(0,V[yt].g-100),Be=!1;else try{$b(At,J,"req"+De+"_")}catch{v&&v(At)}}if(Be){v=J.join("&");break e}}}return c=c.i.splice(0,m),d.D=c,v}function Jp(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;me||gn(),ne||(me(),ne=!0),Ye.add(d,c),c.v=0}}function gu(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ji(p(c.Fa,c),Zp(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Yp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ji(p(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Lt(10),Va(this),Yp(this))};function _u(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Yp(c){c.g=new dr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Kn(c.qa);Qe(d,"RID","rpc"),Qe(d,"SID",c.K),Qe(d,"AID",c.T),Qe(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qe(d,"TO",c.ja),Qe(d,"TYPE","xmlhttp"),Ji(c,d),c.m&&c.o&&pu(d,c.m,c.o),c.L&&(c.g.I=c.L);var m=c.g;c=c.ia,m.L=1,m.v=Na(Kn(d)),m.m=null,m.P=!0,Ip(m,c)}t.Za=function(){this.C!=null&&(this.C=null,Va(this),gu(this),Lt(19))};function La(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Xp(c,d){var m=null;if(c.g==d){La(c),_u(c),c.g=null;var v=2}else if(fu(c.h,d))m=d.D,Op(c.h,d),v=1;else return;if(c.G!=0){if(d.o)if(v==1){m=d.m?d.m.length:0,d=Date.now()-d.F;var V=c.B;v=Sa(),fe(v,new Ep(v,m)),Ma(c)}else Jp(c);else if(V=d.s,V==3||V==0&&0<d.X||!(v==1&&Kb(c,d)||v==2&&gu(c)))switch(m&&0<m.length&&(d=c.h,d.i=d.i.concat(m)),V){case 1:ts(c,5);break;case 4:ts(c,10);break;case 3:ts(c,6);break;default:ts(c,2)}}}function Zp(c,d){let m=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(m*=2),m*d}function ts(c,d){if(c.j.info("Error code "+d),d==2){var m=p(c.fb,c),v=c.Xa;const V=!v;v=new es(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Oa(v,"https"),Na(v),V?Fb(v.toString(),m):Ub(v.toString(),m)}else Lt(2);c.G=0,c.l&&c.l.sa(d),em(c),zp(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function em(c){if(c.G=0,c.ka=[],c.l){const d=kp(c.h);(d.length!=0||c.i.length!=0)&&(S(c.ka,d),S(c.ka,c.i),c.h.i.length=0,R(c.i),c.i.length=0),c.l.ra()}}function tm(c,d,m){var v=m instanceof es?Kn(m):new es(m);if(v.g!="")d&&(v.g=d+"."+v.g),ka(v,v.s);else{var V=a.location;v=V.protocol,d=d?d+"."+V.hostname:V.hostname,V=+V.port;var F=new es(null);v&&Oa(F,v),d&&(F.g=d),V&&ka(F,V),m&&(F.l=m),v=F}return m=c.D,d=c.ya,m&&d&&Qe(v,m,d),Qe(v,"VER",c.la),Ji(c,v),v}function nm(c,d,m){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new tt(new Wi({eb:m})):new tt(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function rm(){}t=rm.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Fa(){}Fa.prototype.g=function(c,d){return new en(c,d)};function en(c,d){oe.call(this),this.g=new Wp(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!O(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!O(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Fs(this)}E(en,oe),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){mu(this.g)},en.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var m={};m.__data__=c,c=m}else this.u&&(m={},m.__data__=Ds(c),c=m);d.i.push(new Cb(d.Ya++,c)),d.G==3&&Ma(d)},en.prototype.N=function(){this.g.l=null,delete this.j,mu(this.g),delete this.g,en.aa.N.call(this)};function sm(c){iu.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(const m in d){c=m;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}E(sm,iu);function im(){ou.call(this),this.status=1}E(im,ou);function Fs(c){this.g=c}E(Fs,rm),Fs.prototype.ua=function(){fe(this.g,"a")},Fs.prototype.ta=function(c){fe(this.g,new sm(c))},Fs.prototype.sa=function(c){fe(this.g,new im)},Fs.prototype.ra=function(){fe(this.g,"b")},Fa.prototype.createWebChannel=Fa.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,O0=function(){return new Fa},P0=function(){return Sa()},C0=Xr,Fh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ra.NO_ERROR=0,Ra.TIMEOUT=8,Ra.HTTP_ERROR=6,mc=Ra,Tp.COMPLETE="complete",R0=Tp,gp.EventType=Fi,Fi.OPEN="a",Fi.CLOSE="b",Fi.ERROR="c",Fi.MESSAGE="d",oe.prototype.listen=oe.prototype.K,ao=gp,S0=Wi,tt.prototype.listenOnce=tt.prototype.L,tt.prototype.getLastError=tt.prototype.Ka,tt.prototype.getLastErrorCode=tt.prototype.Ba,tt.prototype.getStatus=tt.prototype.Z,tt.prototype.getResponseJson=tt.prototype.Oa,tt.prototype.getResponseText=tt.prototype.oa,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Ha,A0=tt}).apply(typeof ec<"u"?ec:typeof self<"u"?self:typeof window<"u"?window:{});const Hg="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ct.UNAUTHENTICATED=new Ct(null),Ct.GOOGLE_CREDENTIALS=new Ct("google-credentials-uid"),Ct.FIRST_PARTY=new Ct("first-party-uid"),Ct.MOCK_USER=new Ct("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ki="10.13.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=new id("@firebase/firestore");function to(){return Ts.logLevel}function ae(t,...e){if(Ts.logLevel<=Oe.DEBUG){const n=e.map(_d);Ts.debug(`Firestore (${ki}): ${t}`,...n)}}function ar(t,...e){if(Ts.logLevel<=Oe.ERROR){const n=e.map(_d);Ts.error(`Firestore (${ki}): ${t}`,...n)}}function _i(t,...e){if(Ts.logLevel<=Oe.WARN){const n=e.map(_d);Ts.warn(`Firestore (${ki}): ${t}`,...n)}}function _d(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(t="Unexpected state"){const e=`FIRESTORE (${ki}) INTERNAL ASSERTION FAILED: `+t;throw ar(e),new Error(e)}function qe(t,e){t||Ee()}function we(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends ur{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Kk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ct.UNAUTHENTICATED))}shutdown(){}}class Wk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class zk{constructor(e){this.t=e,this.currentUser=Ct.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new jr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new jr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new jr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qe(typeof r.accessToken=="string"),new k0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string"),new Ct(e)}}class Gk{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ct.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Qk{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Gk(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ct.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Yk{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,ae("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(qe(typeof n.token=="string"),this.R=n.token,new Jk(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xk(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=Xk(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Ve(t,e){return t<e?-1:t>e?1:0}function yi(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ue(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ft(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Te(e)}static min(){return new Te(new ft(0,0))}static max(){return new Te(new ft(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ee(),r===void 0?r=e.length-n:r>e.length-n&&Ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Bo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Bo?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class nt extends Bo{construct(e,n,r){return new nt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new nt(n)}static emptyPath(){return new nt([])}}const Zk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Et extends Bo{construct(e,n,r){return new Et(e,n,r)}static isValidIdentifier(e){return Zk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Et.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Et(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ue(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new ue(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ue(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new ue(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Et(n)}static emptyPath(){return new Et([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.path=e}static fromPath(e){return new he(nt.fromString(e))}static fromName(e){return new he(nt.fromString(e).popFirst(5))}static empty(){return new he(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new nt(e.slice()))}}function eN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Te.fromTimestamp(r===1e9?new ft(n+1,0):new ft(n,r));return new Kr(s,he.empty(),e)}function tN(t){return new Kr(t.readTime,t.key,-1)}class Kr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Kr(Te.min(),he.empty(),-1)}static max(){return new Kr(Te.max(),he.empty(),-1)}}function nN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=he.comparator(t.documentKey,e.documentKey),n!==0?n:Ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pa(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==rN)throw t;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):q.reject(n)}static resolve(e){return new q((n,r)=>{n(e)})}static reject(e){return new q((n,r)=>{r(e)})}static waitFor(e){return new q((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=q.resolve(!1);for(const r of e)n=n.next(s=>s?q.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new q((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(h=>{o[u]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new q((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function iN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ma(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}yd.oe=-1;function Ml(t){return t==null}function Jc(t){return t===0&&1/t==-1/0}function oN(t){return typeof t=="number"&&Number.isInteger(t)&&!Jc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ni(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function x0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,n){this.comparator=e,this.root=n||vt.EMPTY}insert(e,n){return new et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vt.BLACK,null,null))}remove(e){return new et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tc(this.root,e,this.comparator,!1)}getReverseIterator(){return new tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tc(this.root,e,this.comparator,!0)}}class tc{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??vt.RED,this.left=s??vt.EMPTY,this.right=i??vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new vt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return vt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}vt.EMPTY=null,vt.RED=!0,vt.BLACK=!1;vt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,n,r,s,i){return this}insert(e,n,r){return new vt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Kg(this.data.getIterator())}getIteratorFrom(e){return new Kg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Tt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Tt(this.comparator);return n.data=e,n}}class Kg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.fields=e,e.sort(Et.comparator)}static empty(){return new En([])}unionWith(e){let n=new Tt(Et.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new En(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new D0("Invalid base64 string: "+i):i}}(e);return new wt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wt.EMPTY_BYTE_STRING=new wt("");const aN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wr(t){if(qe(!!t),typeof t=="string"){let e=0;const n=aN.exec(t);if(qe(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rt(t.seconds),nanos:rt(t.nanos)}}function rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ws(t){return typeof t=="string"?wt.fromBase64String(t):wt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ed(t){const e=t.mapValue.fields.__previous_value__;return vd(e)?Ed(e):e}function Ho(t){const e=Wr(t.mapValue.fields.__local_write_time__.timestampValue);return new ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,n,r,s,i,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class qo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new qo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof qo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function bs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vd(t)?4:uN(t)?9007199254740991:lN(t)?10:11:Ee()}function Bn(t,e){if(t===e)return!0;const n=bs(t);if(n!==bs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ho(t).isEqual(Ho(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Wr(s.timestampValue),a=Wr(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ws(s.bytesValue).isEqual(ws(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return rt(s.geoPointValue.latitude)===rt(i.geoPointValue.latitude)&&rt(s.geoPointValue.longitude)===rt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return rt(s.integerValue)===rt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=rt(s.doubleValue),a=rt(i.doubleValue);return o===a?Jc(o)===Jc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return yi(t.arrayValue.values||[],e.arrayValue.values||[],Bn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(qg(o)!==qg(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Bn(o[l],a[l])))return!1;return!0}(t,e);default:return Ee()}}function Ko(t,e){return(t.values||[]).find(n=>Bn(n,e))!==void 0}function vi(t,e){if(t===e)return 0;const n=bs(t),r=bs(e);if(n!==r)return Ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=rt(i.integerValue||i.doubleValue),l=rt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Wg(t.timestampValue,e.timestampValue);case 4:return Wg(Ho(t),Ho(e));case 5:return Ve(t.stringValue,e.stringValue);case 6:return function(i,o){const a=ws(i),l=ws(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=Ve(a[u],l[u]);if(h!==0)return h}return Ve(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Ve(rt(i.latitude),rt(o.latitude));return a!==0?a:Ve(rt(i.longitude),rt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return zg(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,u,h;const f=i.fields||{},p=o.fields||{},g=(a=f.value)===null||a===void 0?void 0:a.arrayValue,E=(l=p.value)===null||l===void 0?void 0:l.arrayValue,R=Ve(((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0,((h=E==null?void 0:E.values)===null||h===void 0?void 0:h.length)||0);return R!==0?R:zg(g,E)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===nc.mapValue&&o===nc.mapValue)return 0;if(i===nc.mapValue)return 1;if(o===nc.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const p=Ve(l[f],h[f]);if(p!==0)return p;const g=vi(a[l[f]],u[h[f]]);if(g!==0)return g}return Ve(l.length,h.length)}(t.mapValue,e.mapValue);default:throw Ee()}}function Wg(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ve(t,e);const n=Wr(t),r=Wr(e),s=Ve(n.seconds,r.seconds);return s!==0?s:Ve(n.nanos,r.nanos)}function zg(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=vi(n[s],r[s]);if(i)return i}return Ve(n.length,r.length)}function Ei(t){return Uh(t)}function Uh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Wr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ws(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return he.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Uh(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Uh(n.fields[o])}`;return s+"}"}(t.mapValue):Ee()}function jh(t){return!!t&&"integerValue"in t}function Td(t){return!!t&&"arrayValue"in t}function Gg(t){return!!t&&"nullValue"in t}function Qg(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gc(t){return!!t&&"mapValue"in t}function lN(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function To(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ni(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=To(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=To(t.arrayValue.values[n]);return e}return Object.assign({},t)}function uN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!gc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=To(n)}setAll(e){let n=Et.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=To(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());gc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];gc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ni(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new cn(To(this.value))}}function V0(t){const e=[];return Ni(t.fields,(n,r)=>{const s=new Et([n]);if(gc(r)){const i=V0(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new En(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ot(e,0,Te.min(),Te.min(),Te.min(),cn.empty(),0)}static newFoundDocument(e,n,r,s){return new Ot(e,1,n,Te.min(),r,s,0)}static newNoDocument(e,n){return new Ot(e,2,n,Te.min(),Te.min(),cn.empty(),0)}static newUnknownDocument(e,n){return new Ot(e,3,n,Te.min(),Te.min(),cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ot&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ot(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,n){this.position=e,this.inclusive=n}}function Jg(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=he.comparator(he.fromName(o.referenceValue),n.key):r=vi(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Yg(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Bn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n="asc"){this.field=e,this.dir=n}}function hN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{}class lt extends M0{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new dN(e,n,r):n==="array-contains"?new gN(e,r):n==="in"?new _N(e,r):n==="not-in"?new yN(e,r):n==="array-contains-any"?new vN(e,r):new lt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new pN(e,r):new mN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(vi(n,this.value)):n!==null&&bs(this.value)===bs(n)&&this.matchesComparison(vi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hn extends M0{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Hn(e,n)}matches(e){return L0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function L0(t){return t.op==="and"}function F0(t){return fN(t)&&L0(t)}function fN(t){for(const e of t.filters)if(e instanceof Hn)return!1;return!0}function $h(t){if(t instanceof lt)return t.field.canonicalString()+t.op.toString()+Ei(t.value);if(F0(t))return t.filters.map(e=>$h(e)).join(",");{const e=t.filters.map(n=>$h(n)).join(",");return`${t.op}(${e})`}}function U0(t,e){return t instanceof lt?function(r,s){return s instanceof lt&&r.op===s.op&&r.field.isEqual(s.field)&&Bn(r.value,s.value)}(t,e):t instanceof Hn?function(r,s){return s instanceof Hn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&U0(o,s.filters[a]),!0):!1}(t,e):void Ee()}function j0(t){return t instanceof lt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ei(n.value)}`}(t):t instanceof Hn?function(n){return n.op.toString()+" {"+n.getFilters().map(j0).join(" ,")+"}"}(t):"Filter"}class dN extends lt{constructor(e,n,r){super(e,n,r),this.key=he.fromName(r.referenceValue)}matches(e){const n=he.comparator(e.key,this.key);return this.matchesComparison(n)}}class pN extends lt{constructor(e,n){super(e,"in",n),this.keys=$0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class mN extends lt{constructor(e,n){super(e,"not-in",n),this.keys=$0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function $0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>he.fromName(r.referenceValue))}class gN extends lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Td(n)&&Ko(n.arrayValue,this.value)}}class _N extends lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ko(this.value.arrayValue,n)}}class yN extends lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ko(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ko(this.value.arrayValue,n)}}class vN extends lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Td(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ko(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function Xg(t,e=null,n=[],r=[],s=null,i=null,o=null){return new EN(t,e,n,r,s,i,o)}function wd(t){const e=we(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>$h(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Ml(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ei(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ei(r)).join(",")),e.ue=n}return e.ue}function bd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!hN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!U0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Yg(t.startAt,e.startAt)&&Yg(t.endAt,e.endAt)}function Bh(t){return he.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function TN(t,e,n,r,s,i,o,a){return new Ll(t,e,n,r,s,i,o,a)}function Id(t){return new Ll(t)}function Zg(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function wN(t){return t.collectionGroup!==null}function wo(t){const e=we(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Tt(Et.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Xc(i,r))}),n.has(Et.keyField().canonicalString())||e.ce.push(new Xc(Et.keyField(),r))}return e.ce}function Mn(t){const e=we(t);return e.le||(e.le=bN(e,wo(t))),e.le}function bN(t,e){if(t.limitType==="F")return Xg(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Xc(s.field,i)});const n=t.endAt?new Yc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Yc(t.startAt.position,t.startAt.inclusive):null;return Xg(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Hh(t,e,n){return new Ll(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Fl(t,e){return bd(Mn(t),Mn(e))&&t.limitType===e.limitType}function B0(t){return`${wd(Mn(t))}|lt:${t.limitType}`}function Gs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>j0(s)).join(", ")}]`),Ml(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ei(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ei(s)).join(",")),`Target(${r})`}(Mn(t))}; limitType=${t.limitType})`}function Ul(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):he.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of wo(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=Jg(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,wo(r),s)||r.endAt&&!function(o,a,l){const u=Jg(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,wo(r),s))}(t,e)}function IN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function H0(t){return(e,n)=>{let r=!1;for(const s of wo(t)){const i=AN(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function AN(t,e,n){const r=t.field.isKeyField()?he.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?vi(l,u):Ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ni(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return x0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=new et(he.comparator);function cr(){return SN}const q0=new et(he.comparator);function co(...t){let e=q0;for(const n of t)e=e.insert(n.key,n);return e}function K0(t){let e=q0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function as(){return bo()}function W0(){return bo()}function bo(){return new xi(t=>t.toString(),(t,e)=>t.isEqual(e))}const RN=new et(he.comparator),CN=new Tt(he.comparator);function Re(...t){let e=CN;for(const n of t)e=e.add(n);return e}const PN=new Tt(Ve);function ON(){return PN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jc(e)?"-0":e}}function z0(t){return{integerValue:""+t}}function kN(t,e){return oN(e)?z0(e):Ad(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(){this._=void 0}}function NN(t,e,n){return t instanceof Zc?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&vd(i)&&(i=Ed(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Wo?Q0(t,e):t instanceof zo?J0(t,e):function(s,i){const o=G0(s,i),a=e_(o)+e_(s.Pe);return jh(o)&&jh(s.Pe)?z0(a):Ad(s.serializer,a)}(t,e)}function xN(t,e,n){return t instanceof Wo?Q0(t,e):t instanceof zo?J0(t,e):n}function G0(t,e){return t instanceof el?function(r){return jh(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Zc extends jl{}class Wo extends jl{constructor(e){super(),this.elements=e}}function Q0(t,e){const n=Y0(e);for(const r of t.elements)n.some(s=>Bn(s,r))||n.push(r);return{arrayValue:{values:n}}}class zo extends jl{constructor(e){super(),this.elements=e}}function J0(t,e){let n=Y0(e);for(const r of t.elements)n=n.filter(s=>!Bn(s,r));return{arrayValue:{values:n}}}class el extends jl{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function e_(t){return rt(t.integerValue||t.doubleValue)}function Y0(t){return Td(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function DN(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Wo&&s instanceof Wo||r instanceof zo&&s instanceof zo?yi(r.elements,s.elements,Bn):r instanceof el&&s instanceof el?Bn(r.Pe,s.Pe):r instanceof Zc&&s instanceof Zc}(t.transform,e.transform)}class VN{constructor(e,n){this.version=e,this.transformResults=n}}class Ln{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ln}static exists(e){return new Ln(void 0,e)}static updateTime(e){return new Ln(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _c(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class $l{}function X0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Sd(t.key,Ln.none()):new ga(t.key,t.data,Ln.none());{const n=t.data,r=cn.empty();let s=new Tt(Et.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ks(t.key,r,new En(s.toArray()),Ln.none())}}function MN(t,e,n){t instanceof ga?function(s,i,o){const a=s.value.clone(),l=n_(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ks?function(s,i,o){if(!_c(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=n_(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(Z0(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Io(t,e,n,r){return t instanceof ga?function(i,o,a,l){if(!_c(i.precondition,o))return a;const u=i.value.clone(),h=r_(i.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ks?function(i,o,a,l){if(!_c(i.precondition,o))return a;const u=r_(i.fieldTransforms,l,o),h=o.data;return h.setAll(Z0(i)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return _c(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function LN(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=G0(r.transform,s||null);i!=null&&(n===null&&(n=cn.empty()),n.set(r.field,i))}return n||null}function t_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&yi(r,s,(i,o)=>DN(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ga extends $l{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ks extends $l{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Z0(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function n_(t,e,n){const r=new Map;qe(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,xN(o,a,n[s]))}return r}function r_(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,NN(i,o,e))}return r}class Sd extends $l{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FN extends $l{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&MN(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Io(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Io(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=W0();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=X0(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Re())}isEqual(e){return this.batchId===e.batchId&&yi(this.mutations,e.mutations,(n,r)=>t_(n,r))&&yi(this.baseMutations,e.baseMutations,(n,r)=>t_(n,r))}}class Rd{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){qe(e.mutations.length===r.length);let s=function(){return RN}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Rd(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it,Ne;function BN(t){switch(t){default:return Ee();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function eT(t){if(t===void 0)return ar("GRPC error has no .code"),z.UNKNOWN;switch(t){case it.OK:return z.OK;case it.CANCELLED:return z.CANCELLED;case it.UNKNOWN:return z.UNKNOWN;case it.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case it.INTERNAL:return z.INTERNAL;case it.UNAVAILABLE:return z.UNAVAILABLE;case it.UNAUTHENTICATED:return z.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case it.NOT_FOUND:return z.NOT_FOUND;case it.ALREADY_EXISTS:return z.ALREADY_EXISTS;case it.PERMISSION_DENIED:return z.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case it.ABORTED:return z.ABORTED;case it.OUT_OF_RANGE:return z.OUT_OF_RANGE;case it.UNIMPLEMENTED:return z.UNIMPLEMENTED;case it.DATA_LOSS:return z.DATA_LOSS;default:return Ee()}}(Ne=it||(it={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=new ps([4294967295,4294967295],0);function s_(t){const e=HN().encode(t),n=new I0;return n.update(e),new Uint8Array(n.digest())}function i_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ps([n,r],0),new ps([s,i],0)]}class Cd{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new lo(`Invalid padding: ${n}`);if(r<0)throw new lo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new lo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new lo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ps.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(ps.fromNumber(r)));return s.compare(qN)===1&&(s=new ps([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=s_(e),[r,s]=i_(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Cd(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=s_(e),[r,s]=i_(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class lo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,_a.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Bl(Te.min(),s,new et(Ve),cr(),Re())}}class _a{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new _a(r,n,Re(),Re(),Re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class tT{constructor(e,n){this.targetId=e,this.me=n}}class nT{constructor(e,n,r=wt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class o_{constructor(){this.fe=0,this.ge=c_(),this.pe=wt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Re(),n=Re(),r=Re();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ee()}}),new _a(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=c_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class KN{constructor(e){this.Le=e,this.Be=new Map,this.ke=cr(),this.qe=a_(),this.Qe=new et(Ve)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(Bh(i))if(r===0){const o=new he(i.path);this.Ue(n,o,Ot.newNoDocument(o,Te.min()))}else qe(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=ws(r).toUint8Array()}catch(l){if(l instanceof D0)return _i("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Cd(o,s,i)}catch(l){return _i(l instanceof lo?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&Bh(a.target)){const l=new he(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Ot.newNoDocument(l,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=Re();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new Bl(e,n,this.Qe,this.ke,r);return this.ke=cr(),this.qe=a_(),this.Qe=new et(Ve),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new o_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Tt(Ve),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ae("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new o_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function a_(){return new et(he.comparator)}function c_(){return new et(he.comparator)}const WN={asc:"ASCENDING",desc:"DESCENDING"},zN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GN={and:"AND",or:"OR"};class QN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qh(t,e){return t.useProto3Json||Ml(e)?e:{value:e}}function tl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function JN(t,e){return tl(t,e.toTimestamp())}function Fn(t){return qe(!!t),Te.fromTimestamp(function(n){const r=Wr(n);return new ft(r.seconds,r.nanos)}(t))}function Pd(t,e){return Kh(t,e).canonicalString()}function Kh(t,e){const n=function(s){return new nt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function sT(t){const e=nt.fromString(t);return qe(lT(e)),e}function Wh(t,e){return Pd(t.databaseId,e.path)}function Bu(t,e){const n=sT(e);if(n.get(1)!==t.databaseId.projectId)throw new ue(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ue(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new he(oT(n))}function iT(t,e){return Pd(t.databaseId,e)}function YN(t){const e=sT(t);return e.length===4?nt.emptyPath():oT(e)}function zh(t){return new nt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function oT(t){return qe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function l_(t,e,n){return{name:Wh(t,e),fields:n.value.mapValue.fields}}function XN(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,h){return u.useProto3Json?(qe(h===void 0||typeof h=="string"),wt.fromBase64String(h||"")):(qe(h===void 0||h instanceof Buffer||h instanceof Uint8Array),wt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?z.UNKNOWN:eT(u.code);return new ue(h,u.message||"")}(o);n=new nT(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Bu(t,r.document.name),i=Fn(r.document.updateTime),o=r.document.createTime?Fn(r.document.createTime):Te.min(),a=new cn({mapValue:{fields:r.document.fields}}),l=Ot.newFoundDocument(s,i,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new yc(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Bu(t,r.document),i=r.readTime?Fn(r.readTime):Te.min(),o=Ot.newNoDocument(s,i),a=r.removedTargetIds||[];n=new yc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Bu(t,r.document),i=r.removedTargetIds||[];n=new yc([],i,s,null)}else{if(!("filter"in e))return Ee();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new $N(s,i),a=r.targetId;n=new tT(a,o)}}return n}function ZN(t,e){let n;if(e instanceof ga)n={update:l_(t,e.key,e.value)};else if(e instanceof Sd)n={delete:Wh(t,e.key)};else if(e instanceof ks)n={update:l_(t,e.key,e.data),updateMask:cx(e.fieldMask)};else{if(!(e instanceof FN))return Ee();n={verify:Wh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Zc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Wo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof zo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof el)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:JN(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ee()}(t,e.precondition)),n}function ex(t,e){return t&&t.length>0?(qe(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Fn(s.updateTime):Fn(i);return o.isEqual(Te.min())&&(o=Fn(i)),new VN(o,s.transformResults||[])}(n,e))):[]}function tx(t,e){return{documents:[iT(t,e.path)]}}function nx(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=iT(t,s);const i=function(u){if(u.length!==0)return cT(Hn.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(h=>function(p){return{field:Qs(p.field),direction:ix(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=qh(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:s}}function rx(t){let e=YN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){qe(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const p=aT(f);return p instanceof Hn&&F0(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(E){return new Xc(Js(E.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,Ml(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,g=f.values||[];return new Yc(g,p)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const p=!f.before,g=f.values||[];return new Yc(g,p)}(n.endAt)),TN(e,s,o,i,a,"F",l,u)}function sx(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function aT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Js(n.unaryFilter.field);return lt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Js(n.unaryFilter.field);return lt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Js(n.unaryFilter.field);return lt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Js(n.unaryFilter.field);return lt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(t):t.fieldFilter!==void 0?function(n){return lt.create(Js(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Hn.create(n.compositeFilter.filters.map(r=>aT(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ee()}}(n.compositeFilter.op))}(t):Ee()}function ix(t){return WN[t]}function ox(t){return zN[t]}function ax(t){return GN[t]}function Qs(t){return{fieldPath:t.canonicalString()}}function Js(t){return Et.fromServerFormat(t.fieldPath)}function cT(t){return t instanceof lt?function(n){if(n.op==="=="){if(Qg(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NAN"}};if(Gg(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Qg(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NOT_NAN"}};if(Gg(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qs(n.field),op:ox(n.op),value:n.value}}}(t):t instanceof Hn?function(n){const r=n.getFilters().map(s=>cT(s));return r.length===1?r[0]:{compositeFilter:{op:ax(n.op),filters:r}}}(t):Ee()}function cx(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function lT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,n,r,s,i=Te.min(),o=Te.min(),a=wt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Nr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e){this.ct=e}}function ux(t){const e=rx({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Hh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(){this.un=new fx}addToCollectionParentIndex(e,n){return this.un.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(Kr.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(Kr.min())}updateCollectionGroup(e,n,r){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class fx{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Tt(nt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Tt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ti(0)}static kn(){return new Ti(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(){this.changes=new xi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ot.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Io(r.mutation,s,En.empty(),ft.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Re()){const s=as();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=co();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=as();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Re()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=cr();const o=bo(),a=function(){return bo()}();return n.forEach((l,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof ks)?i=i.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),Io(h.mutation,u,h.mutation.getFieldMask(),ft.now())):o.set(u.key,En.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>{var f;return a.set(u,new px(h,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=bo();let s=new et((o,a)=>o-a),i=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||En.empty();h=a.applyToLocalView(u,h),r.set(l,h);const f=(s.get(a.batchId)||Re()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,f=W0();h.forEach(p=>{if(!i.has(p)){const g=X0(n.get(p),r.get(p));g!==null&&f.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return he.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):q.resolve(as());let a=-1,l=i;return o.next(u=>q.forEach(u,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?q.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{l=l.insert(h,p)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,Re())).next(h=>({batchId:a,changes:K0(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new he(n)).next(r=>{let s=co();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=co();return this.indexManager.getCollectionParents(e,i).next(a=>q.forEach(a,l=>{const u=function(f,p){return new Ll(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,Ot.newInvalidDocument(h)))});let a=co();return o.forEach((l,u)=>{const h=i.get(l);h!==void 0&&Io(h.mutation,u,En.empty(),ft.now()),Ul(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return q.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Fn(s.createTime)}}(n)),q.resolve()}getNamedQuery(e,n){return q.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:ux(s.bundledQuery),readTime:Fn(s.readTime)}}(n)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(){this.overlays=new et(he.comparator),this.Ir=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=as();return q.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),q.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),q.resolve()}getOverlaysForCollection(e,n,r){const s=as(),i=n.length+1,o=new he(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return q.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new et((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=as(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=as(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=s)););return q.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new jN(n,r));let i=this.Ir.get(n);i===void 0&&(i=Re(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(){this.sessionToken=wt.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(){this.Tr=new Tt(mt.Er),this.dr=new Tt(mt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new mt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new mt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new he(new nt([])),r=new mt(n,e),s=new mt(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new he(new nt([])),r=new mt(n,e),s=new mt(n,e+1);let i=Re();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new mt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class mt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return he.comparator(e.key,n.key)||Ve(e.wr,n.wr)}static Ar(e,n){return Ve(e.wr,n.wr)||he.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Tt(mt.Er)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new UN(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new mt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return q.resolve(o)}lookupMutationBatch(e,n){return q.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new mt(n,0),s=new mt(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Tt(Ve);return n.forEach(s=>{const i=new mt(s,0),o=new mt(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;he.isDocumentKey(i)||(i=i.child(""));const o=new mt(new he(i),0);let a=new Tt(Ve);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.wr)),!0)},o),q.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){qe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return q.forEach(n.mutations,s=>{const i=new mt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new mt(n,0),s=this.br.firstAfterOrEqual(r);return q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e){this.Mr=e,this.docs=function(){return new et(he.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return q.resolve(r?r.document.mutableCopy():Ot.newInvalidDocument(n))}getEntries(e,n){let r=cr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Ot.newInvalidDocument(s))}),q.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=cr();const o=n.path,a=new he(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||nN(tN(h),r)<=0||(s.has(h.key)||Ul(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return q.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Ee()}Or(e,n){return q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Tx(this)}getSize(e){return q.resolve(this.size)}}class Tx extends dx{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),q.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e){this.persistence=e,this.Nr=new xi(n=>wd(n),bd),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Od,this.targetCount=0,this.kr=Ti.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),q.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ti(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.Kn(n),q.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),q.waitFor(i).next(()=>s)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return q.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),q.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),q.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return q.resolve(r)}containsKey(e,n){return q.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e,n){this.qr={},this.overlays={},this.Qr=new yd(0),this.Kr=!1,this.Kr=!0,this.$r=new yx,this.referenceDelegate=e(this),this.Ur=new wx(this),this.indexManager=new hx,this.remoteDocumentCache=function(s){return new Ex(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new lx(n),this.Gr=new gx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _x,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new vx(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ae("MemoryPersistence","Starting transaction:",e);const s=new Ix(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return q.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Ix extends sN{constructor(e){super(),this.currentSequenceNumber=e}}class kd{constructor(e){this.persistence=e,this.Jr=new Od,this.Yr=null}static Zr(e){return new kd(e)}get Xr(){if(this.Yr)return this.Yr;throw Ee()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),q.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),q.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.Xr,r=>{const s=he.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,Te.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return q.or([()=>q.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=Re(),s=Re();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Nd(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return p1()?8:iN(Vt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new Ax;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(to()<=Oe.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Gs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),q.resolve()):(to()<=Oe.DEBUG&&ae("QueryEngine","Query:",Gs(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(to()<=Oe.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Gs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mn(n))):q.resolve())}Yi(e,n){if(Zg(n))return q.resolve(null);let r=Mn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Hh(n,null,"F"),r=Mn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Re(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,Hh(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,s){return Zg(n)||s.isEqual(Te.min())?q.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?q.resolve(null):(to()<=Oe.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Gs(n)),this.rs(e,o,n,eN(s,-1)).next(a=>a))})}ts(e,n){let r=new Tt(H0(e));return n.forEach((s,i)=>{Ul(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return to()<=Oe.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Gs(n)),this.Ji.getDocumentsMatchingQuery(e,n,Kr.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new et(Ve),this._s=new xi(i=>wd(i),bd),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mx(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function Cx(t,e,n,r){return new Rx(t,e,n,r)}async function uT(t,e){const n=we(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Re();for(const u of s){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of i){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function Px(t,e){const n=we(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const f=u.batch,p=f.keys();let g=q.resolve();return p.forEach(E=>{g=g.next(()=>h.getEntry(l,E)).next(R=>{const S=u.docVersions.get(E);qe(S!==null),R.version.compareTo(S)<0&&(f.applyToRemoteDocument(R,u),R.isValidDocument()&&(R.setReadTime(u.commitVersion),h.addEntry(R)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Re();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function hT(t){const e=we(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Ox(t,e){const n=we(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;a.push(n.Ur.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(i,h.addedDocuments,f)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(wt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(f,g),function(R,S,x){return R.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(p,g,h)&&a.push(n.Ur.updateTargetData(i,g))});let l=cr(),u=Re();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(kx(i,o,e.documentUpdates).next(h=>{l=h.Ps,u=h.Is})),!r.isEqual(Te.min())){const h=n.Ur.getLastRemoteSnapshotVersion(i).next(f=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return q.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.os=s,i))}function kx(t,e,n){let r=Re(),s=Re();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=cr();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Te.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ae("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:s}})}function Nx(t,e){const n=we(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function xx(t,e){const n=we(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,q.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new Nr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Gh(t,e,n){const r=we(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!ma(o))throw o;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function u_(t,e,n){const r=we(t);let s=Te.min(),i=Re();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,h){const f=we(l),p=f._s.get(h);return p!==void 0?q.resolve(f.os.get(p)):f.Ur.getTargetData(u,h)}(r,o,Mn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:Te.min(),n?i:Re())).next(a=>(Dx(r,IN(e),a),{documents:a,Ts:i})))}function Dx(t,e,n){let r=t.us.get(e)||Te.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class h_{constructor(){this.activeTargetIds=ON()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Vx{constructor(){this.so=new h_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new h_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rc=null;function Hu(){return rc===null?rc=function(){return 268435456+Math.round(2147483648*Math.random())}():rc++,"0x"+rc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rt="WebChannelConnection";class Ux extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=Hu(),l=this.xo(n,r.toUriEncodedString());ae("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,i,o),this.No(n,l,u,s).then(h=>(ae("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw _i("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",s),h})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ki}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=Lx[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=Hu();return new Promise((o,a)=>{const l=new A0;l.setWithCredentials(!0),l.listenOnce(R0.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case mc.NO_ERROR:const h=l.getResponseJson();ae(Rt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case mc.TIMEOUT:ae(Rt,`RPC '${e}' ${i} timed out`),a(new ue(z.DEADLINE_EXCEEDED,"Request time out"));break;case mc.HTTP_ERROR:const f=l.getStatus();if(ae(Rt,`RPC '${e}' ${i} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const E=function(S){const x=S.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(x)>=0?x:z.UNKNOWN}(g.status);a(new ue(E,g.message))}else a(new ue(z.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ue(z.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{ae(Rt,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);ae(Rt,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const s=Hu(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=O0(),a=P0(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new S0({})),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");ae(Rt,`Creating RPC '${e}' stream ${s}: ${h}`,l);const f=o.createWebChannel(h,l);let p=!1,g=!1;const E=new Fx({Io:S=>{g?ae(Rt,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(p||(ae(Rt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),ae(Rt,`RPC '${e}' stream ${s} sending:`,S),f.send(S))},To:()=>f.close()}),R=(S,x,O)=>{S.listen(x,_=>{try{O(_)}catch(P){setTimeout(()=>{throw P},0)}})};return R(f,ao.EventType.OPEN,()=>{g||(ae(Rt,`RPC '${e}' stream ${s} transport opened.`),E.yo())}),R(f,ao.EventType.CLOSE,()=>{g||(g=!0,ae(Rt,`RPC '${e}' stream ${s} transport closed`),E.So())}),R(f,ao.EventType.ERROR,S=>{g||(g=!0,_i(Rt,`RPC '${e}' stream ${s} transport errored:`,S),E.So(new ue(z.UNAVAILABLE,"The operation could not be completed")))}),R(f,ao.EventType.MESSAGE,S=>{var x;if(!g){const O=S.data[0];qe(!!O);const _=O,P=_.error||((x=_[0])===null||x===void 0?void 0:x.error);if(P){ae(Rt,`RPC '${e}' stream ${s} received error:`,P);const D=P.status;let L=function(y){const w=it[y];if(w!==void 0)return eT(w)}(D),b=P.message;L===void 0&&(L=z.INTERNAL,b="Unknown error status: "+D+" with message "+P.message),g=!0,E.So(new ue(L,b)),f.close()}else ae(Rt,`RPC '${e}' stream ${s} received:`,O),E.bo(O)}}),R(a,C0.STAT_EVENT,S=>{S.stat===Fh.PROXY?ae(Rt,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===Fh.NOPROXY&&ae(Rt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.wo()},0),E}}function qu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(t){return new QN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&ae("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,n,r,s,i,o,a,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new fT(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(ar(n.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new ue(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jx extends dT{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=XN(this.serializer,e),r=function(i){if(!("targetChange"in i))return Te.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Te.min():o.readTime?Fn(o.readTime):Te.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=zh(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Bh(l)?{documents:tx(i,l)}:{query:nx(i,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=rT(i,o.resumeToken);const u=qh(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Te.min())>0){a.readTime=tl(i,o.snapshotVersion.toTimestamp());const u=qh(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=sx(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=zh(this.serializer),n.removeTarget=e,this.a_(n)}}class $x extends dT{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return qe(!!e.streamToken),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=ex(e.writeResults,e.commitTime),r=Fn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=zh(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>ZN(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new ue(z.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,Kh(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ue(z.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Kh(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ue(z.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Hx{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ar(n),this.D_=!1):ae("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ns(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=we(l);u.L_.add(4),await ya(u),u.q_.set("Unknown"),u.L_.delete(4),await ql(u)}(this))})}),this.q_=new Hx(r,s)}}async function ql(t){if(Ns(t))for(const e of t.B_)await e(!0)}async function ya(t){for(const e of t.B_)await e(!1)}function pT(t,e){const n=we(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Md(n)?Vd(n):Di(n).r_()&&Dd(n,e))}function xd(t,e){const n=we(t),r=Di(n);n.N_.delete(e),r.r_()&&mT(n,e),n.N_.size===0&&(r.r_()?r.o_():Ns(n)&&n.q_.set("Unknown"))}function Dd(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Di(t).A_(e)}function mT(t,e){t.Q_.xe(e),Di(t).R_(e)}function Vd(t){t.Q_=new KN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Di(t).start(),t.q_.v_()}function Md(t){return Ns(t)&&!Di(t).n_()&&t.N_.size>0}function Ns(t){return we(t).L_.size===0}function gT(t){t.Q_=void 0}async function Kx(t){t.q_.set("Online")}async function Wx(t){t.N_.forEach((e,n)=>{Dd(t,e)})}async function zx(t,e){gT(t),Md(t)?(t.q_.M_(e),Vd(t)):t.q_.set("Unknown")}async function Gx(t,e,n){if(t.q_.set("Online"),e instanceof nT&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await nl(t,r)}else if(e instanceof yc?t.Q_.Ke(e):e instanceof tT?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Te.min()))try{const r=await hT(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.N_.get(u);h&&i.N_.set(u,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const h=i.N_.get(l);if(!h)return;i.N_.set(l,h.withResumeToken(wt.EMPTY_BYTE_STRING,h.snapshotVersion)),mT(i,l);const f=new Nr(h.target,l,u,h.sequenceNumber);Dd(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ae("RemoteStore","Failed to raise snapshot:",r),await nl(t,r)}}async function nl(t,e,n){if(!ma(e))throw e;t.L_.add(1),await ya(t),t.q_.set("Offline"),n||(n=()=>hT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ae("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await ql(t)})}function _T(t,e){return e().catch(n=>nl(t,n,e))}async function Kl(t){const e=we(t),n=zr(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Qx(e);)try{const s=await Nx(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,Jx(e,s)}catch(s){await nl(e,s)}yT(e)&&vT(e)}function Qx(t){return Ns(t)&&t.O_.length<10}function Jx(t,e){t.O_.push(e);const n=zr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function yT(t){return Ns(t)&&!zr(t).n_()&&t.O_.length>0}function vT(t){zr(t).start()}async function Yx(t){zr(t).p_()}async function Xx(t){const e=zr(t);for(const n of t.O_)e.m_(n.mutations)}async function Zx(t,e,n){const r=t.O_.shift(),s=Rd.from(r,e,n);await _T(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Kl(t)}async function eD(t,e){e&&zr(t).V_&&await async function(r,s){if(function(o){return BN(o)&&o!==z.ABORTED}(s.code)){const i=r.O_.shift();zr(r).s_(),await _T(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Kl(r)}}(t,e),yT(t)&&vT(t)}async function d_(t,e){const n=we(t);n.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const r=Ns(n);n.L_.add(3),await ya(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await ql(n)}async function tD(t,e){const n=we(t);e?(n.L_.delete(2),await ql(n)):e||(n.L_.add(2),await ya(n),n.q_.set("Unknown"))}function Di(t){return t.K_||(t.K_=function(n,r,s){const i=we(n);return i.w_(),new jx(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:Kx.bind(null,t),Ro:Wx.bind(null,t),mo:zx.bind(null,t),d_:Gx.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Md(t)?Vd(t):t.q_.set("Unknown")):(await t.K_.stop(),gT(t))})),t.K_}function zr(t){return t.U_||(t.U_=function(n,r,s){const i=we(n);return i.w_(),new $x(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Yx.bind(null,t),mo:eD.bind(null,t),f_:Xx.bind(null,t),g_:Zx.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Kl(t)):(await t.U_.stop(),t.O_.length>0&&(ae("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Ld(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fd(t,e){if(ar("AsyncQueue",`${e}: ${t}`),ma(t))return new ue(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this.comparator=e?(n,r)=>e(n,r)||he.comparator(n.key,r.key):(n,r)=>he.comparator(n.key,r.key),this.keyedMap=co(),this.sortedSet=new et(this.comparator)}static emptySet(e){return new ci(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ci)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ci;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(){this.W_=new et(he.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ee():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class wi{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new wi(e,n,ci.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class rD{constructor(){this.queries=m_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=we(n),i=s.queries;s.queries=m_(),i.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new ue(z.ABORTED,"Firestore shutting down"))}}function m_(){return new xi(t=>B0(t),Fl)}async function sD(t,e){const n=we(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new nD,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Fd(o,`Initialization of query '${Gs(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&Ud(n)}async function iD(t,e){const n=we(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function oD(t,e){const n=we(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&Ud(n)}function aD(t,e,n){const r=we(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function Ud(t){t.Y_.forEach(e=>{e.next()})}var Qh,g_;(g_=Qh||(Qh={})).ea="default",g_.Cache="cache";class cD{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new wi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=wi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Qh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e){this.key=e}}class TT{constructor(e){this.key=e}}class lD{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Re(),this.mutatedKeys=Re(),this.Aa=H0(e),this.Ra=new ci(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new p_,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),g=Ul(this.query,f)?f:null,E=!!p&&this.mutatedKeys.has(p.key),R=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let S=!1;p&&g?p.data.isEqual(g.data)?E!==R&&(r.track({type:3,doc:g}),S=!0):this.ga(p,g)||(r.track({type:2,doc:g}),S=!0,(l&&this.Aa(g,l)>0||u&&this.Aa(g,u)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),S=!0):p&&!g&&(r.track({type:1,doc:p}),S=!0,(l||u)&&(a=!0)),S&&(g?(o=o.add(g),i=R?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,f)=>function(g,E){const R=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return R(g)-R(E)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new wi(this.query,e.Ra,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new p_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Re(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new TT(r))}),this.da.forEach(r=>{e.has(r)||n.push(new ET(r))}),n}ba(e){this.Ta=e.Ts,this.da=Re();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return wi.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class uD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class hD{constructor(e){this.key=e,this.va=!1}}class fD{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new xi(a=>B0(a),Fl),this.Ma=new Map,this.xa=new Set,this.Oa=new et(he.comparator),this.Na=new Map,this.La=new Od,this.Ba={},this.ka=new Map,this.qa=Ti.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function dD(t,e,n=!0){const r=RT(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await wT(r,e,n,!0),s}async function pD(t,e){const n=RT(t);await wT(n,e,!0,!1)}async function wT(t,e,n,r){const s=await xx(t.localStore,Mn(e)),i=s.targetId,o=n?t.sharedClientState.addLocalQueryTarget(i):"not-current";let a;return r&&(a=await mD(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&pT(t.remoteStore,s),a}async function mD(t,e,n,r,s){t.Ka=(f,p,g)=>async function(R,S,x,O){let _=S.view.ma(x);_.ns&&(_=await u_(R.localStore,S.query,!1).then(({documents:b})=>S.view.ma(b,_)));const P=O&&O.targetChanges.get(S.targetId),D=O&&O.targetMismatches.get(S.targetId)!=null,L=S.view.applyChanges(_,R.isPrimaryClient,P,D);return y_(R,S.targetId,L.wa),L.snapshot}(t,f,p,g);const i=await u_(t.localStore,e,!0),o=new lD(e,i.Ts),a=o.ma(i.documents),l=_a.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);y_(t,n,u.wa);const h=new uD(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function gD(t,e,n){const r=we(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!Fl(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Gh(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&xd(r.remoteStore,s.targetId),Jh(r,s.targetId)}).catch(pa)):(Jh(r,s.targetId),await Gh(r.localStore,s.targetId,!0))}async function _D(t,e){const n=we(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),xd(n.remoteStore,r.targetId))}async function yD(t,e,n){const r=AD(t);try{const s=await function(o,a){const l=we(o),u=ft.now(),h=a.reduce((g,E)=>g.add(E.key),Re());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let E=cr(),R=Re();return l.cs.getEntries(g,h).next(S=>{E=S,E.forEach((x,O)=>{O.isValidDocument()||(R=R.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,E)).next(S=>{f=S;const x=[];for(const O of a){const _=LN(O,f.get(O.key).overlayedDocument);_!=null&&x.push(new ks(O.key,_,V0(_.value.mapValue),Ln.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,x,a)}).next(S=>{p=S;const x=S.applyToLocalDocumentSet(f,R);return l.documentOverlayCache.saveOverlays(g,S.batchId,x)})}).then(()=>({batchId:p.batchId,changes:K0(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new et(Ve)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,s.batchId,n),await va(r,s.changes),await Kl(r.remoteStore)}catch(s){const i=Fd(s,"Failed to persist write");n.reject(i)}}async function bT(t,e){const n=we(t);try{const r=await Ox(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(qe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?qe(o.va):s.removedDocuments.size>0&&(qe(o.va),o.va=!1))}),await va(n,r,e)}catch(r){await pa(r)}}function __(t,e,n){const r=we(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=we(o);l.onlineState=a;let u=!1;l.queries.forEach((h,f)=>{for(const p of f.j_)p.Z_(a)&&(u=!0)}),u&&Ud(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function vD(t,e,n){const r=we(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new et(he.comparator);o=o.insert(i,Ot.newNoDocument(i,Te.min()));const a=Re().add(i),l=new Bl(Te.min(),new Map,new et(Ve),o,a);await bT(r,l),r.Oa=r.Oa.remove(i),r.Na.delete(e),jd(r)}else await Gh(r.localStore,e,!1).then(()=>Jh(r,e,n)).catch(pa)}async function ED(t,e){const n=we(t),r=e.batch.batchId;try{const s=await Px(n.localStore,e);AT(n,r,null),IT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await va(n,s)}catch(s){await pa(s)}}async function TD(t,e,n){const r=we(t);try{const s=await function(o,a){const l=we(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(qe(f!==null),h=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);AT(r,e,n),IT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await va(r,s)}catch(s){await pa(s)}}function IT(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function AT(t,e,n){const r=we(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function Jh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||ST(t,r)})}function ST(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(xd(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),jd(t))}function y_(t,e,n){for(const r of n)r instanceof ET?(t.La.addReference(r.key,e),wD(t,r)):r instanceof TT?(ae("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||ST(t,r.key)):Ee()}function wD(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ae("SyncEngine","New document in limbo: "+n),t.xa.add(r),jd(t))}function jd(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new he(nt.fromString(e)),r=t.qa.next();t.Na.set(r,new hD(n)),t.Oa=t.Oa.insert(n,r),pT(t.remoteStore,new Nr(Mn(Id(n.path)),r,"TargetPurposeLimboResolution",yd.oe))}}async function va(t,e,n){const r=we(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){s.push(u);const f=Nd.Wi(l.targetId,u);i.push(f)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(l,u){const h=we(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>q.forEach(u,p=>q.forEach(p.$i,g=>h.persistence.referenceDelegate.addReference(f,p.targetId,g)).next(()=>q.forEach(p.Ui,g=>h.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))}catch(f){if(!ma(f))throw f;ae("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const p=f.targetId;if(!f.fromCache){const g=h.os.get(p),E=g.snapshotVersion,R=g.withLastLimboFreeSnapshotVersion(E);h.os=h.os.insert(p,R)}}}(r.localStore,i))}async function bD(t,e){const n=we(t);if(!n.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());const r=await uT(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new ue(z.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await va(n,r.hs)}}function ID(t,e){const n=we(t),r=n.Na.get(e);if(r&&r.va)return Re().add(r.key);{let s=Re();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function RT(t){const e=we(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=bT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ID.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vD.bind(null,e),e.Ca.d_=oD.bind(null,e.eventManager),e.Ca.$a=aD.bind(null,e.eventManager),e}function AD(t){const e=we(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ED.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TD.bind(null,e),e}class v_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Hl(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Cx(this.persistence,new Sx,e.initialUser,this.serializer)}createPersistence(e){return new bx(kd.Zr,this.serializer)}createSharedClientState(e){return new Vx}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class SD{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>__(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=bD.bind(null,this.syncEngine),await tD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new rD}()}createDatastore(e){const n=Hl(e.databaseInfo.databaseId),r=function(i){return new Ux(i)}(e.databaseInfo);return function(i,o,a,l){return new Bx(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new qx(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>__(this.syncEngine,n,0),function(){return f_.D()?new f_:new Mx}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,h){const f=new fD(s,i,o,a,l,u);return h&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=we(s);ae("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await ya(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):ar("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ct.UNAUTHENTICATED,this.clientId=N0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{ae("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(ae("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ue(z.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Fd(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ku(t,e){t.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await uT(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function E_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await OD(t);ae("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>d_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>d_(e.remoteStore,s)),t._onlineComponents=e}function PD(t){return t.name==="FirebaseError"?t.code===z.FAILED_PRECONDITION||t.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function OD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ku(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!PD(n))throw n;_i("Error using user provided cache. Falling back to memory cache: "+n),await Ku(t,new v_)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),await Ku(t,new v_);return t._offlineComponents}async function CT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),await E_(t,t._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),await E_(t,new SD))),t._onlineComponents}function kD(t){return CT(t).then(e=>e.syncEngine)}async function ND(t){const e=await CT(t),n=e.eventManager;return n.onListen=dD.bind(null,e.syncEngine),n.onUnlisten=gD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=pD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_D.bind(null,e.syncEngine),n}function xD(t,e,n={}){const r=new jr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const h=new RD({next:p=>{o.enqueueAndForget(()=>iD(i,f));const g=p.docs.has(a);!g&&p.fromCache?u.reject(new ue(z.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?u.reject(new ue(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new cD(Id(a.path),h,{includeMetadataChanges:!0,_a:!0});return sD(i,f)}(await ND(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(t,e,n){if(!n)throw new ue(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function VD(t,e,n,r){if(e===!0&&r===!0)throw new ue(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function w_(t){if(!he.isDocumentKey(t))throw new ue(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $d(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ee()}function bi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ue(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$d(t);throw new ue(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ue(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ue(z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ue(z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ue(z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bd{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new b_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ue(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ue(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new b_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Kk;switch(r.type){case"firstParty":return new Qk(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=T_.get(n);r&&(ae("ComponentProvider","Removing Datastore"),T_.delete(n),r.terminate())}(this),Promise.resolve()}}function MD(t,e,n,r={}){var s;const i=(t=bi(t,Bd))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&_i("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Ct.MOCK_USER;else{a=c1(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ue(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ct(u)}t._authCredentials=new Wk(new k0(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Hd(this.firestore,e,this._query)}}class fn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Go(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}}class Go extends Hd{constructor(e,n,r){super(e,n,Id(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new he(e))}withConverter(e){return new Go(this.firestore,e,this._path)}}function I_(t,e,...n){if(t=rn(t),arguments.length===1&&(e=N0.newId()),DD("doc","path",e),t instanceof Bd){const r=nt.fromString(e,...n);return w_(r),new fn(t,null,new he(r))}{if(!(t instanceof fn||t instanceof Go))throw new ue(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(nt.fromString(e,...n));return w_(r),new fn(t.firestore,t instanceof Go?t.converter:null,new he(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new fT(this,"async_queue_retry"),this.Eu=()=>{const n=qu();n&&ae("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=qu();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=qu();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new jr;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!ma(e))throw e;ae("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ar("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const s=Ld.createAndSchedule(this,e,n,r,i=>this.Vu(i));return this.lu.push(s),s}du(){this.hu&&Ee()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}class Wl extends Bd{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new LD}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||kT(this),this._firestoreClient.terminate()}}function FD(t,e){const n=typeof t=="object"?t:$E(),r=typeof t=="string"?t:"(default)",s=ad(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=o1("firestore");i&&MD(s,...i)}return s}function OT(t){return t._firestoreClient||kT(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function kT(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,u,h){return new cN(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,PT(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new CD(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ii(wt.fromBase64String(e))}catch(n){throw new ue(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ii(wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD=/^__.*__$/;class jD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ks(e,this.data,this.fieldMask,n,this.fieldTransforms):new ga(e,this.data,n,this.fieldTransforms)}}function xT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class zd{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.yu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new zd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Su({path:r,Du:!1});return s.vu(e),s}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Su({path:r,Du:!1});return s.yu(),s}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return rl(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(xT(this.wu)&&UD.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class $D{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Hl(e)}Nu(e,n,r,s=!1){return new zd({wu:e,methodName:n,Ou:r,path:Et.emptyPath(),Du:!1,xu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function BD(t){const e=t._freezeSettings(),n=Hl(t._databaseId);return new $D(t._databaseId,!!e.ignoreUndefinedProperties,n)}function HD(t,e,n,r,s,i={}){const o=t.Nu(i.merge||i.mergeFields?2:0,e,n,s);LT("Data must be an object, but it was:",o,r);const a=VT(r,o);let l,u;if(i.merge)l=new En(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const p=qD(e,f,n);if(!o.contains(p))throw new ue(z.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);WD(h,p)||h.push(p)}l=new En(h),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new jD(new cn(a),l,u)}function DT(t,e){if(MT(t=rn(t)))return LT("Unsupported field value:",e,t),VT(t,e);if(t instanceof NT)return function(r,s){if(!xT(s.wu))throw s.Mu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Mu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=DT(a,s.Fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=rn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return kN(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=ft.fromDate(r);return{timestampValue:tl(s.serializer,i)}}if(r instanceof ft){const i=new ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:tl(s.serializer,i)}}if(r instanceof Kd)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ii)return{bytesValue:rT(s.serializer,r._byteString)};if(r instanceof fn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Pd(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Wd)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return Ad(a.serializer,l)})}}}}}}(r,s);throw s.Mu(`Unsupported field value: ${$d(r)}`)}(t,e)}function VT(t,e){const n={};return x0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ni(t,(r,s)=>{const i=DT(s,e.bu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function MT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ft||t instanceof Kd||t instanceof Ii||t instanceof fn||t instanceof NT||t instanceof Wd)}function LT(t,e,n){if(!MT(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=$d(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function qD(t,e,n){if((e=rn(e))instanceof qd)return e._internalPath;if(typeof e=="string")return FT(t,e);throw rl("Field path arguments must be of type string or ",t,!1,void 0,n)}const KD=new RegExp("[~\\*/\\[\\]]");function FT(t,e,n){if(e.search(KD)>=0)throw rl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new qd(...e.split("."))._internalPath}catch{throw rl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rl(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new ue(z.INVALID_ARGUMENT,a+t+l)}function WD(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(jT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class zD extends UT{data(){return super.data()}}function jT(t,e){return typeof e=="string"?FT(t,e):e instanceof qd?e._internalPath:e._delegate._internalPath}class GD{convertValue(e,n="none"){switch(bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ni(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>rt(o.doubleValue));return new Wd(i)}convertGeoPoint(e){return new Kd(rt(e.latitude),rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ed(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ho(e));default:return null}}convertTimestamp(e){const n=Wr(e);return new ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=nt.fromString(e);qe(lT(r));const s=new qo(r.get(1),r.get(3)),i=new he(r.popFirst(5));return s.isEqual(n)||ar(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $T extends UT{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new YD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(jT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class YD extends $T{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(t){t=bi(t,fn);const e=bi(t.firestore,Wl);return xD(OT(e),t._key).then(n=>nV(e,t,n))}class ZD extends GD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ii(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,n)}}function eV(t,e,n){t=bi(t,fn);const r=bi(t.firestore,Wl),s=QD(t.converter,e);return BT(r,[HD(BD(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Ln.none())])}function tV(t){return BT(bi(t.firestore,Wl),[new Sd(t._key,Ln.none())])}function BT(t,e){return function(r,s){const i=new jr;return r.asyncQueue.enqueueAndForget(async()=>yD(await kD(r),s,i)),i.promise}(OT(t),e)}function nV(t,e,n){const r=n.docs.get(e._key),s=new ZD(t);return new $T(t,s,e._key,r,new JD(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){ki=s})(Pi),gi(new ys("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Wl(new zk(r.getProvider("auth-internal")),new Yk(r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ue(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qo(u.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Ur(Hg,"4.7.1",e),Ur(Hg,"4.7.1","esm2017")})();const rV={apiKey:"AIzaSyAMBXbCVYqCAxFvEtj1q46wHYQdMNp2D8A",authDomain:"samle-48b27.firebaseapp.com",projectId:"samle-48b27",storageBucket:"samle-48b27.appspot.com",messagingSenderId:"33990985691",appId:"1:33990985691:web:1c428e46b0908c2ac5c9fe"},HT=jE(rV),Qo=Hk(HT),A_=FD(HT),mn=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},sV={class:"navbar"},iV={class:"container"},oV={class:"nav-right"},aV={class:"user-dropdown"},cV={__name:"Navbar",setup(t){const e=ye(!1),n=ye(!1),r=ye(null),s=sd(),i=ye(null),o=()=>{e.value=!e.value},a=()=>{n.value=!n.value},l=async()=>{try{await NO(Qo),s.push("/"),n.value=!1}catch(f){console.error("Error signing out:",f)}},u=f=>{i.value&&!i.value.contains(f.target)&&(n.value=!1)};let h;return pn(()=>{h=kO(Qo,f=>{r.value=f}),document.addEventListener("click",u)}),Cs(()=>{h&&h(),document.removeEventListener("click",u)}),(f,p)=>{const g=sa("router-link");return te(),de("nav",sV,[j("div",iV,[ve(g,{to:"/",class:"logo"},{default:Je(()=>p[0]||(p[0]=[j("img",{src:GR,alt:"Logo"},null,-1)])),_:1}),j("div",oV,[j("div",{class:"user-menu",ref_key:"userMenu",ref:i},[j("button",{onClick:a,class:"user-icon","aria-label":"User menu"},p[1]||(p[1]=[j("svg",{xmlns:"http://www.w3.org/2000/svg",height:"32",width:"32",viewBox:"0 0 512 512"},[j("path",{d:"M406.5 399.6C387.4 352.9 341.5 320 288 320l-64 0c-53.5 0-99.4 32.9-118.5 79.6C69.9 362.2 48 311.7 48 256C48 141.1 141.1 48 256 48s208 93.1 208 208c0 55.7-21.9 106.2-57.5 143.6zm-40.1 32.7C334.4 452.4 296.6 464 256 464s-78.4-11.6-110.5-31.7c7.3-36.7 39.7-64.3 78.5-64.3l64 0c38.8 0 71.2 27.6 78.5 64.3zM256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-272a40 40 0 1 1 0-80 40 40 0 1 1 0 80zm-88-40a88 88 0 1 0 176 0 88 88 0 1 0 -176 0z"})],-1)])),ln(j("div",aV,[r.value?ot("",!0):(te(),Bt(g,{key:0,to:"/signin"},{default:Je(()=>p[2]||(p[2]=[gt("Sign In")])),_:1})),r.value?ot("",!0):(te(),Bt(g,{key:1,to:"/signup"},{default:Je(()=>p[3]||(p[3]=[gt("Sign Up")])),_:1})),r.value?(te(),Bt(g,{key:2,to:"/favorites"},{default:Je(()=>p[4]||(p[4]=[gt("Favorites")])),_:1})):ot("",!0),r.value?(te(),de("a",{key:3,onClick:l,href:"#"},"Sign Out")):ot("",!0)],512),[[Qf,n.value]])],512),j("div",{class:jn(["menu-icon",{open:e.value}]),onClick:o},p[5]||(p[5]=[j("span",null,null,-1),j("span",null,null,-1),j("span",null,null,-1)]),2)]),j("ul",{class:jn(["nav-links",{open:e.value}])},[j("li",null,[ve(g,{to:"/"},{default:Je(()=>p[6]||(p[6]=[gt("Home")])),_:1})]),j("li",null,[ve(g,{to:"/about"},{default:Je(()=>p[7]||(p[7]=[gt("About")])),_:1})]),j("li",null,[ve(g,{to:"/contact"},{default:Je(()=>p[8]||(p[8]=[gt("Contact")])),_:1})])],2)])])}}},lV=mn(cV,[["__scopeId","data-v-f7609e03"]]),uV={class:"footer"},hV={class:"container"},fV={class:"footer-content"},dV={class:"footer-section fade-in"},pV={class:"footer-bottom slide-in-left"},mV={__name:"Footer",setup(t){const e=ye(new Date().getFullYear());return pn(()=>{}),(n,r)=>{const s=sa("router-link");return te(),de("footer",uV,[j("div",hV,[j("div",fV,[r[5]||(r[5]=j("div",{class:"footer-section fade-in"},[j("h3",null,"About Cook Castle"),j("p",null,"Discover delicious recipes and culinary inspiration at Cook Castle. Our mission is to make cooking fun and accessible for everyone.")],-1)),j("div",dV,[r[4]||(r[4]=j("h3",null,"Quick Links",-1)),j("ul",null,[j("li",null,[ve(s,{to:"/"},{default:Je(()=>r[0]||(r[0]=[gt("Home")])),_:1})]),j("li",null,[ve(s,{to:"/about"},{default:Je(()=>r[1]||(r[1]=[gt("About")])),_:1})]),j("li",null,[ve(s,{to:"/contact"},{default:Je(()=>r[2]||(r[2]=[gt("Contact")])),_:1})]),j("li",null,[ve(s,{to:"/privacy"},{default:Je(()=>r[3]||(r[3]=[gt("Privacy Policy")])),_:1})])])]),r[6]||(r[6]=zf('<div class="footer-section fade-in" data-v-a394e377><h3 data-v-a394e377>Connect With Us</h3><div class="social-icons" data-v-a394e377><a href="#" aria-label="Facebook" data-v-a394e377><i class="fab fa-facebook" data-v-a394e377></i></a><a href="#" aria-label="Twitter" data-v-a394e377><i class="fab fa-twitter" data-v-a394e377></i></a><a href="#" aria-label="Instagram" data-v-a394e377><i class="fab fa-instagram" data-v-a394e377></i></a><a href="#" aria-label="Pinterest" data-v-a394e377><i class="fab fa-pinterest" data-v-a394e377></i></a></div></div>',1))]),j("div",pV,[j("p",null," "+Ke(e.value)+" Cook Castle. All rights reserved.",1)])])])}}},gV=mn(mV,[["__scopeId","data-v-a394e377"]]),_V={id:"app"},yV={__name:"App",setup(t){const e=Xf(),n=Ae(()=>e.getters.areRecipesVisible);return(r,s)=>{const i=sa("router-view");return te(),de("div",_V,[ve(lV),ve(i,null,{default:Je(({Component:o})=>[ve(kr,{name:"fade",mode:"out-in"},{default:Je(()=>[(te(),Bt(Xy(o)))]),_:2},1024)]),_:1}),n.value?(te(),Bt(gV,{key:0})):ot("",!0)])}}},vV={class:"recipe-card"},EV=["src","alt"],TV={class:"recipe-content"},wV=["title"],bV=["title"],IV={__name:"RecipeCard",props:{recipe:{type:Object,required:!0}},setup(t){return(e,n)=>{const r=sa("router-link");return te(),Bt(kr,{appear:"",name:"card",mode:"out-in"},{default:Je(()=>[j("div",vV,[j("img",{src:t.recipe.strMealThumb,alt:t.recipe.strMeal},null,8,EV),j("div",TV,[j("h3",{title:t.recipe.strMeal},Ke(t.recipe.strMeal),9,wV),n[1]||(n[1]=j("hr",null,null,-1)),j("p",{title:"Category: "+t.recipe.strCategory},"Category: "+Ke(t.recipe.strCategory),9,bV),ve(r,{to:"/recipe/"+t.recipe.idMeal,class:"btn"},{default:Je(()=>n[0]||(n[0]=[gt("View Recipe")])),_:1},8,["to"])])])]),_:1})}}},qT=mn(IV,[["__scopeId","data-v-ad5cc0b0"]]),AV="/Cook-Castle/assets/pot.CU0_HBx-.gif",SV={class:"loading-spinner"},RV={__name:"LoadingSpinner",setup(t){return(e,n)=>(te(),de("div",SV,n[0]||(n[0]=[j("div",{class:"spinner"},[j("img",{src:AV,alt:""})],-1),j("p",null,"Loading recipes...",-1)])))}},sl=mn(RV,[["__scopeId","data-v-a355a6e3"]]);function KT(t,e){return function(){return t.apply(e,arguments)}}const{toString:CV}=Object.prototype,{getPrototypeOf:Gd}=Object,zl=(t=>e=>{const n=CV.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Sn=t=>(t=t.toLowerCase(),e=>zl(e)===t),Gl=t=>e=>typeof e===t,{isArray:Vi}=Array,Jo=Gl("undefined");function PV(t){return t!==null&&!Jo(t)&&t.constructor!==null&&!Jo(t.constructor)&&nn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const WT=Sn("ArrayBuffer");function OV(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&WT(t.buffer),e}const kV=Gl("string"),nn=Gl("function"),zT=Gl("number"),Ql=t=>t!==null&&typeof t=="object",NV=t=>t===!0||t===!1,vc=t=>{if(zl(t)!=="object")return!1;const e=Gd(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},xV=Sn("Date"),DV=Sn("File"),VV=Sn("Blob"),MV=Sn("FileList"),LV=t=>Ql(t)&&nn(t.pipe),FV=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||nn(t.append)&&((e=zl(t))==="formdata"||e==="object"&&nn(t.toString)&&t.toString()==="[object FormData]"))},UV=Sn("URLSearchParams"),[jV,$V,BV,HV]=["ReadableStream","Request","Response","Headers"].map(Sn),qV=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ea(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Vi(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,t[a],a,t)}}function GT(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const cs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,QT=t=>!Jo(t)&&t!==cs;function Yh(){const{caseless:t}=QT(this)&&this||{},e={},n=(r,s)=>{const i=t&&GT(e,s)||s;vc(e[i])&&vc(r)?e[i]=Yh(e[i],r):vc(r)?e[i]=Yh({},r):Vi(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Ea(arguments[r],n);return e}const KV=(t,e,n,{allOwnKeys:r}={})=>(Ea(e,(s,i)=>{n&&nn(s)?t[i]=KT(s,n):t[i]=s},{allOwnKeys:r}),t),WV=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),zV=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},GV=(t,e,n,r)=>{let s,i,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&Gd(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},QV=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},JV=t=>{if(!t)return null;if(Vi(t))return t;let e=t.length;if(!zT(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},YV=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Gd(Uint8Array)),XV=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},ZV=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},eM=Sn("HTMLFormElement"),tM=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),S_=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),nM=Sn("RegExp"),JT=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Ea(n,(s,i)=>{let o;(o=e(s,i,t))!==!1&&(r[i]=o||s)}),Object.defineProperties(t,r)},rM=t=>{JT(t,(e,n)=>{if(nn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(nn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},sM=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Vi(t)?r(t):r(String(t).split(e)),n},iM=()=>{},oM=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Wu="abcdefghijklmnopqrstuvwxyz",R_="0123456789",YT={DIGIT:R_,ALPHA:Wu,ALPHA_DIGIT:Wu+Wu.toUpperCase()+R_},aM=(t=16,e=YT.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function cM(t){return!!(t&&nn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const lM=t=>{const e=new Array(10),n=(r,s)=>{if(Ql(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=Vi(r)?[]:{};return Ea(r,(o,a)=>{const l=n(o,s+1);!Jo(l)&&(i[a]=l)}),e[s]=void 0,i}}return r};return n(t,0)},uM=Sn("AsyncFunction"),hM=t=>t&&(Ql(t)||nn(t))&&nn(t.then)&&nn(t.catch),XT=((t,e)=>t?setImmediate:e?((n,r)=>(cs.addEventListener("message",({source:s,data:i})=>{s===cs&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),cs.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",nn(cs.postMessage)),fM=typeof queueMicrotask<"u"?queueMicrotask.bind(cs):typeof process<"u"&&process.nextTick||XT,U={isArray:Vi,isArrayBuffer:WT,isBuffer:PV,isFormData:FV,isArrayBufferView:OV,isString:kV,isNumber:zT,isBoolean:NV,isObject:Ql,isPlainObject:vc,isReadableStream:jV,isRequest:$V,isResponse:BV,isHeaders:HV,isUndefined:Jo,isDate:xV,isFile:DV,isBlob:VV,isRegExp:nM,isFunction:nn,isStream:LV,isURLSearchParams:UV,isTypedArray:YV,isFileList:MV,forEach:Ea,merge:Yh,extend:KV,trim:qV,stripBOM:WV,inherits:zV,toFlatObject:GV,kindOf:zl,kindOfTest:Sn,endsWith:QV,toArray:JV,forEachEntry:XV,matchAll:ZV,isHTMLForm:eM,hasOwnProperty:S_,hasOwnProp:S_,reduceDescriptors:JT,freezeMethods:rM,toObjectSet:sM,toCamelCase:tM,noop:iM,toFiniteNumber:oM,findKey:GT,global:cs,isContextDefined:QT,ALPHABET:YT,generateString:aM,isSpecCompliantForm:cM,toJSONObject:lM,isAsyncFn:uM,isThenable:hM,setImmediate:XT,asap:fM};function be(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}U.inherits(be,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:U.toJSONObject(this.config),code:this.code,status:this.status}}});const ZT=be.prototype,ew={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{ew[t]={value:t}});Object.defineProperties(be,ew);Object.defineProperty(ZT,"isAxiosError",{value:!0});be.from=(t,e,n,r,s,i)=>{const o=Object.create(ZT);return U.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),be.call(o,t.message,e,n,r,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const dM=null;function Xh(t){return U.isPlainObject(t)||U.isArray(t)}function tw(t){return U.endsWith(t,"[]")?t.slice(0,-2):t}function C_(t,e,n){return t?t.concat(e).map(function(s,i){return s=tw(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function pM(t){return U.isArray(t)&&!t.some(Xh)}const mM=U.toFlatObject(U,{},null,function(e){return/^is[A-Z]/.test(e)});function Jl(t,e,n){if(!U.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=U.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,S){return!U.isUndefined(S[R])});const r=n.metaTokens,s=n.visitor||h,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&U.isSpecCompliantForm(e);if(!U.isFunction(s))throw new TypeError("visitor must be a function");function u(E){if(E===null)return"";if(U.isDate(E))return E.toISOString();if(!l&&U.isBlob(E))throw new be("Blob is not supported. Use a Buffer instead.");return U.isArrayBuffer(E)||U.isTypedArray(E)?l&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function h(E,R,S){let x=E;if(E&&!S&&typeof E=="object"){if(U.endsWith(R,"{}"))R=r?R:R.slice(0,-2),E=JSON.stringify(E);else if(U.isArray(E)&&pM(E)||(U.isFileList(E)||U.endsWith(R,"[]"))&&(x=U.toArray(E)))return R=tw(R),x.forEach(function(_,P){!(U.isUndefined(_)||_===null)&&e.append(o===!0?C_([R],P,i):o===null?R:R+"[]",u(_))}),!1}return Xh(E)?!0:(e.append(C_(S,R,i),u(E)),!1)}const f=[],p=Object.assign(mM,{defaultVisitor:h,convertValue:u,isVisitable:Xh});function g(E,R){if(!U.isUndefined(E)){if(f.indexOf(E)!==-1)throw Error("Circular reference detected in "+R.join("."));f.push(E),U.forEach(E,function(x,O){(!(U.isUndefined(x)||x===null)&&s.call(e,x,U.isString(O)?O.trim():O,R,p))===!0&&g(x,R?R.concat(O):[O])}),f.pop()}}if(!U.isObject(t))throw new TypeError("data must be an object");return g(t),e}function P_(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Qd(t,e){this._pairs=[],t&&Jl(t,this,e)}const nw=Qd.prototype;nw.append=function(e,n){this._pairs.push([e,n])};nw.toString=function(e){const n=e?function(r){return e.call(this,r,P_)}:P_;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function gM(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function rw(t,e,n){if(!e)return t;const r=n&&n.encode||gM,s=n&&n.serialize;let i;if(s?i=s(e,n):i=U.isURLSearchParams(e)?e.toString():new Qd(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class O_{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){U.forEach(this.handlers,function(r){r!==null&&e(r)})}}const sw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_M=typeof URLSearchParams<"u"?URLSearchParams:Qd,yM=typeof FormData<"u"?FormData:null,vM=typeof Blob<"u"?Blob:null,EM={isBrowser:!0,classes:{URLSearchParams:_M,FormData:yM,Blob:vM},protocols:["http","https","file","blob","url","data"]},Jd=typeof window<"u"&&typeof document<"u",Zh=typeof navigator=="object"&&navigator||void 0,TM=Jd&&(!Zh||["ReactNative","NativeScript","NS"].indexOf(Zh.product)<0),wM=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",bM=Jd&&window.location.href||"http://localhost",IM=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Jd,hasStandardBrowserEnv:TM,hasStandardBrowserWebWorkerEnv:wM,navigator:Zh,origin:bM},Symbol.toStringTag,{value:"Module"})),Jt={...IM,...EM};function AM(t,e){return Jl(t,new Jt.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return Jt.isNode&&U.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function SM(t){return U.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function RM(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function iw(t){function e(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&U.isArray(s)?s.length:o,l?(U.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!U.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],i)&&U.isArray(s[o])&&(s[o]=RM(s[o])),!a)}if(U.isFormData(t)&&U.isFunction(t.entries)){const n={};return U.forEachEntry(t,(r,s)=>{e(SM(r),s,n,0)}),n}return null}function CM(t,e,n){if(U.isString(t))try{return(e||JSON.parse)(t),U.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Ta={transitional:sw,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=U.isObject(e);if(i&&U.isHTMLForm(e)&&(e=new FormData(e)),U.isFormData(e))return s?JSON.stringify(iw(e)):e;if(U.isArrayBuffer(e)||U.isBuffer(e)||U.isStream(e)||U.isFile(e)||U.isBlob(e)||U.isReadableStream(e))return e;if(U.isArrayBufferView(e))return e.buffer;if(U.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return AM(e,this.formSerializer).toString();if((a=U.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Jl(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),CM(e)):e}],transformResponse:[function(e){const n=this.transitional||Ta.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(U.isResponse(e)||U.isReadableStream(e))return e;if(e&&U.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?be.from(a,be.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Jt.classes.FormData,Blob:Jt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};U.forEach(["delete","get","head","post","put","patch"],t=>{Ta.headers[t]={}});const PM=U.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),OM=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&PM[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},k_=Symbol("internals");function no(t){return t&&String(t).trim().toLowerCase()}function Ec(t){return t===!1||t==null?t:U.isArray(t)?t.map(Ec):String(t)}function kM(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const NM=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function zu(t,e,n,r,s){if(U.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!U.isString(e)){if(U.isString(r))return e.indexOf(r)!==-1;if(U.isRegExp(r))return r.test(e)}}function xM(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function DM(t,e){const n=U.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}class Yt{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(a,l,u){const h=no(l);if(!h)throw new Error("header name must be a non-empty string");const f=U.findKey(s,h);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||l]=Ec(a))}const o=(a,l)=>U.forEach(a,(u,h)=>i(u,h,l));if(U.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(U.isString(e)&&(e=e.trim())&&!NM(e))o(OM(e),n);else if(U.isHeaders(e))for(const[a,l]of e.entries())i(l,a,r);else e!=null&&i(n,e,r);return this}get(e,n){if(e=no(e),e){const r=U.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return kM(s);if(U.isFunction(n))return n.call(this,s,r);if(U.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=no(e),e){const r=U.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||zu(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(o){if(o=no(o),o){const a=U.findKey(r,o);a&&(!n||zu(r,r[a],a,n))&&(delete r[a],s=!0)}}return U.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||zu(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return U.forEach(this,(s,i)=>{const o=U.findKey(r,i);if(o){n[o]=Ec(s),delete n[i];return}const a=e?xM(i):String(i).trim();a!==i&&delete n[i],n[a]=Ec(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return U.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&U.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[k_]=this[k_]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=no(o);r[a]||(DM(s,o),r[a]=!0)}return U.isArray(e)?e.forEach(i):i(e),this}}Yt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);U.reduceDescriptors(Yt.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});U.freezeMethods(Yt);function Gu(t,e){const n=this||Ta,r=e||n,s=Yt.from(r.headers);let i=r.data;return U.forEach(t,function(a){i=a.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function ow(t){return!!(t&&t.__CANCEL__)}function Mi(t,e,n){be.call(this,t??"canceled",be.ERR_CANCELED,e,n),this.name="CanceledError"}U.inherits(Mi,be,{__CANCEL__:!0});function aw(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new be("Request failed with status code "+n.status,[be.ERR_BAD_REQUEST,be.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function VM(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function MM(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),h=r[i];o||(o=u),n[s]=l,r[s]=u;let f=i,p=0;for(;f!==s;)p+=n[f++],f=f%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),u-o<e)return;const g=h&&u-h;return g?Math.round(p*1e3/g):void 0}}function LM(t,e){let n=0,r=1e3/e,s,i;const o=(u,h=Date.now())=>{n=h,s=null,i&&(clearTimeout(i),i=null),t.apply(null,u)};return[(...u)=>{const h=Date.now(),f=h-n;f>=r?o(u,h):(s=u,i||(i=setTimeout(()=>{i=null,o(s)},r-f)))},()=>s&&o(s)]}const il=(t,e,n=3)=>{let r=0;const s=MM(50,250);return LM(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-r,u=s(l),h=o<=a;r=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&h?(a-o)/u:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(f)},n)},N_=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},x_=t=>(...e)=>U.asap(()=>t(...e)),FM=Jt.hasStandardBrowserEnv?function(){const e=Jt.navigator&&/(msie|trident)/i.test(Jt.navigator.userAgent),n=document.createElement("a");let r;function s(i){let o=i;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(o){const a=U.isString(o)?s(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),UM=Jt.hasStandardBrowserEnv?{write(t,e,n,r,s,i){const o=[t+"="+encodeURIComponent(e)];U.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),U.isString(r)&&o.push("path="+r),U.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function jM(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function $M(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function cw(t,e){return t&&!jM(e)?$M(t,e):e}const D_=t=>t instanceof Yt?{...t}:t;function Is(t,e){e=e||{};const n={};function r(u,h,f){return U.isPlainObject(u)&&U.isPlainObject(h)?U.merge.call({caseless:f},u,h):U.isPlainObject(h)?U.merge({},h):U.isArray(h)?h.slice():h}function s(u,h,f){if(U.isUndefined(h)){if(!U.isUndefined(u))return r(void 0,u,f)}else return r(u,h,f)}function i(u,h){if(!U.isUndefined(h))return r(void 0,h)}function o(u,h){if(U.isUndefined(h)){if(!U.isUndefined(u))return r(void 0,u)}else return r(void 0,h)}function a(u,h,f){if(f in e)return r(u,h);if(f in t)return r(void 0,u)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,h)=>s(D_(u),D_(h),!0)};return U.forEach(Object.keys(Object.assign({},t,e)),function(h){const f=l[h]||s,p=f(t[h],e[h],h);U.isUndefined(p)&&f!==a||(n[h]=p)}),n}const lw=t=>{const e=Is({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=e;e.headers=o=Yt.from(o),e.url=rw(cw(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(U.isFormData(n)){if(Jt.hasStandardBrowserEnv||Jt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...h]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...h].join("; "))}}if(Jt.hasStandardBrowserEnv&&(r&&U.isFunction(r)&&(r=r(e)),r||r!==!1&&FM(e.url))){const u=s&&i&&UM.read(i);u&&o.set(s,u)}return e},BM=typeof XMLHttpRequest<"u",HM=BM&&function(t){return new Promise(function(n,r){const s=lw(t);let i=s.data;const o=Yt.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=s,h,f,p,g,E;function R(){g&&g(),E&&E(),s.cancelToken&&s.cancelToken.unsubscribe(h),s.signal&&s.signal.removeEventListener("abort",h)}let S=new XMLHttpRequest;S.open(s.method.toUpperCase(),s.url,!0),S.timeout=s.timeout;function x(){if(!S)return;const _=Yt.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),D={data:!a||a==="text"||a==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:_,config:t,request:S};aw(function(b){n(b),R()},function(b){r(b),R()},D),S=null}"onloadend"in S?S.onloadend=x:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(x)},S.onabort=function(){S&&(r(new be("Request aborted",be.ECONNABORTED,t,S)),S=null)},S.onerror=function(){r(new be("Network Error",be.ERR_NETWORK,t,S)),S=null},S.ontimeout=function(){let P=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const D=s.transitional||sw;s.timeoutErrorMessage&&(P=s.timeoutErrorMessage),r(new be(P,D.clarifyTimeoutError?be.ETIMEDOUT:be.ECONNABORTED,t,S)),S=null},i===void 0&&o.setContentType(null),"setRequestHeader"in S&&U.forEach(o.toJSON(),function(P,D){S.setRequestHeader(D,P)}),U.isUndefined(s.withCredentials)||(S.withCredentials=!!s.withCredentials),a&&a!=="json"&&(S.responseType=s.responseType),u&&([p,E]=il(u,!0),S.addEventListener("progress",p)),l&&S.upload&&([f,g]=il(l),S.upload.addEventListener("progress",f),S.upload.addEventListener("loadend",g)),(s.cancelToken||s.signal)&&(h=_=>{S&&(r(!_||_.type?new Mi(null,t,S):_),S.abort(),S=null)},s.cancelToken&&s.cancelToken.subscribe(h),s.signal&&(s.signal.aborted?h():s.signal.addEventListener("abort",h)));const O=VM(s.url);if(O&&Jt.protocols.indexOf(O)===-1){r(new be("Unsupported protocol "+O+":",be.ERR_BAD_REQUEST,t));return}S.send(i||null)})},qM=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const i=function(u){if(!s){s=!0,a();const h=u instanceof Error?u:this.reason;r.abort(h instanceof be?h:new Mi(h instanceof Error?h.message:h))}};let o=e&&setTimeout(()=>{o=null,i(new be(`timeout ${e} of ms exceeded`,be.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),t=null)};t.forEach(u=>u.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>U.asap(a),l}},KM=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},WM=async function*(t,e){for await(const n of zM(t))yield*KM(n,e)},zM=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},V_=(t,e,n,r)=>{const s=WM(t,e);let i=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:h}=await s.next();if(u){a(),l.close();return}let f=h.byteLength;if(n){let p=i+=f;n(p)}l.enqueue(new Uint8Array(h))}catch(u){throw a(u),u}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},Yl=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",uw=Yl&&typeof ReadableStream=="function",GM=Yl&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),hw=(t,...e)=>{try{return!!t(...e)}catch{return!1}},QM=uw&&hw(()=>{let t=!1;const e=new Request(Jt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),M_=64*1024,ef=uw&&hw(()=>U.isReadableStream(new Response("").body)),ol={stream:ef&&(t=>t.body)};Yl&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!ol[e]&&(ol[e]=U.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new be(`Response type '${e}' is not supported`,be.ERR_NOT_SUPPORT,r)})})})(new Response);const JM=async t=>{if(t==null)return 0;if(U.isBlob(t))return t.size;if(U.isSpecCompliantForm(t))return(await new Request(Jt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(U.isArrayBufferView(t)||U.isArrayBuffer(t))return t.byteLength;if(U.isURLSearchParams(t)&&(t=t+""),U.isString(t))return(await GM(t)).byteLength},YM=async(t,e)=>{const n=U.toFiniteNumber(t.getContentLength());return n??JM(e)},XM=Yl&&(async t=>{let{url:e,method:n,data:r,signal:s,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:h,withCredentials:f="same-origin",fetchOptions:p}=lw(t);u=u?(u+"").toLowerCase():"text";let g=qM([s,i&&i.toAbortSignal()],o),E;const R=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let S;try{if(l&&QM&&n!=="get"&&n!=="head"&&(S=await YM(h,r))!==0){let D=new Request(e,{method:"POST",body:r,duplex:"half"}),L;if(U.isFormData(r)&&(L=D.headers.get("content-type"))&&h.setContentType(L),D.body){const[b,T]=N_(S,il(x_(l)));r=V_(D.body,M_,b,T)}}U.isString(f)||(f=f?"include":"omit");const x="credentials"in Request.prototype;E=new Request(e,{...p,signal:g,method:n.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:x?f:void 0});let O=await fetch(E);const _=ef&&(u==="stream"||u==="response");if(ef&&(a||_&&R)){const D={};["status","statusText","headers"].forEach(y=>{D[y]=O[y]});const L=U.toFiniteNumber(O.headers.get("content-length")),[b,T]=a&&N_(L,il(x_(a),!0))||[];O=new Response(V_(O.body,M_,b,()=>{T&&T(),R&&R()}),D)}u=u||"text";let P=await ol[U.findKey(ol,u)||"text"](O,t);return!_&&R&&R(),await new Promise((D,L)=>{aw(D,L,{data:P,headers:Yt.from(O.headers),status:O.status,statusText:O.statusText,config:t,request:E})})}catch(x){throw R&&R(),x&&x.name==="TypeError"&&/fetch/i.test(x.message)?Object.assign(new be("Network Error",be.ERR_NETWORK,t,E),{cause:x.cause||x}):be.from(x,x&&x.code,t,E)}}),tf={http:dM,xhr:HM,fetch:XM};U.forEach(tf,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const L_=t=>`- ${t}`,ZM=t=>U.isFunction(t)||t===null||t===!1,fw={getAdapter:t=>{t=U.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let i=0;i<e;i++){n=t[i];let o;if(r=n,!ZM(n)&&(r=tf[(o=String(n)).toLowerCase()],r===void 0))throw new be(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+i]=r}if(!r){const i=Object.entries(s).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(L_).join(`
`):" "+L_(i[0]):"as no adapter specified";throw new be("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:tf};function Qu(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Mi(null,t)}function F_(t){return Qu(t),t.headers=Yt.from(t.headers),t.data=Gu.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),fw.getAdapter(t.adapter||Ta.adapter)(t).then(function(r){return Qu(t),r.data=Gu.call(t,t.transformResponse,r),r.headers=Yt.from(r.headers),r},function(r){return ow(r)||(Qu(t),r&&r.response&&(r.response.data=Gu.call(t,t.transformResponse,r.response),r.response.headers=Yt.from(r.response.headers))),Promise.reject(r)})}const dw="1.7.7",Yd={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Yd[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const U_={};Yd.transitional=function(e,n,r){function s(i,o){return"[Axios v"+dw+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(e===!1)throw new be(s(o," has been removed"+(n?" in "+n:"")),be.ERR_DEPRECATED);return n&&!U_[o]&&(U_[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,a):!0}};function eL(t,e,n){if(typeof t!="object")throw new be("options must be an object",be.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const a=t[i],l=a===void 0||o(a,i,t);if(l!==!0)throw new be("option "+i+" must be "+l,be.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new be("Unknown option "+i,be.ERR_BAD_OPTION)}}const nf={assertOptions:eL,validators:Yd},Er=nf.validators;class ms{constructor(e){this.defaults=e,this.interceptors={request:new O_,response:new O_}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Is(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&nf.assertOptions(r,{silentJSONParsing:Er.transitional(Er.boolean),forcedJSONParsing:Er.transitional(Er.boolean),clarifyTimeoutError:Er.transitional(Er.boolean)},!1),s!=null&&(U.isFunction(s)?n.paramsSerializer={serialize:s}:nf.assertOptions(s,{encode:Er.function,serialize:Er.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&U.merge(i.common,i[n.method]);i&&U.forEach(["delete","get","head","post","put","patch","common"],E=>{delete i[E]}),n.headers=Yt.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(n)===!1||(l=l&&R.synchronous,a.unshift(R.fulfilled,R.rejected))});const u=[];this.interceptors.response.forEach(function(R){u.push(R.fulfilled,R.rejected)});let h,f=0,p;if(!l){const E=[F_.bind(this),void 0];for(E.unshift.apply(E,a),E.push.apply(E,u),p=E.length,h=Promise.resolve(n);f<p;)h=h.then(E[f++],E[f++]);return h}p=a.length;let g=n;for(f=0;f<p;){const E=a[f++],R=a[f++];try{g=E(g)}catch(S){R.call(this,S);break}}try{h=F_.call(this,g)}catch(E){return Promise.reject(E)}for(f=0,p=u.length;f<p;)h=h.then(u[f++],u[f++]);return h}getUri(e){e=Is(this.defaults,e);const n=cw(e.baseURL,e.url);return rw(n,e.params,e.paramsSerializer)}}U.forEach(["delete","get","head","options"],function(e){ms.prototype[e]=function(n,r){return this.request(Is(r||{},{method:e,url:n,data:(r||{}).data}))}});U.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,a){return this.request(Is(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}ms.prototype[e]=n(),ms.prototype[e+"Form"]=n(!0)});class Xd{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,a){r.reason||(r.reason=new Mi(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Xd(function(s){e=s}),cancel:e}}}function tL(t){return function(n){return t.apply(null,n)}}function nL(t){return U.isObject(t)&&t.isAxiosError===!0}const rf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(rf).forEach(([t,e])=>{rf[e]=t});function pw(t){const e=new ms(t),n=KT(ms.prototype.request,e);return U.extend(n,ms.prototype,e,{allOwnKeys:!0}),U.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return pw(Is(t,s))},n}const We=pw(Ta);We.Axios=ms;We.CanceledError=Mi;We.CancelToken=Xd;We.isCancel=ow;We.VERSION=dw;We.toFormData=Jl;We.AxiosError=be;We.Cancel=We.CanceledError;We.all=function(e){return Promise.all(e)};We.spread=tL;We.isAxiosError=nL;We.mergeConfig=Is;We.AxiosHeaders=Yt;We.formToJSON=t=>iw(U.isHTMLForm(t)?new FormData(t):t);We.getAdapter=fw.getAdapter;We.HttpStatusCode=rf;We.default=We;const rL={class:"search-bar"},sL={key:0,class:"results-list"},iL={key:0},oL=["onClick"],aL={key:1},cL=["onClick"],lL={key:2},uL={__name:"SearchBar",props:{modelValue:String},emits:["update:modelValue","search"],setup(t,{emit:e}){const n=t,r=e,s=Ae({get:()=>n.modelValue,set:x=>r("update:modelValue",x)}),i=ye([]),o=ye([]),a=ye(!1),l=ye(-1),u=ye("");let h;const f=()=>{clearTimeout(h),h=setTimeout(p,300)},p=async()=>{if(s.value.length<2){i.value=[],o.value=[],a.value=!1;return}try{const[x,O]=await Promise.all([We.get(`https://www.themealdb.com/api/json/v1/1/search.php?s=${s.value}`),We.get(`https://www.themealdb.com/api/json/v1/1/filter.php?i=${s.value}`)]);i.value=x.data.meals||[],o.value=O.data.meals||[],a.value=i.value.length>0||o.value.length>0,l.value=-1,u.value=""}catch(x){console.error("Error fetching suggestions and results:",x),i.value=[],o.value=[],a.value=!1}},g=x=>{a.value&&(u.value===""&&(u.value=i.value.length>0?"suggestions":"results"),u.value==="suggestions"?(l.value+=x,l.value<0?(u.value="results",l.value=o.value.length-1):l.value>=i.value.length&&(u.value="results",l.value=0)):(l.value+=x,l.value<0?(u.value="suggestions",l.value=i.value.length-1):l.value>=o.value.length&&(u.value="suggestions",l.value=0)))},E=x=>{if(x&&typeof x=="object")s.value=x.strMeal;else if(l.value!==-1){const O=u.value==="suggestions"?i.value[l.value]:o.value[l.value];s.value=O.strMeal}R()},R=()=>{r("search",s.value),a.value=!1},S=()=>{setTimeout(()=>{a.value=!1},200)};return pn(()=>{document.addEventListener("click",S)}),Cs(()=>{document.removeEventListener("click",S),clearTimeout(h)}),(x,O)=>(te(),de("div",rL,[j("form",{onSubmit:ds(R,["prevent"]),class:"search-form"},[ln(j("input",{"onUpdate:modelValue":O[0]||(O[0]=_=>s.value=_),type:"text",placeholder:"Enter a recipe name",class:"search-input",onInput:f,onKeydown:[O[1]||(O[1]=bh(ds(_=>g(1),["prevent"]),["down"])),O[2]||(O[2]=bh(ds(_=>g(-1),["prevent"]),["up"]))],onBlur:S},null,544),[[hn,s.value]]),O[3]||(O[3]=j("button",{type:"submit",class:"search-button","aria-label":"Search"},[j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"icon"},[j("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})])],-1))],32),a.value?(te(),de("ul",sL,[i.value.length>0?(te(),de("li",iL,[j("ul",null,[(te(!0),de(Ue,null,vn(i.value,(_,P)=>(te(),de("li",{key:"suggestion-"+_.idMeal,onClick:D=>E(_),class:jn({active:P===l.value&&u.value==="suggestions"})},Ke(_.strMeal),11,oL))),128))])])):ot("",!0),o.value.length>0?(te(),de("li",aL,[j("ul",null,[(te(!0),de(Ue,null,vn(o.value,(_,P)=>(te(),de("li",{key:"result-"+_.idMeal,onClick:D=>E(_),class:jn({active:P===l.value&&u.value==="results"})},Ke(_.strMeal),11,cL))),128))])])):ot("",!0),i.value.length===0&&o.value.length===0?(te(),de("li",lL," No results found ")):ot("",!0)])):ot("",!0)]))}},hL=mn(uL,[["__scopeId","data-v-680d9425"]]),fL={class:"home"},dL={class:"hero"},pL={class:"container"},mL={class:"search-container"},gL={class:"filters"},_L=["value"],yL=["value"],vL={class:"recipes-section slide-in-right"},EL={class:"container"},TL={key:0},wL={key:1,class:"error-message"},bL={key:2,class:"no-results"},IL={key:3,class:"loading-more"},AL={__name:"Home",setup(t){const e=Xf(),n=ye(""),r=ye(""),s=ye(""),i=ye(1),o=ye(null),a=Ae(()=>e.getters.getSearchResults),l=Ae(()=>e.getters.getPopularRecipes),u=Ae(()=>e.getters.getCategories),h=Ae(()=>e.getters.getAreas),f=Ae(()=>e.getters.isLoading),p=Ae(()=>e.getters.getError),g=Ae(()=>n.value?a.value:l.value),E=()=>{i.value=1,e.dispatch("searchRecipes",{query:n.value,category:r.value,area:s.value,page:i.value})},R=()=>{f.value||(i.value++,n.value?e.dispatch("searchRecipes",{query:n.value,category:r.value,area:s.value,page:i.value}):e.dispatch("fetchPopularRecipes",{page:i.value}))},S=()=>{const x={root:null,rootMargin:"0px",threshold:.1},O=new IntersectionObserver(_=>{_[0].isIntersecting&&R()},x);o.value&&O.observe(o.value)};return pn(async()=>{await e.dispatch("fetchCategories"),await e.dispatch("fetchAreas"),await e.dispatch("fetchPopularRecipes",{page:i.value}),S()}),st([n,r,s],()=>{E()}),(x,O)=>(te(),de("div",fL,[j("section",dL,[j("div",pL,[ve(kr,{appear:"",name:"fade-in-down"},{default:Je(()=>O[3]||(O[3]=[j("h1",null,"Discover Delicious Recipes",-1)])),_:1}),ve(kr,{appear:"",name:"fade-in-up"},{default:Je(()=>O[4]||(O[4]=[j("p",null,"Find your next favorite meal....",-1)])),_:1}),j("div",mL,[ve(kr,{appear:"",name:"fade-in-left"},{default:Je(()=>[ve(hL,{modelValue:n.value,"onUpdate:modelValue":O[0]||(O[0]=_=>n.value=_),onSearch:E},null,8,["modelValue"])]),_:1}),ve(kr,{appear:"",name:"fade-in-right"},{default:Je(()=>[j("div",gL,[ln(j("select",{"onUpdate:modelValue":O[1]||(O[1]=_=>r.value=_),onChange:E},[O[5]||(O[5]=j("option",{value:""},"All Categories",-1)),(te(!0),de(Ue,null,vn(u.value,_=>(te(),de("option",{key:_,value:_},Ke(_),9,_L))),128))],544),[[Uc,r.value]]),ln(j("select",{"onUpdate:modelValue":O[2]||(O[2]=_=>s.value=_),onChange:E},[O[6]||(O[6]=j("option",{value:""},"All Areas",-1)),(te(!0),de(Ue,null,vn(h.value,_=>(te(),de("option",{key:_,value:_},Ke(_),9,yL))),128))],544),[[Uc,s.value]])])]),_:1})])])]),j("section",vL,[j("div",EL,[j("h2",null,Ke(n.value?"Search Results":"Popular Recipes"),1),f.value&&!g.value.length?(te(),de("div",TL,[ve(sl)])):p.value?(te(),de("div",wL,Ke(p.value),1)):g.value.length===0?(te(),de("div",bL,[j("p",null,Ke(n.value?"No recipes found. Try a different search term or filters.":"No popular recipes available at the moment. Please try again later."),1)])):ot("",!0),ve(Qv,{name:"recipe-list",tag:"div",class:"results-grid"},{default:Je(()=>[(te(!0),de(Ue,null,vn(g.value,_=>(te(),Bt(qT,{key:_.idMeal,recipe:_},null,8,["recipe"]))),128))]),_:1}),f.value&&g.value.length?(te(),de("div",IL,[ve(sl)])):ot("",!0),j("div",{ref_key:"infiniteScrollTrigger",ref:o,class:"infinite-scroll-trigger"},null,512)])])]))}},SL=mn(AL,[["__scopeId","data-v-bcda5904"]]),RL={__name:"About",setup(t){return(e,n)=>(te(),Bt(kr,{name:"about",appear:""},{default:Je(()=>n[0]||(n[0]=[j("div",{class:"about"},[j("div",{class:"container"},[j("h1",null,"About Us"),j("p",null,"Welcome to our Recipe App! We're passionate about bringing delicious recipes from around the world to your kitchen. Our mission is to inspire home cooks and make cooking fun and accessible for everyone."),j("p",null,"Whether you're a beginner or an experienced chef, you'll find a wide variety of recipes to suit your taste and skill level. From quick and easy weeknight dinners to impressive dishes for special occasions, we've got you covered."),j("p",null,"Happy cooking!")])],-1)])),_:1}))}},CL=mn(RL,[["__scopeId","data-v-a8e3b611"]]),PL={class:"contact"},OL={class:"container"},kL={class:"form-group"},NL={class:"form-group"},xL={class:"form-group"},DL={__name:"Contact",setup(t){const e=ye(""),n=ye(""),r=ye(""),s=()=>{console.log("Form submitted:",{name:e.value,email:n.value,message:r.value}),e.value="",n.value="",r.value="",alert("Thank you for your message. We will get back to you soon!")};return(i,o)=>(te(),de("div",PL,[j("div",OL,[o[7]||(o[7]=j("h1",null,"Contact Us",-1)),j("form",{onSubmit:ds(s,["prevent"]),class:"contact-form"},[j("div",kL,[o[3]||(o[3]=j("label",{for:"name"},"Name:",-1)),ln(j("input",{type:"text",id:"name","onUpdate:modelValue":o[0]||(o[0]=a=>e.value=a),required:""},null,512),[[hn,e.value]])]),j("div",NL,[o[4]||(o[4]=j("label",{for:"email"},"Email:",-1)),ln(j("input",{type:"email",id:"email","onUpdate:modelValue":o[1]||(o[1]=a=>n.value=a),required:""},null,512),[[hn,n.value]])]),j("div",xL,[o[5]||(o[5]=j("label",{for:"message"},"Message:",-1)),ln(j("textarea",{id:"message","onUpdate:modelValue":o[2]||(o[2]=a=>r.value=a),required:""},null,512),[[hn,r.value]])]),o[6]||(o[6]=j("button",{type:"submit",class:"btn"},"Send Message",-1))],32)])]))}},VL=mn(DL,[["__scopeId","data-v-11888beb"]]);function mw(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}const ML=mw(IR),LL=mw(OR);/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var li=ML,FL=LL,Zd="store";function UL(t){return t===void 0&&(t=null),li.inject(t!==null?t:Zd)}function jL(t,e){return t.filter(e)[0]}function sf(t,e){if(e===void 0&&(e=[]),t===null||typeof t!="object")return t;var n=jL(e,function(s){return s.original===t});if(n)return n.copy;var r=Array.isArray(t)?[]:{};return e.push({original:t,copy:r}),Object.keys(t).forEach(function(s){r[s]=sf(t[s],e)}),r}function Li(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function gw(t){return t!==null&&typeof t=="object"}function $L(t){return t&&typeof t.then=="function"}function BL(t,e){return function(){return t(e)}}function _w(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var r=e.indexOf(t);r>-1&&e.splice(r,1)}}function yw(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;Xl(t,n,[],t._modules.root,!0),ep(t,n,e)}function ep(t,e,n){var r=t._state,s=t._scope;t.getters={},t._makeLocalGettersCache=Object.create(null);var i=t._wrappedGetters,o={},a={},l=li.effectScope(!0);l.run(function(){Li(i,function(u,h){o[h]=BL(u,t),a[h]=li.computed(function(){return o[h]()}),Object.defineProperty(t.getters,h,{get:function(){return a[h].value},enumerable:!0})})}),t._state=li.reactive({data:e}),t._scope=l,t.strict&&zL(t),r&&n&&t._withCommit(function(){r.data=null}),s&&s.stop()}function Xl(t,e,n,r,s){var i=!n.length,o=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[o],t._modulesNamespaceMap[o]=r),!i&&!s){var a=tp(e,n.slice(0,-1)),l=n[n.length-1];t._withCommit(function(){a[l]=r.state})}var u=r.context=HL(t,o,n);r.forEachMutation(function(h,f){var p=o+f;qL(t,p,h,u)}),r.forEachAction(function(h,f){var p=h.root?f:o+f,g=h.handler||h;KL(t,p,g,u)}),r.forEachGetter(function(h,f){var p=o+f;WL(t,p,h,u)}),r.forEachChild(function(h,f){Xl(t,e,n.concat(f),h,s)})}function HL(t,e,n){var r=e==="",s={dispatch:r?t.dispatch:function(i,o,a){var l=al(i,o,a),u=l.payload,h=l.options,f=l.type;return(!h||!h.root)&&(f=e+f),t.dispatch(f,u)},commit:r?t.commit:function(i,o,a){var l=al(i,o,a),u=l.payload,h=l.options,f=l.type;(!h||!h.root)&&(f=e+f),t.commit(f,u,h)}};return Object.defineProperties(s,{getters:{get:r?function(){return t.getters}:function(){return vw(t,e)}},state:{get:function(){return tp(t.state,n)}}}),s}function vw(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach(function(s){if(s.slice(0,r)===e){var i=s.slice(r);Object.defineProperty(n,i,{get:function(){return t.getters[s]},enumerable:!0})}}),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function qL(t,e,n,r){var s=t._mutations[e]||(t._mutations[e]=[]);s.push(function(o){n.call(t,r.state,o)})}function KL(t,e,n,r){var s=t._actions[e]||(t._actions[e]=[]);s.push(function(o){var a=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},o);return $L(a)||(a=Promise.resolve(a)),t._devtoolHook?a.catch(function(l){throw t._devtoolHook.emit("vuex:error",l),l}):a})}function WL(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(i){return n(r.state,r.getters,i.state,i.getters)})}function zL(t){li.watch(function(){return t._state.data},function(){},{deep:!0,flush:"sync"})}function tp(t,e){return e.reduce(function(n,r){return n[r]},t)}function al(t,e,n){return gw(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}var GL="vuex bindings",j_="vuex:mutations",Ju="vuex:actions",qs="vuex",QL=0;function JL(t,e){FL.setupDevtoolsPlugin({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[GL]},function(n){n.addTimelineLayer({id:j_,label:"Vuex Mutations",color:$_}),n.addTimelineLayer({id:Ju,label:"Vuex Actions",color:$_}),n.addInspector({id:qs,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===t&&r.inspectorId===qs)if(r.filter){var s=[];bw(s,e._modules.root,r.filter,""),r.rootNodes=s}else r.rootNodes=[ww(e._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===t&&r.inspectorId===qs){var s=r.nodeId;vw(e,s),r.state=ZL(tF(e._modules,s),s==="root"?e.getters:e._makeLocalGettersCache,s)}}),n.on.editInspectorState(function(r){if(r.app===t&&r.inspectorId===qs){var s=r.nodeId,i=r.path;s!=="root"&&(i=s.split("/").filter(Boolean).concat(i)),e._withCommit(function(){r.set(e._state.data,i,r.state.value)})}}),e.subscribe(function(r,s){var i={};r.payload&&(i.payload=r.payload),i.state=s,n.notifyComponentUpdate(),n.sendInspectorTree(qs),n.sendInspectorState(qs),n.addTimelineEvent({layerId:j_,event:{time:Date.now(),title:r.type,data:i}})}),e.subscribeAction({before:function(r,s){var i={};r.payload&&(i.payload=r.payload),r._id=QL++,r._time=Date.now(),i.state=s,n.addTimelineEvent({layerId:Ju,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:i}})},after:function(r,s){var i={},o=Date.now()-r._time;i.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},r.payload&&(i.payload=r.payload),i.state=s,n.addTimelineEvent({layerId:Ju,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:i}})}})})}var $_=8702998,YL=6710886,XL=16777215,Ew={label:"namespaced",textColor:XL,backgroundColor:YL};function Tw(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function ww(t,e){return{id:e||"root",label:Tw(e),tags:t.namespaced?[Ew]:[],children:Object.keys(t._children).map(function(n){return ww(t._children[n],e+n+"/")})}}function bw(t,e,n,r){r.includes(n)&&t.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:e.namespaced?[Ew]:[]}),Object.keys(e._children).forEach(function(s){bw(t,e._children[s],n,r+s+"/")})}function ZL(t,e,n){e=n==="root"?e:e[n];var r=Object.keys(e),s={state:Object.keys(t.state).map(function(o){return{key:o,editable:!0,value:t.state[o]}})};if(r.length){var i=eF(e);s.getters=Object.keys(i).map(function(o){return{key:o.endsWith("/")?Tw(o):o,editable:!1,value:of(function(){return i[o]})}})}return s}function eF(t){var e={};return Object.keys(t).forEach(function(n){var r=n.split("/");if(r.length>1){var s=e,i=r.pop();r.forEach(function(o){s[o]||(s[o]={_custom:{value:{},display:o,tooltip:"Module",abstract:!0}}),s=s[o]._custom.value}),s[i]=of(function(){return t[n]})}else e[n]=of(function(){return t[n]})}),e}function tF(t,e){var n=e.split("/").filter(function(r){return r});return n.reduce(function(r,s,i){var o=r[s];if(!o)throw new Error('Missing module "'+s+'" for path "'+e+'".');return i===n.length-1?o:o._children},e==="root"?t:t.root._children)}function of(t){try{return t()}catch(e){return e}}var Rn=function(e,n){this.runtime=n,this._children=Object.create(null),this._rawModule=e;var r=e.state;this.state=(typeof r=="function"?r():r)||{}},Iw={namespaced:{configurable:!0}};Iw.namespaced.get=function(){return!!this._rawModule.namespaced};Rn.prototype.addChild=function(e,n){this._children[e]=n};Rn.prototype.removeChild=function(e){delete this._children[e]};Rn.prototype.getChild=function(e){return this._children[e]};Rn.prototype.hasChild=function(e){return e in this._children};Rn.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};Rn.prototype.forEachChild=function(e){Li(this._children,e)};Rn.prototype.forEachGetter=function(e){this._rawModule.getters&&Li(this._rawModule.getters,e)};Rn.prototype.forEachAction=function(e){this._rawModule.actions&&Li(this._rawModule.actions,e)};Rn.prototype.forEachMutation=function(e){this._rawModule.mutations&&Li(this._rawModule.mutations,e)};Object.defineProperties(Rn.prototype,Iw);var xs=function(e){this.register([],e,!1)};xs.prototype.get=function(e){return e.reduce(function(n,r){return n.getChild(r)},this.root)};xs.prototype.getNamespace=function(e){var n=this.root;return e.reduce(function(r,s){return n=n.getChild(s),r+(n.namespaced?s+"/":"")},"")};xs.prototype.update=function(e){Aw([],this.root,e)};xs.prototype.register=function(e,n,r){var s=this;r===void 0&&(r=!0);var i=new Rn(n,r);if(e.length===0)this.root=i;else{var o=this.get(e.slice(0,-1));o.addChild(e[e.length-1],i)}n.modules&&Li(n.modules,function(a,l){s.register(e.concat(l),a,r)})};xs.prototype.unregister=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1],s=n.getChild(r);s&&s.runtime&&n.removeChild(r)};xs.prototype.isRegistered=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1];return n?n.hasChild(r):!1};function Aw(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return;Aw(t.concat(r),e.getChild(r),n.modules[r])}}function nF(t){return new Ht(t)}var Ht=function(e){var n=this;e===void 0&&(e={});var r=e.plugins;r===void 0&&(r=[]);var s=e.strict;s===void 0&&(s=!1);var i=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new xs(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=i;var o=this,a=this,l=a.dispatch,u=a.commit;this.dispatch=function(p,g){return l.call(o,p,g)},this.commit=function(p,g,E){return u.call(o,p,g,E)},this.strict=s;var h=this._modules.root.state;Xl(this,h,[],this._modules.root),ep(this,h),r.forEach(function(f){return f(n)})},np={state:{configurable:!0}};Ht.prototype.install=function(e,n){e.provide(n||Zd,this),e.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&JL(e,this)};np.state.get=function(){return this._state.data};np.state.set=function(t){};Ht.prototype.commit=function(e,n,r){var s=this,i=al(e,n,r),o=i.type,a=i.payload,l={type:o,payload:a},u=this._mutations[o];u&&(this._withCommit(function(){u.forEach(function(f){f(a)})}),this._subscribers.slice().forEach(function(h){return h(l,s.state)}))};Ht.prototype.dispatch=function(e,n){var r=this,s=al(e,n),i=s.type,o=s.payload,a={type:i,payload:o},l=this._actions[i];if(l){try{this._actionSubscribers.slice().filter(function(h){return h.before}).forEach(function(h){return h.before(a,r.state)})}catch{}var u=l.length>1?Promise.all(l.map(function(h){return h(o)})):l[0](o);return new Promise(function(h,f){u.then(function(p){try{r._actionSubscribers.filter(function(g){return g.after}).forEach(function(g){return g.after(a,r.state)})}catch{}h(p)},function(p){try{r._actionSubscribers.filter(function(g){return g.error}).forEach(function(g){return g.error(a,r.state,p)})}catch{}f(p)})})}};Ht.prototype.subscribe=function(e,n){return _w(e,this._subscribers,n)};Ht.prototype.subscribeAction=function(e,n){var r=typeof e=="function"?{before:e}:e;return _w(r,this._actionSubscribers,n)};Ht.prototype.watch=function(e,n,r){var s=this;return li.watch(function(){return e(s.state,s.getters)},n,Object.assign({},r))};Ht.prototype.replaceState=function(e){var n=this;this._withCommit(function(){n._state.data=e})};Ht.prototype.registerModule=function(e,n,r){r===void 0&&(r={}),typeof e=="string"&&(e=[e]),this._modules.register(e,n),Xl(this,this.state,e,this._modules.get(e),r.preserveState),ep(this,this.state)};Ht.prototype.unregisterModule=function(e){var n=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var r=tp(n.state,e.slice(0,-1));delete r[e[e.length-1]]}),yw(this)};Ht.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};Ht.prototype.hotUpdate=function(e){this._modules.update(e),yw(this,!0)};Ht.prototype._withCommit=function(e){var n=this._committing;this._committing=!0,e(),this._committing=n};Object.defineProperties(Ht.prototype,np);var Sw=eu(function(t,e){var n={};return Zl(e).forEach(function(r){var s=r.key,i=r.val;n[s]=function(){var a=this.$store.state,l=this.$store.getters;if(t){var u=tu(this.$store,"mapState",t);if(!u)return;a=u.context.state,l=u.context.getters}return typeof i=="function"?i.call(this,a,l):a[i]},n[s].vuex=!0}),n}),Rw=eu(function(t,e){var n={};return Zl(e).forEach(function(r){var s=r.key,i=r.val;n[s]=function(){for(var a=[],l=arguments.length;l--;)a[l]=arguments[l];var u=this.$store.commit;if(t){var h=tu(this.$store,"mapMutations",t);if(!h)return;u=h.context.commit}return typeof i=="function"?i.apply(this,[u].concat(a)):u.apply(this.$store,[i].concat(a))}}),n}),Cw=eu(function(t,e){var n={};return Zl(e).forEach(function(r){var s=r.key,i=r.val;i=t+i,n[s]=function(){if(!(t&&!tu(this.$store,"mapGetters",t)))return this.$store.getters[i]},n[s].vuex=!0}),n}),Pw=eu(function(t,e){var n={};return Zl(e).forEach(function(r){var s=r.key,i=r.val;n[s]=function(){for(var a=[],l=arguments.length;l--;)a[l]=arguments[l];var u=this.$store.dispatch;if(t){var h=tu(this.$store,"mapActions",t);if(!h)return;u=h.context.dispatch}return typeof i=="function"?i.apply(this,[u].concat(a)):u.apply(this.$store,[i].concat(a))}}),n}),rF=function(t){return{mapState:Sw.bind(null,t),mapGetters:Cw.bind(null,t),mapMutations:Rw.bind(null,t),mapActions:Pw.bind(null,t)}};function Zl(t){return sF(t)?Array.isArray(t)?t.map(function(e){return{key:e,val:e}}):Object.keys(t).map(function(e){return{key:e,val:t[e]}}):[]}function sF(t){return Array.isArray(t)||gw(t)}function eu(t){return function(e,n){return typeof e!="string"?(n=e,e=""):e.charAt(e.length-1)!=="/"&&(e+="/"),t(e,n)}}function tu(t,e,n){var r=t._modulesNamespaceMap[n];return r}function iF(t){t===void 0&&(t={});var e=t.collapsed;e===void 0&&(e=!0);var n=t.filter;n===void 0&&(n=function(h,f,p){return!0});var r=t.transformer;r===void 0&&(r=function(h){return h});var s=t.mutationTransformer;s===void 0&&(s=function(h){return h});var i=t.actionFilter;i===void 0&&(i=function(h,f){return!0});var o=t.actionTransformer;o===void 0&&(o=function(h){return h});var a=t.logMutations;a===void 0&&(a=!0);var l=t.logActions;l===void 0&&(l=!0);var u=t.logger;return u===void 0&&(u=console),function(h){var f=sf(h.state);typeof u>"u"||(a&&h.subscribe(function(p,g){var E=sf(g);if(n(p,f,E)){var R=q_(),S=s(p),x="mutation "+p.type+R;B_(u,x,e),u.log("%c prev state","color: #9E9E9E; font-weight: bold",r(f)),u.log("%c mutation","color: #03A9F4; font-weight: bold",S),u.log("%c next state","color: #4CAF50; font-weight: bold",r(E)),H_(u)}f=E}),l&&h.subscribeAction(function(p,g){if(i(p,g)){var E=q_(),R=o(p),S="action "+p.type+E;B_(u,S,e),u.log("%c action","color: #03A9F4; font-weight: bold",R),H_(u)}}))}}function B_(t,e,n){var r=n?t.groupCollapsed:t.group;try{r.call(t,e)}catch{t.log(e)}}function H_(t){try{t.groupEnd()}catch{t.log(" log end ")}}function q_(){var t=new Date;return" @ "+sc(t.getHours(),2)+":"+sc(t.getMinutes(),2)+":"+sc(t.getSeconds(),2)+"."+sc(t.getMilliseconds(),3)}function oF(t,e){return new Array(e+1).join(t)}function sc(t,e){return oF("0",e-t.toString().length)+t}var aF={version:"4.1.0",Store:Ht,storeKey:Zd,createStore:nF,useStore:UL,mapState:Sw,mapMutations:Rw,mapGetters:Cw,mapActions:Pw,createNamespacedHelpers:rF,createLogger:iF},cF=aF;const lF={class:"recipe-details"},uF={key:1,class:"recipe-card"},hF={class:"recipe-image"},fF=["src","alt"],dF={class:"recipe-content"},pF={class:"recipe-rating"},mF={class:"recipe-title"},gF={class:"recipe-meta"},_F={class:"recipe-servings"},yF={class:"recipe-time"},vF={key:0,class:"recipe-tags"},EF={class:"recipe-section"},TF={class:"ingredients-list"},wF={class:"recipe-section"},bF={class:"directions-list"},IF={class:"recipe-notes"},AF={key:0},SF=["href"],RF={key:1},CF=["href"],PF={key:2},OF={key:3},kF={__name:"RecipeDetails",setup(t){const e=XC(),n=cF.useStore(),r=ye({}),s=ye(4),i=ye(2),o=ye(15),a=Ae(()=>Qo.currentUser),l=ye(!1),u=Ae(()=>n.getters.isLoading),h=ye(null),f=async()=>{if(a.value&&r.value.idMeal){const S=I_(A_,"favorites",`${a.value.uid}_${r.value.idMeal}`),x=await XD(S);l.value=x.exists()}},p=async()=>{if(a.value&&r.value.idMeal){const S=I_(A_,"favorites",`${a.value.uid}_${r.value.idMeal}`);try{l.value?await tV(S):await eV(S,{userId:a.value.uid,recipe:r.value}),l.value=!l.value}catch(x){console.error("Error toggling favorite:",x),h.value="Failed to update favorite. Please try again."}}},g=Ae(()=>r.value?Array.from({length:20},(S,x)=>x+1).map(S=>({name:r.value[`strIngredient${S}`],measure:r.value[`strMeasure${S}`]})).filter(({name:S,measure:x})=>S&&x):[]),E=Ae(()=>r.value.strInstructions?r.value.strInstructions.split(`
`).filter(S=>S.trim()):[]),R=Ae(()=>r.value.strTags?r.value.strTags.split(",").map(S=>S.trim()):[]);return pn(async()=>{n.commit("setLoading",!0);try{const S=await We.get(`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${e.params.id}`);r.value=S.data.meals[0],await f()}catch(S){console.error("Error fetching recipe details:",S),h.value="Failed to load recipe details. Please try again."}finally{n.commit("setLoading",!1)}}),(S,x)=>(te(),de("div",lF,[u.value?(te(),Bt(sl,{key:0})):(te(),de("div",uF,[j("div",hF,[j("img",{src:r.value.strMealThumb,alt:r.value.strMeal},null,8,fF)]),j("div",dF,[j("div",pF,[(te(),de(Ue,null,vn(5,O=>j("span",{key:O,class:jn(["star",{empty:O>s.value}])},"",2)),64))]),j("h1",mF,Ke(r.value.strMeal),1),j("div",gF,[j("span",_F,[x[0]||(x[0]=zf('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon" data-v-53b2cfce><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" data-v-53b2cfce></path><circle cx="9" cy="7" r="4" data-v-53b2cfce></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87" data-v-53b2cfce></path><path d="M16 3.13a4 4 0 0 1 0 7.75" data-v-53b2cfce></path></svg>',1)),gt(" "+Ke(i.value)+" servings ",1)]),j("span",yF,[x[1]||(x[1]=j("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"icon"},[j("circle",{cx:"12",cy:"12",r:"10"}),j("polyline",{points:"12 6 12 12 16 14"})],-1)),gt(" "+Ke(o.value)+" minutes ",1)])]),R.value.length?(te(),de("div",vF,[(te(!0),de(Ue,null,vn(R.value,O=>(te(),de("span",{key:O,class:"tag"},Ke(O),1))),128))])):ot("",!0),j("div",EF,[x[2]||(x[2]=j("h2",null,"INGREDIENTS",-1)),j("ul",TF,[(te(!0),de(Ue,null,vn(g.value,(O,_)=>(te(),de("li",{key:_},Ke(O.measure)+" "+Ke(O.name),1))),128))])]),j("div",wF,[x[3]||(x[3]=j("h2",null,"DIRECTIONS",-1)),j("ol",bF,[(te(!0),de(Ue,null,vn(E.value,(O,_)=>(te(),de("li",{key:_},Ke(O),1))),128))])]),j("div",IF,[x[6]||(x[6]=j("h2",null,"NOTES",-1)),r.value.strSource?(te(),de("p",AF,[x[4]||(x[4]=gt("Source: ")),j("a",{href:r.value.strSource,target:"_blank",rel:"noopener noreferrer"},Ke(r.value.strSource),9,SF)])):ot("",!0),r.value.strYoutube?(te(),de("p",RF,[x[5]||(x[5]=gt("Video Tutorial: ")),j("a",{href:r.value.strYoutube,target:"_blank",rel:"noopener noreferrer"},"Watch on YouTube",8,CF)])):ot("",!0),r.value.strCategory?(te(),de("p",PF,"Category: "+Ke(r.value.strCategory),1)):ot("",!0),r.value.strArea?(te(),de("p",OF,"Cuisine: "+Ke(r.value.strArea),1)):ot("",!0)]),a.value?(te(),de("button",{key:1,onClick:p,class:"favorite-btn"},Ke(l.value?"Remove from Favorites":"Add to Favorites"),1)):ot("",!0)])]))]))}},NF=mn(kF,[["__scopeId","data-v-53b2cfce"]]),xF={class:"auth-form"},DF={class:"form-group"},VF={class:"form-group"},MF={key:0,class:"error"},LF={__name:"SignUp",setup(t){const e=ye(""),n=ye(""),r=ye(""),s=sd(),i=async()=>{try{await RO(Qo,e.value,n.value),s.push("/")}catch(o){r.value=o.message}};return(o,a)=>(te(),de("div",xF,[a[5]||(a[5]=j("h2",null,"Sign Up",-1)),j("form",{onSubmit:ds(i,["prevent"])},[j("div",DF,[a[2]||(a[2]=j("label",{for:"email"},"Email:",-1)),ln(j("input",{type:"email",id:"email","onUpdate:modelValue":a[0]||(a[0]=l=>e.value=l),required:""},null,512),[[hn,e.value]])]),j("div",VF,[a[3]||(a[3]=j("label",{for:"password"},"Password:",-1)),ln(j("input",{type:"password",id:"password","onUpdate:modelValue":a[1]||(a[1]=l=>n.value=l),required:""},null,512),[[hn,n.value]])]),a[4]||(a[4]=j("button",{type:"submit"},"Sign Up",-1))],32),r.value?(te(),de("p",MF,Ke(r.value),1)):ot("",!0)]))}},FF=mn(LF,[["__scopeId","data-v-c12cc170"]]),UF={class:"auth-form"},jF={class:"form-group"},$F={class:"form-group"},BF={key:0,class:"error"},HF={__name:"SignIn",setup(t){const e=ye(""),n=ye(""),r=ye(""),s=sd(),i=async()=>{try{await CO(Qo,e.value,n.value),s.push("/")}catch(o){r.value=o.message}};return(o,a)=>(te(),de("div",UF,[a[5]||(a[5]=j("h2",null,"Sign In",-1)),j("form",{onSubmit:ds(i,["prevent"])},[j("div",jF,[a[2]||(a[2]=j("label",{for:"email"},"Email:",-1)),ln(j("input",{type:"email",id:"email","onUpdate:modelValue":a[0]||(a[0]=l=>e.value=l),required:""},null,512),[[hn,e.value]])]),j("div",$F,[a[3]||(a[3]=j("label",{for:"password"},"Password:",-1)),ln(j("input",{type:"password",id:"password","onUpdate:modelValue":a[1]||(a[1]=l=>n.value=l),required:""},null,512),[[hn,n.value]])]),a[4]||(a[4]=j("button",{type:"submit"},"Sign In",-1))],32),r.value?(te(),de("p",BF,Ke(r.value),1)):ot("",!0)]))}},qF=mn(HF,[["__scopeId","data-v-afb668ed"]]),KF={class:"favorite-recipes"},WF={key:1,class:"error-message"},zF={key:2},GF={key:3,class:"recipes-grid"},QF={__name:"FavoriteRecipes",setup(t){const e=Xf(),n=Ae(()=>e.getters.getFavorites),r=Ae(()=>e.getters.isLoading),s=Ae(()=>e.getters.getError);return pn(()=>{e.dispatch("fetchFavorites")}),(i,o)=>(te(),de("div",KF,[o[0]||(o[0]=j("h2",null,"Your Favorite Recipes",-1)),r.value?(te(),Bt(sl,{key:0})):s.value?(te(),de("div",WF,Ke(s.value),1)):n.value.length===0?(te(),de("div",zF,"You haven't saved any favorites yet.")):(te(),de("div",GF,[(te(!0),de(Ue,null,vn(n.value,a=>(te(),Bt(qT,{key:a.idMeal,recipe:a},null,8,["recipe"]))),128))]))]))}},JF=mn(QF,[["__scopeId","data-v-c053abee"]]),YF=[{path:"/",name:"Home",component:SL},{path:"/about",name:"About",component:CL},{path:"/contact",name:"Contact",component:VL},{path:"/recipe/:id",name:"RecipeDetails",component:NF},{path:"/signup",name:"SignUp",component:FF},{path:"/signin",name:"SignIn",component:qF},{path:"/favorites",name:"Favorites",component:JF}],XF=JC({history:SC(),routes:YF}),ZF=zR({state:{searchResults:[],popularRecipes:[],categories:[],areas:[],isLoading:!1,error:null},mutations:{setSearchResults(t,e){t.searchResults=e},appendSearchResults(t,e){const n=e.filter(r=>!t.searchResults.some(s=>s.idMeal===r.idMeal));t.searchResults=[...t.searchResults,...n]},setPopularRecipes(t,e){t.popularRecipes=e},appendPopularRecipes(t,e){const n=e.filter(r=>!t.popularRecipes.some(s=>s.idMeal===r.idMeal));t.popularRecipes=[...t.popularRecipes,...n]},setCategories(t,e){t.categories=e},setAreas(t,e){t.areas=e},setLoading(t,e){t.isLoading=e},setError(t,e){t.error=e}},actions:{async searchRecipes({commit:t,state:e},{query:n,category:r,area:s,page:i}){t("setLoading",!0),t("setError",null);try{let o=`https://www.themealdb.com/api/json/v1/1/search.php?s=${n}`;r&&(o+=`&c=${r}`),s&&(o+=`&a=${s}`);const l=(await We.get(o)).data.meals||[],u=(i-1)*10,h=u+10,f=l.slice(u,h);t(i===1?"setSearchResults":"appendSearchResults",f),f.length===0&&i===1&&t("setError","No recipes found. Try a different search term or filters.")}catch(o){t("setError","An error occurred while searching for recipes."),console.error("Error searching recipes:",o)}finally{t("setLoading",!1)}},async fetchPopularRecipes({commit:t,state:e},{page:n}){t("setLoading",!0),t("setError",null);try{const r=[];let o=0;for(;r.length<10&&o<20;){const l=(await We.get("https://www.themealdb.com/api/json/v1/1/random.php")).data.meals[0];!e.popularRecipes.some(u=>u.idMeal===l.idMeal)&&!r.some(u=>u.idMeal===l.idMeal)&&r.push(l),o++}t(n===1?"setPopularRecipes":"appendPopularRecipes",r),r.length===0&&n===1&&t("setError","No popular recipes available at the moment. Please try again later.")}catch(r){t("setError","An error occurred while fetching popular recipes."),console.error("Error fetching popular recipes:",r)}finally{t("setLoading",!1)}},async fetchCategories({commit:t}){try{const e=await We.get("https://www.themealdb.com/api/json/v1/1/list.php?c=list");t("setCategories",e.data.meals.map(n=>n.strCategory))}catch(e){console.error("Error fetching categories:",e)}},async fetchAreas({commit:t}){try{const e=await We.get("https://www.themealdb.com/api/json/v1/1/list.php?a=list");t("setAreas",e.data.meals.map(n=>n.strArea))}catch(e){console.error("Error fetching areas:",e)}}},getters:{getSearchResults:t=>t.searchResults,getPopularRecipes:t=>t.popularRecipes,getCategories:t=>t.categories,getAreas:t=>t.areas,isLoading:t=>t.isLoading,getError:t=>t.error}});function Yu(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in t?!1:Symbol.toStringTag in t?Object.prototype.toString.call(t)==="[object Module]":!0}function af(t,e,n=".",r){if(!Yu(e))return af(t,{},n,r);const s=Object.assign({},e);for(const i in t){if(i==="__proto__"||i==="constructor")continue;const o=t[i];o!=null&&(r&&r(s,i,o,n)||(Array.isArray(o)&&Array.isArray(s[i])?s[i]=[...o,...s[i]]:Yu(o)&&Yu(s[i])?s[i]=af(o,s[i],(n?`${n}.`:"")+i.toString(),r):s[i]=o))}return s}function e2(t){return(...e)=>e.reduce((n,r)=>af(n,r,"",t),{})}const Ow=e2();function kw(t){return bf()?(hy(t),!0):!1}function rp(t){return typeof t=="function"?t():xt(t)}const t2=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const n2=t=>t!=null,r2=Object.prototype.toString,cl=t=>r2.call(t)==="[object Object]",Tc=()=>{};function s2(t){return Xt()}function i2(t,e){s2()&&Cs(t,e)}function Ao(t){var e;const n=rp(t);return(e=n==null?void 0:n.$el)!=null?e:n}const Nw=t2?window:void 0;function Pn(...t){let e,n,r,s;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,r,s]=t,e=Nw):[e,n,r,s]=t,!e)return Tc;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const i=[],o=()=>{i.forEach(h=>h()),i.length=0},a=(h,f,p,g)=>(h.addEventListener(f,p,g),()=>h.removeEventListener(f,p,g)),l=st(()=>[Ao(e),rp(s)],([h,f])=>{if(o(),!h)return;const p=cl(f)?{...f}:f;i.push(...n.flatMap(g=>r.map(E=>a(h,g,E,p))))},{immediate:!0,flush:"post"}),u=()=>{l(),o()};return kw(u),u}function o2(){const t=ye(!1),e=Xt();return e&&pn(()=>{t.value=!0},e),t}function a2(t){const e=o2();return Ae(()=>(e.value,!!t()))}function c2(t,e,n={}){const{root:r,rootMargin:s="0px",threshold:i=.1,window:o=Nw,immediate:a=!0}=n,l=a2(()=>o&&"IntersectionObserver"in o),u=Ae(()=>{const E=rp(t);return(Array.isArray(E)?E:[E]).map(Ao).filter(n2)});let h=Tc;const f=ye(a),p=l.value?st(()=>[u.value,Ao(r),f.value],([E,R])=>{if(h(),!f.value||!E.length)return;const S=new IntersectionObserver(e,{root:Ao(R),rootMargin:s,threshold:i});E.forEach(x=>x&&S.observe(x)),h=()=>{S.disconnect(),h=Tc}},{immediate:a,flush:"post"}):Tc,g=()=>{h(),p(),f.value=!1};return kw(g),{isSupported:l,isActive:f,pause(){h(),f.value=!1},resume(){f.value=!0},stop:g}}const xw=1/60*1e3,l2=typeof performance<"u"?()=>performance.now():()=>Date.now(),Dw=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(l2()),xw);function u2(t){let e=[],n=[],r=0,s=!1,i=!1;const o=new WeakSet,a={schedule:(l,u=!1,h=!1)=>{const f=h&&s,p=f?e:n;return u&&o.add(l),p.indexOf(l)===-1&&(p.push(l),f&&s&&(r=e.length)),l},cancel:l=>{const u=n.indexOf(l);u!==-1&&n.splice(u,1),o.delete(l)},process:l=>{if(s){i=!0;return}if(s=!0,[e,n]=[n,e],n.length=0,r=e.length,r)for(let u=0;u<r;u++){const h=e[u];h(l),o.has(h)&&(a.schedule(h),t())}s=!1,i&&(i=!1,a.process(l))}};return a}const h2=40;let cf=!0,Yo=!1,lf=!1;const ui={delta:0,timestamp:0},wa=["read","update","preRender","render","postRender"],nu=wa.reduce((t,e)=>(t[e]=u2(()=>Yo=!0),t),{}),uf=wa.reduce((t,e)=>{const n=nu[e];return t[e]=(r,s=!1,i=!1)=>(Yo||p2(),n.schedule(r,s,i)),t},{}),f2=wa.reduce((t,e)=>(t[e]=nu[e].cancel,t),{});wa.reduce((t,e)=>(t[e]=()=>nu[e].process(ui),t),{});const d2=t=>nu[t].process(ui),Vw=t=>{Yo=!1,ui.delta=cf?xw:Math.max(Math.min(t-ui.timestamp,h2),1),ui.timestamp=t,lf=!0,wa.forEach(d2),lf=!1,Yo&&(cf=!1,Dw(Vw))},p2=()=>{Yo=!0,cf=!0,lf||Dw(Vw)},Mw=()=>ui;function Lw(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}var K_=function(){};const hf=(t,e,n)=>Math.min(Math.max(n,t),e),Xu=.001,m2=.01,g2=10,_2=.05,y2=1;function v2({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,i,o=1-e;o=hf(_2,y2,o),t=hf(m2,g2,t/1e3),o<1?(s=u=>{const h=u*o,f=h*t,p=h-n,g=ff(u,o),E=Math.exp(-f);return Xu-p/g*E},i=u=>{const f=u*o*t,p=f*n+n,g=Math.pow(o,2)*Math.pow(u,2)*t,E=Math.exp(-f),R=ff(Math.pow(u,2),o);return(-s(u)+Xu>0?-1:1)*((p-g)*E)/R}):(s=u=>{const h=Math.exp(-u*t),f=(u-n)*t+1;return-Xu+h*f},i=u=>{const h=Math.exp(-u*t),f=(n-u)*(t*t);return h*f});const a=5/t,l=T2(s,i,a);if(t=t*1e3,isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const E2=12;function T2(t,e,n){let r=n;for(let s=1;s<E2;s++)r=r-t(r)/e(r);return r}function ff(t,e){return t*Math.sqrt(1-e*e)}const w2=["duration","bounce"],b2=["stiffness","damping","mass"];function W_(t,e){return e.some(n=>t[n]!==void 0)}function I2(t){let e=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},t);if(!W_(t,b2)&&W_(t,w2)){const n=v2(t);e=Object.assign(Object.assign(Object.assign({},e),n),{velocity:0,mass:1}),e.isResolvedFromDuration=!0}return e}function sp(t){var{from:e=0,to:n=1,restSpeed:r=2,restDelta:s}=t,i=Lw(t,["from","to","restSpeed","restDelta"]);const o={done:!1,value:e};let{stiffness:a,damping:l,mass:u,velocity:h,duration:f,isResolvedFromDuration:p}=I2(i),g=z_,E=z_;function R(){const S=h?-(h/1e3):0,x=n-e,O=l/(2*Math.sqrt(a*u)),_=Math.sqrt(a/u)/1e3;if(s===void 0&&(s=Math.min(Math.abs(n-e)/100,.4)),O<1){const P=ff(_,O);g=D=>{const L=Math.exp(-O*_*D);return n-L*((S+O*_*x)/P*Math.sin(P*D)+x*Math.cos(P*D))},E=D=>{const L=Math.exp(-O*_*D);return O*_*L*(Math.sin(P*D)*(S+O*_*x)/P+x*Math.cos(P*D))-L*(Math.cos(P*D)*(S+O*_*x)-P*x*Math.sin(P*D))}}else if(O===1)g=P=>n-Math.exp(-_*P)*(x+(S+_*x)*P);else{const P=_*Math.sqrt(O*O-1);g=D=>{const L=Math.exp(-O*_*D),b=Math.min(P*D,300);return n-L*((S+O*_*x)*Math.sinh(b)+P*x*Math.cosh(b))/P}}}return R(),{next:S=>{const x=g(S);if(p)o.done=S>=f;else{const O=E(S)*1e3,_=Math.abs(O)<=r,P=Math.abs(n-x)<=s;o.done=_&&P}return o.value=o.done?n:x,o},flipTarget:()=>{h=-h,[e,n]=[n,e],R()}}}sp.needsInterpolation=(t,e)=>typeof t=="string"||typeof e=="string";const z_=t=>0,Fw=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},ip=(t,e,n)=>-n*t+n*e+t,Uw=(t,e)=>n=>Math.max(Math.min(n,e),t),So=t=>t%1?Number(t.toFixed(5)):t,Xo=/(-)?([\d]*\.?[\d])+/g,df=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,A2=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ba(t){return typeof t=="string"}const Ia={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ro=Object.assign(Object.assign({},Ia),{transform:Uw(0,1)}),ic=Object.assign(Object.assign({},Ia),{default:1}),op=t=>({test:e=>ba(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ss=op("deg"),Co=op("%"),Ie=op("px"),G_=Object.assign(Object.assign({},Co),{parse:t=>Co.parse(t)/100,transform:t=>Co.transform(t*100)}),ap=(t,e)=>n=>!!(ba(n)&&A2.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),jw=(t,e,n)=>r=>{if(!ba(r))return r;const[s,i,o,a]=r.match(Xo);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},ls={test:ap("hsl","hue"),parse:jw("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Co.transform(So(e))+", "+Co.transform(So(n))+", "+So(Ro.transform(r))+")"},S2=Uw(0,255),Zu=Object.assign(Object.assign({},Ia),{transform:t=>Math.round(S2(t))}),xr={test:ap("rgb","red"),parse:jw("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Zu.transform(t)+", "+Zu.transform(e)+", "+Zu.transform(n)+", "+So(Ro.transform(r))+")"};function R2(t){let e="",n="",r="",s="";return t.length>5?(e=t.substr(1,2),n=t.substr(3,2),r=t.substr(5,2),s=t.substr(7,2)):(e=t.substr(1,1),n=t.substr(2,1),r=t.substr(3,1),s=t.substr(4,1),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const pf={test:ap("#"),parse:R2,transform:xr.transform},Wt={test:t=>xr.test(t)||pf.test(t)||ls.test(t),parse:t=>xr.test(t)?xr.parse(t):ls.test(t)?ls.parse(t):pf.parse(t),transform:t=>ba(t)?t:t.hasOwnProperty("red")?xr.transform(t):ls.transform(t)},$w="${c}",Bw="${n}";function C2(t){var e,n,r,s;return isNaN(t)&&ba(t)&&((n=(e=t.match(Xo))===null||e===void 0?void 0:e.length)!==null&&n!==void 0?n:0)+((s=(r=t.match(df))===null||r===void 0?void 0:r.length)!==null&&s!==void 0?s:0)>0}function Hw(t){typeof t=="number"&&(t=`${t}`);const e=[];let n=0;const r=t.match(df);r&&(n=r.length,t=t.replace(df,$w),e.push(...r.map(Wt.parse)));const s=t.match(Xo);return s&&(t=t.replace(Xo,Bw),e.push(...s.map(Ia.parse))),{values:e,numColors:n,tokenised:t}}function qw(t){return Hw(t).values}function Kw(t){const{values:e,numColors:n,tokenised:r}=Hw(t),s=e.length;return i=>{let o=r;for(let a=0;a<s;a++)o=o.replace(a<n?$w:Bw,a<n?Wt.transform(i[a]):So(i[a]));return o}}const P2=t=>typeof t=="number"?0:t;function O2(t){const e=qw(t);return Kw(t)(e.map(P2))}const Aa={test:C2,parse:qw,createTransformer:Kw,getAnimatableNone:O2},k2=new Set(["brightness","contrast","saturate","opacity"]);function N2(t){let[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Xo)||[];if(!r)return t;const s=n.replace(r,"");let i=k2.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const x2=/([a-z-]*)\(.*?\)/g,mf=Object.assign(Object.assign({},Aa),{getAnimatableNone:t=>{const e=t.match(x2);return e?e.map(N2).join(" "):t}});function eh(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Q_({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=eh(l,a,t+1/3),i=eh(l,a,t),o=eh(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const D2=(t,e,n)=>{const r=t*t,s=e*e;return Math.sqrt(Math.max(0,n*(s-r)+r))},V2=[pf,xr,ls],J_=t=>V2.find(e=>e.test(t)),Ww=(t,e)=>{let n=J_(t),r=J_(e),s=n.parse(t),i=r.parse(e);n===ls&&(s=Q_(s),n=xr),r===ls&&(i=Q_(i),r=xr);const o=Object.assign({},s);return a=>{for(const l in o)l!=="alpha"&&(o[l]=D2(s[l],i[l],a));return o.alpha=ip(s.alpha,i.alpha,a),n.transform(o)}},M2=t=>typeof t=="number",L2=(t,e)=>n=>e(t(n)),zw=(...t)=>t.reduce(L2);function Gw(t,e){return M2(t)?n=>ip(t,e,n):Wt.test(t)?Ww(t,e):Jw(t,e)}const Qw=(t,e)=>{const n=[...t],r=n.length,s=t.map((i,o)=>Gw(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}},F2=(t,e)=>{const n=Object.assign(Object.assign({},t),e),r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Gw(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}};function Y_(t){const e=Aa.parse(t),n=e.length;let r=0,s=0,i=0;for(let o=0;o<n;o++)r||typeof e[o]=="number"?r++:e[o].hue!==void 0?i++:s++;return{parsed:e,numNumbers:r,numRGB:s,numHSL:i}}const Jw=(t,e)=>{const n=Aa.createTransformer(e),r=Y_(t),s=Y_(e);return r.numHSL===s.numHSL&&r.numRGB===s.numRGB&&r.numNumbers>=s.numNumbers?zw(Qw(r.parsed,s.parsed),n):o=>`${o>0?e:t}`},U2=(t,e)=>n=>ip(t,e,n);function j2(t){if(typeof t=="number")return U2;if(typeof t=="string")return Wt.test(t)?Ww:Jw;if(Array.isArray(t))return Qw;if(typeof t=="object")return F2}function $2(t,e,n){const r=[],s=n||j2(t[0]),i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]:e;a=zw(l,a)}r.push(a)}return r}function B2([t,e],[n]){return r=>n(Fw(t,e,r))}function H2(t,e){const n=t.length,r=n-1;return s=>{let i=0,o=!1;if(s<=t[0]?o=!0:s>=t[r]&&(i=r-1,o=!0),!o){let l=1;for(;l<n&&!(t[l]>s||l===r);l++);i=l-1}const a=Fw(t[i],t[i+1],s);return e[i](a)}}function Yw(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;K_(i===e.length),K_(!r||!Array.isArray(r)||r.length===i-1),t[0]>t[i-1]&&(t=[].concat(t),e=[].concat(e),t.reverse(),e.reverse());const o=$2(e,r,s),a=i===2?B2(t,o):H2(t,o);return n?l=>a(hf(t[0],t[i-1],l)):a}const ru=t=>e=>1-t(1-e),cp=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,q2=t=>e=>Math.pow(e,t),Xw=t=>e=>e*e*((t+1)*e-t),K2=t=>{const e=Xw(t);return n=>(n*=2)<1?.5*e(n):.5*(2-Math.pow(2,-10*(n-1)))},Zw=1.525,W2=4/11,z2=8/11,G2=9/10,eb=t=>t,lp=q2(2),Q2=ru(lp),tb=cp(lp),nb=t=>1-Math.sin(Math.acos(t)),rb=ru(nb),J2=cp(rb),up=Xw(Zw),Y2=ru(up),X2=cp(up),Z2=K2(Zw),eU=4356/361,tU=35442/1805,nU=16061/1805,ll=t=>{if(t===1||t===0)return t;const e=t*t;return t<W2?7.5625*e:t<z2?9.075*e-9.9*t+3.4:t<G2?eU*e-tU*t+nU:10.8*t*t-20.52*t+10.72},rU=ru(ll),sU=t=>t<.5?.5*(1-ll(1-t*2)):.5*ll(t*2-1)+.5;function iU(t,e){return t.map(()=>e||tb).splice(0,t.length-1)}function oU(t){const e=t.length;return t.map((n,r)=>r!==0?r/(e-1):0)}function aU(t,e){return t.map(n=>n*e)}function wc({from:t=0,to:e=1,ease:n,offset:r,duration:s=300}){const i={done:!1,value:t},o=Array.isArray(e)?e:[t,e],a=aU(r&&r.length===o.length?r:oU(o),s);function l(){return Yw(a,o,{ease:Array.isArray(n)?n:iU(o,n)})}let u=l();return{next:h=>(i.value=u(h),i.done=h>=s,i),flipTarget:()=>{o.reverse(),u=l()}}}function cU({velocity:t=0,from:e=0,power:n=.8,timeConstant:r=350,restDelta:s=.5,modifyTarget:i}){const o={done:!1,value:e};let a=n*t;const l=e+a,u=i===void 0?l:i(l);return u!==l&&(a=u-e),{next:h=>{const f=-a*Math.exp(-h/r);return o.done=!(f>s||f<-s),o.value=o.done?u:u+f,o},flipTarget:()=>{}}}const X_={keyframes:wc,spring:sp,decay:cU};function lU(t){if(Array.isArray(t.to))return wc;if(X_[t.type])return X_[t.type];const e=new Set(Object.keys(t));return e.has("ease")||e.has("duration")&&!e.has("dampingRatio")?wc:e.has("dampingRatio")||e.has("stiffness")||e.has("mass")||e.has("damping")||e.has("restSpeed")||e.has("restDelta")?sp:wc}function sb(t,e,n=0){return t-e-n}function uU(t,e,n=0,r=!0){return r?sb(e+-t,e,n):e-(t-e)+n}function hU(t,e,n,r){return r?t>=e+n:t<=-n}const fU=t=>{const e=({delta:n})=>t(n);return{start:()=>uf.update(e,!0),stop:()=>f2.update(e)}};function ib(t){var e,n,{from:r,autoplay:s=!0,driver:i=fU,elapsed:o=0,repeat:a=0,repeatType:l="loop",repeatDelay:u=0,onPlay:h,onStop:f,onComplete:p,onRepeat:g,onUpdate:E}=t,R=Lw(t,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:S}=R,x,O=0,_=R.duration,P,D=!1,L=!0,b;const T=lU(R);!((n=(e=T).needsInterpolation)===null||n===void 0)&&n.call(e,r,S)&&(b=Yw([0,100],[r,S],{clamp:!1}),r=0,S=100);const y=T(Object.assign(Object.assign({},R),{from:r,to:S}));function w(){O++,l==="reverse"?(L=O%2===0,o=uU(o,_,u,L)):(o=sb(o,_,u),l==="mirror"&&y.flipTarget()),D=!1,g&&g()}function k(){x.stop(),p&&p()}function C(ge){if(L||(ge=-ge),o+=ge,!D){const Se=y.next(Math.max(0,o));P=Se.value,b&&(P=b(P)),D=L?Se.done:o<=0}E==null||E(P),D&&(O===0&&(_??(_=o)),O<a?hU(o,_,u,L)&&w():k())}function I(){h==null||h(),x=i(C),x.start()}return s&&I(),{stop:()=>{f==null||f(),x.stop()}}}function ob(t,e){return e?t*(1e3/e):0}function dU({from:t=0,velocity:e=0,min:n,max:r,power:s=.8,timeConstant:i=750,bounceStiffness:o=500,bounceDamping:a=10,restDelta:l=1,modifyTarget:u,driver:h,onUpdate:f,onComplete:p,onStop:g}){let E;function R(_){return n!==void 0&&_<n||r!==void 0&&_>r}function S(_){return n===void 0?r:r===void 0||Math.abs(n-_)<Math.abs(r-_)?n:r}function x(_){E==null||E.stop(),E=ib(Object.assign(Object.assign({},_),{driver:h,onUpdate:P=>{var D;f==null||f(P),(D=_.onUpdate)===null||D===void 0||D.call(_,P)},onComplete:p,onStop:g}))}function O(_){x(Object.assign({type:"spring",stiffness:o,damping:a,restDelta:l},_))}if(R(t))O({from:t,velocity:e,to:S(t)});else{let _=s*e+t;typeof u<"u"&&(_=u(_));const P=S(_),D=P===n?-1:1;let L,b;const T=y=>{L=b,b=y,e=ob(y-L,Mw().delta),(D===1&&y>P||D===-1&&y<P)&&O({from:y,to:P,velocity:e})};x({type:"decay",from:t,velocity:e,timeConstant:i,power:s,restDelta:l,modifyTarget:u,onUpdate:R(_)?T:void 0})}return{stop:()=>E==null?void 0:E.stop()}}const ab=(t,e)=>1-3*e+3*t,cb=(t,e)=>3*e-6*t,lb=t=>3*t,ul=(t,e,n)=>((ab(e,n)*t+cb(e,n))*t+lb(e))*t,ub=(t,e,n)=>3*ab(e,n)*t*t+2*cb(e,n)*t+lb(e),pU=1e-7,mU=10;function gU(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=ul(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>pU&&++a<mU);return o}const _U=8,yU=.001;function vU(t,e,n,r){for(let s=0;s<_U;++s){const i=ub(e,n,r);if(i===0)return e;const o=ul(e,n,r)-t;e-=o/i}return e}const bc=11,oc=1/(bc-1);function EU(t,e,n,r){if(t===e&&n===r)return eb;const s=new Float32Array(bc);for(let o=0;o<bc;++o)s[o]=ul(o*oc,t,n);function i(o){let a=0,l=1;const u=bc-1;for(;l!==u&&s[l]<=o;++l)a+=oc;--l;const h=(o-s[l])/(s[l+1]-s[l]),f=a+h*oc,p=ub(f,t,n);return p>=yU?vU(o,f,t,n):p===0?f:gU(o,a,a+oc,t,n)}return o=>o===0||o===1?o:ul(i(o),e,r)}const th={};var TU=Object.defineProperty,wU=(t,e,n)=>e in t?TU(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bU=(t,e,n)=>(wU(t,e+"",n),n);class IU{constructor(){bU(this,"subscriptions",new Set)}add(e){return this.subscriptions.add(e),()=>this.subscriptions.delete(e)}notify(e,n,r){if(this.subscriptions.size)for(const s of this.subscriptions)s(e,n,r)}clear(){this.subscriptions.clear()}}var AU=Object.defineProperty,SU=(t,e,n)=>e in t?AU(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,On=(t,e,n)=>(SU(t,typeof e!="symbol"?e+"":e,n),n);function Z_(t){return!Number.isNaN(Number.parseFloat(t))}class RU{constructor(e){On(this,"current"),On(this,"prev"),On(this,"timeDelta",0),On(this,"lastUpdated",0),On(this,"updateSubscribers",new IU),On(this,"stopAnimation"),On(this,"canTrackVelocity",!1),On(this,"updateAndNotify",n=>{this.prev=this.current,this.current=n;const{delta:r,timestamp:s}=Mw();this.lastUpdated!==s&&(this.timeDelta=r,this.lastUpdated=s),uf.postRender(this.scheduleVelocityCheck),this.updateSubscribers.notify(this.current)}),On(this,"scheduleVelocityCheck",()=>uf.postRender(this.velocityCheck)),On(this,"velocityCheck",({timestamp:n})=>{this.canTrackVelocity||(this.canTrackVelocity=Z_(this.current)),n!==this.lastUpdated&&(this.prev=this.current)}),this.prev=this.current=e,this.canTrackVelocity=Z_(this.current)}onChange(e){return this.updateSubscribers.add(e)}clearListeners(){this.updateSubscribers.clear()}set(e){this.updateAndNotify(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?ob(Number.parseFloat(this.current)-Number.parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{const{stop:r}=e(n);this.stopAnimation=r}).then(()=>this.clearAnimation())}stop(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()}isAnimating(){return!!this.stopAnimation}clearAnimation(){this.stopAnimation=null}destroy(){this.updateSubscribers.clear(),this.stop()}}function CU(t){return new RU(t)}const{isArray:PU}=Array;function OU(){const t=ye({}),e=r=>{const s=i=>{t.value[i]&&(t.value[i].stop(),t.value[i].destroy(),delete t.value[i])};r?PU(r)?r.forEach(s):s(r):Object.keys(t.value).forEach(s)},n=(r,s,i)=>{if(t.value[r])return t.value[r];const o=CU(s);return o.onChange(a=>i[r]=a),t.value[r]=o,o};return i2(e),{motionValues:t,get:n,stop:e}}function kU(t){return Array.isArray(t)}function is(){return{type:"spring",stiffness:500,damping:25,restDelta:.5,restSpeed:10}}function nh(t){return{type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restDelta:.01,restSpeed:10}}function NU(t){return{type:"spring",stiffness:550,damping:t===0?100:30,restDelta:.01,restSpeed:10}}function rh(){return{type:"keyframes",ease:"linear",duration:300}}function xU(t){return{type:"keyframes",duration:800,values:t}}const ey={default:NU,x:is,y:is,z:is,rotate:is,rotateX:is,rotateY:is,rotateZ:is,scaleX:nh,scaleY:nh,scale:nh,backgroundColor:rh,color:rh,opacity:rh};function hb(t,e){let n;return kU(e)?n=xU:n=ey[t]||ey.default,{to:e,...n(e)}}const ty={...Ia,transform:Math.round},fb={color:Wt,backgroundColor:Wt,outlineColor:Wt,fill:Wt,stroke:Wt,borderColor:Wt,borderTopColor:Wt,borderRightColor:Wt,borderBottomColor:Wt,borderLeftColor:Wt,borderWidth:Ie,borderTopWidth:Ie,borderRightWidth:Ie,borderBottomWidth:Ie,borderLeftWidth:Ie,borderRadius:Ie,radius:Ie,borderTopLeftRadius:Ie,borderTopRightRadius:Ie,borderBottomRightRadius:Ie,borderBottomLeftRadius:Ie,width:Ie,maxWidth:Ie,height:Ie,maxHeight:Ie,size:Ie,top:Ie,right:Ie,bottom:Ie,left:Ie,padding:Ie,paddingTop:Ie,paddingRight:Ie,paddingBottom:Ie,paddingLeft:Ie,margin:Ie,marginTop:Ie,marginRight:Ie,marginBottom:Ie,marginLeft:Ie,rotate:ss,rotateX:ss,rotateY:ss,rotateZ:ss,scale:ic,scaleX:ic,scaleY:ic,scaleZ:ic,skew:ss,skewX:ss,skewY:ss,distance:Ie,translateX:Ie,translateY:Ie,translateZ:Ie,x:Ie,y:Ie,z:Ie,perspective:Ie,transformPerspective:Ie,opacity:Ro,originX:G_,originY:G_,originZ:Ie,zIndex:ty,filter:mf,WebkitFilter:mf,fillOpacity:Ro,strokeOpacity:Ro,numOctaves:ty},hp=t=>fb[t];function gf(t,e){return e&&typeof t=="number"&&e.transform?e.transform(t):t}function DU(t,e){let n=hp(t);return n!==mf&&(n=Aa),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const VU={linear:eb,easeIn:lp,easeInOut:tb,easeOut:Q2,circIn:nb,circInOut:J2,circOut:rb,backIn:up,backInOut:X2,backOut:Y2,anticipate:Z2,bounceIn:rU,bounceInOut:sU,bounceOut:ll};function ny(t){if(Array.isArray(t)){const[e,n,r,s]=t;return EU(e,n,r,s)}else if(typeof t=="string")return VU[t];return t}function MU(t){return Array.isArray(t)&&typeof t[0]!="number"}function ry(t,e){return t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&Aa.test(e)&&!e.startsWith("url("))}function LU(t){return Array.isArray(t.to)&&t.to[0]===null&&(t.to=[...t.to],t.to[0]=t.from),t}function FU({ease:t,times:e,delay:n,...r}){const s={...r};return e&&(s.offset=e),t&&(s.ease=MU(t)?t.map(ny):ny(t)),n&&(s.elapsed=-n),s}function UU(t,e,n){return Array.isArray(e.to)&&(t.duration||(t.duration=800)),LU(e),jU(t)||(t={...t,...hb(n,e.to)}),{...e,...FU(t)}}function jU({delay:t,repeat:e,repeatType:n,repeatDelay:r,from:s,...i}){return!!Object.keys(i).length}function $U(t,e){return t[e]||t.default||t}function BU(t,e,n,r,s){const i=$U(r,t);let o=i.from===null||i.from===void 0?e.get():i.from;const a=ry(t,n);o==="none"&&a&&typeof n=="string"&&(o=DU(t,n));const l=ry(t,o);function u(f){const p={from:o,to:n,velocity:r.velocity?r.velocity:e.getVelocity(),onUpdate:g=>e.set(g)};return i.type==="inertia"||i.type==="decay"?dU({...p,...i}):ib({...UU(i,p,t),onUpdate:g=>{p.onUpdate(g),i.onUpdate&&i.onUpdate(g)},onComplete:()=>{s&&s(),f&&f()}})}function h(f){return e.set(n),s&&s(),f&&f(),{stop:()=>{}}}return!l||!a||i.type===!1?h:u}function HU(){const{motionValues:t,stop:e,get:n}=OU();return{motionValues:t,stop:e,push:(s,i,o,a={},l)=>{const u=o[s],h=n(s,u,o);if(a&&a.immediate){h.set(i);return}const f=BU(s,h,i,a,l);h.start(f)}}}function qU(t,e={},{motionValues:n,push:r,stop:s}=HU()){const i=xt(e),o=ye(!1);st(n,f=>{o.value=Object.values(f).filter(p=>p.isAnimating()).length>0},{immediate:!0,deep:!0});const a=f=>{if(!i||!i[f])throw new Error(`The variant ${f} does not exist.`);return i[f]},l=f=>{typeof f=="string"&&(f=a(f));const p=Object.entries(f).map(([E,R])=>{if(E!=="transition")return new Promise(S=>r(E,R,t,f.transition||hb(E,f[E]),S))}).filter(Boolean);async function g(){var E,R;await Promise.all(p),(R=(E=f.transition)==null?void 0:E.onComplete)==null||R.call(E)}return Promise.all([g()])};return{isAnimating:o,apply:l,set:f=>{const p=cl(f)?f:a(f);Object.entries(p).forEach(([g,E])=>{g!=="transition"&&r(g,E,t,{immediate:!0})})},leave:async f=>{let p;if(i&&(i.leave&&(p=i.leave),!i.leave&&i.initial&&(p=i.initial)),!p){f();return}await l(p),f()},stop:s}}const fp=typeof window<"u",KU=()=>fp&&(window.onpointerdown===null||void 0),WU=()=>fp&&(window.ontouchstart===null||void 0),zU=()=>fp&&(window.onmousedown===null||void 0);function GU({target:t,state:e,variants:n,apply:r}){const s=xt(n),i=ye(!1),o=ye(!1),a=ye(!1),l=Ae(()=>{let h=[...Object.keys(e.value||{})];return s&&(s.hovered&&(h=[...h,...Object.keys(s.hovered)]),s.tapped&&(h=[...h,...Object.keys(s.tapped)]),s.focused&&(h=[...h,...Object.keys(s.focused)])),h}),u=Ae(()=>{const h={};Object.assign(h,e.value),i.value&&s.hovered&&Object.assign(h,s.hovered),o.value&&s.tapped&&Object.assign(h,s.tapped),a.value&&s.focused&&Object.assign(h,s.focused);for(const f in h)l.value.includes(f)||delete h[f];return h});s.hovered&&(Pn(t,"mouseenter",()=>i.value=!0),Pn(t,"mouseleave",()=>{i.value=!1,o.value=!1})),s.tapped&&(zU()&&(Pn(t,"mousedown",()=>o.value=!0),Pn(t,"mouseup",()=>o.value=!1)),KU()&&(Pn(t,"pointerdown",()=>o.value=!0),Pn(t,"pointerup",()=>o.value=!1)),WU()&&(Pn(t,"touchstart",()=>o.value=!0),Pn(t,"touchend",()=>o.value=!1))),s.focused&&(Pn(t,"focus",()=>a.value=!0),Pn(t,"blur",()=>a.value=!1)),st([i,o,a],()=>{r(u.value)})}function QU({set:t,target:e,variants:n,variant:r}){const s=xt(n);st(()=>e,()=>{s&&(s.initial&&(t("initial"),r.value="initial"),s.enter&&(r.value="enter"))},{immediate:!0,flush:"pre"})}function JU({state:t,apply:e}){st(t,n=>{n&&e(n)},{immediate:!0})}function db({target:t,variants:e,variant:n}){const r=xt(e);r&&(r.visible||r.visibleOnce)&&c2(t,([{isIntersecting:s}])=>{r.visible?s?n.value="visible":n.value="initial":r.visibleOnce&&(s&&n.value!=="visibleOnce"?n.value="visibleOnce":n.value||(n.value="initial"))})}function YU(t,e={syncVariants:!0,lifeCycleHooks:!0,visibilityHooks:!0,eventListeners:!0}){e.lifeCycleHooks&&QU(t),e.syncVariants&&JU(t),e.visibilityHooks&&db(t),e.eventListeners&&GU(t)}function pb(t={}){const e=qn({...t}),n=ye({});return st(e,()=>{const r={};for(const[s,i]of Object.entries(e)){const o=hp(s),a=gf(i,o);r[s]=a}n.value=r},{immediate:!0,deep:!0}),{state:e,style:n}}function dp(t,e){st(()=>Ao(t),n=>{n&&e(n)},{immediate:!0})}const XU={x:"translateX",y:"translateY",z:"translateZ"};function mb(t={},e=!0){const n=qn({...t}),r=ye("");return st(n,s=>{let i="",o=!1;if(e&&(s.x||s.y||s.z)){const a=[s.x||0,s.y||0,s.z||0].map(l=>gf(l,Ie)).join(",");i+=`translate3d(${a}) `,o=!0}for(const[a,l]of Object.entries(s)){if(e&&(a==="x"||a==="y"||a==="z"))continue;const u=hp(a),h=gf(l,u);i+=`${XU[a]||a}(${h}) `}e&&!o&&(i+="translateZ(0px) "),r.value=i.trim()},{immediate:!0,deep:!0}),{state:n,transform:r}}const ZU=["","X","Y","Z"],e4=["perspective","translate","scale","rotate","skew"],gb=["transformPerspective","x","y","z"];e4.forEach(t=>{ZU.forEach(e=>{const n=t+e;gb.push(n)})});const t4=new Set(gb);function pp(t){return t4.has(t)}const n4=new Set(["originX","originY","originZ"]);function _b(t){return n4.has(t)}function r4(t){const e={},n={};return Object.entries(t).forEach(([r,s])=>{pp(r)||_b(r)?e[r]=s:n[r]=s}),{transform:e,style:n}}function su(t){const{transform:e,style:n}=r4(t),{transform:r}=mb(e),{style:s}=pb(n);return r.value&&(s.value.transform=r.value),s.value}function s4(t,e){let n,r;const{state:s,style:i}=pb();return dp(t,o=>{r=o;for(const a of Object.keys(fb))o.style[a]===null||o.style[a]===""||pp(a)||_b(a)||(s[a]=o.style[a]);n&&Object.entries(n).forEach(([a,l])=>o.style[a]=l),e&&e(s)}),st(i,o=>{if(!r){n=o;return}for(const a in o)r.style[a]=o[a]},{immediate:!0}),{style:s}}function i4(t){const e=t.trim().split(/\) |\)/);if(e.length===1)return{};const n=r=>r.endsWith("px")||r.endsWith("deg")?Number.parseFloat(r):Number.isNaN(Number(r))?Number(r):r;return e.reduce((r,s)=>{if(!s)return r;const[i,o]=s.split("("),l=o.split(",").map(h=>n(h.endsWith(")")?h.replace(")",""):h.trim())),u=l.length===1?l[0]:l;return{...r,[i]:u}},{})}function o4(t,e){Object.entries(i4(e)).forEach(([n,r])=>{const s=["x","y","z"];if(n==="translate3d"){if(r===0){s.forEach(i=>t[i]=0);return}r.forEach((i,o)=>t[s[o]]=i);return}if(r=Number.parseFloat(`${r}`),n==="translateX"){t.x=r;return}if(n==="translateY"){t.y=r;return}if(n==="translateZ"){t.z=r;return}t[n]=r})}function a4(t,e){let n,r;const{state:s,transform:i}=mb();return dp(t,o=>{r=o,o.style.transform&&o4(s,o.style.transform),n&&(o.style.transform=n),e&&e(s)}),st(i,o=>{if(!r){n=o;return}r.style.transform=o},{immediate:!0}),{transform:s}}function c4(t){return Object.entries(t)}function l4(t,e){const n=qn({}),r=o=>Object.entries(o).forEach(([a,l])=>n[a]=l),{style:s}=s4(t,r),{transform:i}=a4(t,r);return st(n,o=>{c4(o).forEach(([a,l])=>{const u=pp(a)?i:s;u[a]&&u[a]===l||(u[a]=l)})},{immediate:!0,deep:!0}),dp(t,()=>e),{motionProperties:n,style:s,transform:i}}function u4(t={}){const e=xt(t),n=ye();return{state:Ae(()=>{if(n.value)return e[n.value]}),variant:n}}function yb(t,e={},n){const{motionProperties:r}=l4(t),{variant:s,state:i}=u4(e),o=qU(r,e),a={target:t,variant:s,variants:e,state:i,motionProperties:r,...o};return YU(a,n),a}const vb=["delay","duration"],h4=["initial","enter","leave","visible","visible-once","visibleOnce","hovered","tapped","focused",...vb];function f4(t){return vb.includes(t)}function d4(t,e){const n=t.props?t.props:t.data&&t.data.attrs?t.data.attrs:{};if(n){n.variants&&cl(n.variants)&&(e.value={...e.value,...n.variants});for(let r of h4)if(!(!n||!n[r])){if(f4(r)&&typeof n[r]=="number"){for(const s of["enter","visible","visibleOnce"]){const i=e.value[s];i!=null&&(i.transition??(i.transition={}),i.transition[r]=n[r])}continue}if(cl(n[r])){const s=n[r];r==="visible-once"&&(r="visibleOnce"),e.value[r]=s}}}}function sh(t,e=!1){return{created:(s,i,o)=>{const a=i.value&&typeof i.value=="string"?i.value:o.key;a&&th[a]&&th[a].stop();const l=e?structuredClone(Ce(t)||{}):t||{},u=ye(l);typeof i.value=="object"&&(u.value=i.value),d4(o,u);const f=yb(s,u,{eventListeners:!0,lifeCycleHooks:!0,syncVariants:!0,visibilityHooks:!1});s.motionInstance=f,a&&(th[a]=f)},mounted:(s,i,o)=>{s.motionInstance&&db(s.motionInstance)},getSSRProps(s,i){let{initial:o}=s.value||i&&(i==null?void 0:i.props)||{};o=xt(o);const a=Ow({},(t==null?void 0:t.initial)||{},o||{});return!a||Object.keys(a).length===0?void 0:{style:su(a)}}}}const p4={initial:{opacity:0},enter:{opacity:1}},m4={initial:{opacity:0},visible:{opacity:1}},g4={initial:{opacity:0},visibleOnce:{opacity:1}},_4={initial:{scale:0,opacity:0},enter:{scale:1,opacity:1}},y4={initial:{scale:0,opacity:0},visible:{scale:1,opacity:1}},v4={initial:{scale:0,opacity:0},visibleOnce:{scale:1,opacity:1}},E4={initial:{x:-100,rotate:90,opacity:0},enter:{x:0,rotate:0,opacity:1}},T4={initial:{x:-100,rotate:90,opacity:0},visible:{x:0,rotate:0,opacity:1}},w4={initial:{x:-100,rotate:90,opacity:0},visibleOnce:{x:0,rotate:0,opacity:1}},b4={initial:{x:100,rotate:-90,opacity:0},enter:{x:0,rotate:0,opacity:1}},I4={initial:{x:100,rotate:-90,opacity:0},visible:{x:0,rotate:0,opacity:1}},A4={initial:{x:100,rotate:-90,opacity:0},visibleOnce:{x:0,rotate:0,opacity:1}},S4={initial:{y:-100,rotate:-90,opacity:0},enter:{y:0,rotate:0,opacity:1}},R4={initial:{y:-100,rotate:-90,opacity:0},visible:{y:0,rotate:0,opacity:1}},C4={initial:{y:-100,rotate:-90,opacity:0},visibleOnce:{y:0,rotate:0,opacity:1}},P4={initial:{y:100,rotate:90,opacity:0},enter:{y:0,rotate:0,opacity:1}},O4={initial:{y:100,rotate:90,opacity:0},visible:{y:0,rotate:0,opacity:1}},k4={initial:{y:100,rotate:90,opacity:0},visibleOnce:{y:0,rotate:0,opacity:1}},N4={initial:{x:-100,opacity:0},enter:{x:0,opacity:1}},x4={initial:{x:-100,opacity:0},visible:{x:0,opacity:1}},D4={initial:{x:-100,opacity:0},visibleOnce:{x:0,opacity:1}},V4={initial:{x:100,opacity:0},enter:{x:0,opacity:1}},M4={initial:{x:100,opacity:0},visible:{x:0,opacity:1}},L4={initial:{x:100,opacity:0},visibleOnce:{x:0,opacity:1}},F4={initial:{y:-100,opacity:0},enter:{y:0,opacity:1}},U4={initial:{y:-100,opacity:0},visible:{y:0,opacity:1}},j4={initial:{y:-100,opacity:0},visibleOnce:{y:0,opacity:1}},$4={initial:{y:100,opacity:0},enter:{y:0,opacity:1}},B4={initial:{y:100,opacity:0},visible:{y:0,opacity:1}},H4={initial:{y:100,opacity:0},visibleOnce:{y:0,opacity:1}},hl={__proto__:null,fade:p4,fadeVisible:m4,fadeVisibleOnce:g4,pop:_4,popVisible:y4,popVisibleOnce:v4,rollBottom:P4,rollLeft:E4,rollRight:b4,rollTop:S4,rollVisibleBottom:O4,rollVisibleLeft:T4,rollVisibleOnceBottom:k4,rollVisibleOnceLeft:w4,rollVisibleOnceRight:A4,rollVisibleOnceTop:C4,rollVisibleRight:I4,rollVisibleTop:R4,slideBottom:$4,slideLeft:N4,slideRight:V4,slideTop:F4,slideVisibleBottom:B4,slideVisibleLeft:x4,slideVisibleOnceBottom:H4,slideVisibleOnceLeft:D4,slideVisibleOnceRight:L4,slideVisibleOnceTop:j4,slideVisibleRight:M4,slideVisibleTop:U4};function q4(t){const e="/_,:;",n="aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------",r=new RegExp(e.split("").join("|"),"g");return t.toString().replace(/[A-Z]/g,s=>`-${s}`).toLowerCase().replace(/\s+/g,"-").replace(r,s=>n.charAt(e.indexOf(s))).replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/-{2,}/g,"-").replace(/^-+/,"").replace(/-+$/,"")}const Eb=Symbol(import.meta.dev?"motionCustomPresets":""),Tb={preset:{type:String,required:!1},instance:{type:Object,required:!1},variants:{type:Object,required:!1},initial:{type:Object,required:!1},enter:{type:Object,required:!1},leave:{type:Object,required:!1},visible:{type:Object,required:!1},visibleOnce:{type:Object,required:!1},hovered:{type:Object,required:!1},tapped:{type:Object,required:!1},focused:{type:Object,required:!1},delay:{type:[Number,String],required:!1},duration:{type:[Number,String],required:!1}};function K4(t){return Object.prototype.toString.call(t)==="[object Object]"}function _f(t){if(Array.isArray(t))return t.map(_f);if(K4(t)){const e={};for(const n in t)e[n]=_f(t[n]);return e}return t}function wb(t){const e=qn({}),n=Qt(Eb),r=Ae(()=>t.preset==null?{}:n!=null&&t.preset in n?structuredClone(Ce(n)[t.preset]):t.preset in hl?structuredClone(hl[t.preset]):{}),s=Ae(()=>({initial:t.initial,enter:t.enter,leave:t.leave,visible:t.visible,visibleOnce:t.visibleOnce,hovered:t.hovered,tapped:t.tapped,focused:t.focused}));function i(l,u){for(const h of["delay","duration"]){if(u[h]==null)continue;const f=Number.parseInt(u[h]);for(const p of["enter","visible","visibleOnce"]){const g=l[p];g!=null&&(g.transition??(g.transition={}),g.transition[h]=f)}}return l}const o=Ae(()=>{const l=Ow({},s.value,r.value,t.variants||{});return i({...l},t)});function a(l,u,h){var f;l.props??(l.props={}),(f=l.props).style??(f.style={}),l.props.style={...l.props.style,...h};const p=i(_f(o.value),l.props);return l.props.onVnodeMounted=({el:g})=>{e[u]=yb(g,p)},l.props.onVnodeUpdated=({el:g})=>{const E=su(e[u].state);for(const[R,S]of Object.entries(E))g.style[R]=S},l}return{motionConfig:o,setNodeInstance:a}}const W4=Rs({name:"Motion",props:{...Tb,is:{type:[String,Object],default:"div"}},setup(t){const e=Bf(),{motionConfig:n,setNodeInstance:r}=wb(t);return()=>{const s=su(n.value.initial||{}),i=Ri(t.is,void 0,e);return r(i,0,s),i}}}),z4=Rs({name:"MotionGroup",props:{...Tb,is:{type:[String,Object],required:!1}},setup(t){const e=Bf(),{motionConfig:n,setNodeInstance:r}=wb(t);return()=>{var o;const s=su(n.value.initial||{}),i=((o=e.default)==null?void 0:o.call(e))||[];for(let a=0;a<i.length;a++){const l=i[a];l.type===Ue&&Array.isArray(l.children)?l.children.forEach(function u(h,f){if(h!=null){if(Array.isArray(h)){u(h,f);return}typeof h=="object"&&r(h,f,s)}}):r(l,a,s)}return t.is?Ri(t.is,void 0,i):i}}}),G4={install(t,e){if(t.directive("motion",sh()),!e||e&&!e.excludePresets)for(const n in hl){const r=hl[n];t.directive(`motion-${q4(n)}`,sh(r,!0))}if(e&&e.directives)for(const n in e.directives){const r=e.directives[n];!r.initial&&__DEV__&&console.warn(`Your directive v-motion-${n} is missing initial variant!`),t.directive(`motion-${n}`,sh(r,!0))}t.provide(Eb,e==null?void 0:e.directives),t.component("Motion",W4),t.component("MotionGroup",z4)}};jc(yV).use(G4).use(XF).use(ZF).mount("#app");
