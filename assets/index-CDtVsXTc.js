(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.5
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function sl(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const ke={},Qs=[],wn=()=>{},xT=()=>!1,zo=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),lf=t=>t.startsWith("onUpdate:"),ze=Object.assign,uf=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},DT=Object.prototype.hasOwnProperty,Le=(t,e)=>DT.call(t,e),ie=Array.isArray,Js=t=>bi(t)==="[object Map]",bs=t=>bi(t)==="[object Set]",Yp=t=>bi(t)==="[object Date]",VT=t=>bi(t)==="[object RegExp]",de=t=>typeof t=="function",We=t=>typeof t=="string",Ln=t=>typeof t=="symbol",$e=t=>t!==null&&typeof t=="object",hf=t=>($e(t)||de(t))&&de(t.then)&&de(t.catch),W_=Object.prototype.toString,bi=t=>W_.call(t),MT=t=>bi(t).slice(8,-1),il=t=>bi(t)==="[object Object]",ff=t=>We(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ys=sl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ol=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},LT=/-(\w)/g,Nt=ol(t=>t.replace(LT,(e,n)=>n?n.toUpperCase():"")),FT=/\B([A-Z])/g,Gt=ol(t=>t.replace(FT,"-$1").toLowerCase()),Wo=ol(t=>t.charAt(0).toUpperCase()+t.slice(1)),io=ol(t=>t?`on${Wo(t)}`:""),jt=(t,e)=>!Object.is(t,e),Xs=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},G_=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},gc=t=>{const e=parseFloat(t);return isNaN(e)?t:e},_c=t=>{const e=We(t)?Number(t):NaN;return isNaN(e)?t:e};let Xp;const Q_=()=>Xp||(Xp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),UT="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",jT=sl(UT);function Go(t){if(ie(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=We(r)?qT(r):Go(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(We(t)||$e(t))return t}const $T=/;(?![^(]*\))/g,BT=/:([^]+)/,HT=/\/\*[^]*?\*\//g;function qT(t){const e={};return t.replace(HT,"").split($T).forEach(n=>{if(n){const r=n.split(BT);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Fn(t){let e="";if(We(t))e=t;else if(ie(t))for(let n=0;n<t.length;n++){const r=Fn(t[n]);r&&(e+=r+" ")}else if($e(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function KT(t){if(!t)return null;let{class:e,style:n}=t;return e&&!We(e)&&(t.class=Fn(e)),n&&(t.style=Go(n)),t}const zT="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",WT=sl(zT);function J_(t){return!!t||t===""}function GT(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=jr(t[r],e[r]);return n}function jr(t,e){if(t===e)return!0;let n=Yp(t),r=Yp(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Ln(t),r=Ln(e),n||r)return t===e;if(n=ie(t),r=ie(e),n||r)return n&&r?GT(t,e):!1;if(n=$e(t),r=$e(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!jr(t[o],e[o]))return!1}}return String(t)===String(e)}function al(t,e){return t.findIndex(n=>jr(n,e))}const Y_=t=>!!(t&&t.__v_isRef===!0),Qe=t=>We(t)?t:t==null?"":ie(t)||$e(t)&&(t.toString===W_||!de(t.toString))?Y_(t)?Qe(t.value):JSON.stringify(t,X_,2):String(t),X_=(t,e)=>Y_(e)?X_(t,e.value):Js(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[uu(r,i)+" =>"]=s,n),{})}:bs(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>uu(n))}:Ln(e)?uu(e):$e(e)&&!ie(e)&&!il(e)?String(e):e,uu=(t,e="")=>{var n;return Ln(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.5
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ut;class df{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ut,!e&&Ut&&(this.index=(Ut.scopes||(Ut.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Ut;try{return Ut=this,e()}finally{Ut=n}}}on(){Ut=this}off(){Ut=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function Z_(t){return new df(t)}function pf(){return Ut}function ey(t,e=!1){Ut&&Ut.cleanups.push(t)}let He;const hu=new WeakSet;class Io{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.nextEffect=void 0,this.cleanup=void 0,this.scheduler=void 0,Ut&&Ut.active&&Ut.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,hu.has(this)&&(hu.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||(this.flags|=8,this.nextEffect=oo,oo=this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Zp(this),ny(this);const e=He,n=bn;He=this,bn=!0;try{return this.fn()}finally{ry(this),He=e,bn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)_f(e);this.deps=this.depsTail=void 0,Zp(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?hu.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ju(this)&&this.run()}get dirty(){return Ju(this)}}let ty=0,oo;function mf(){ty++}function gf(){if(--ty>0)return;let t;for(;oo;){let e=oo;for(oo=void 0;e;){const n=e.nextEffect;if(e.nextEffect=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function ny(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function ry(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),_f(r),QT(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function Ju(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&sy(e.dep.computed)||e.dep.version!==e.version)return!0;return!!t._dirty}function sy(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Ao))return;t.globalVersion=Ao;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&!Ju(t)){t.flags&=-3;return}const n=He,r=bn;He=t,bn=!0;try{ny(t);const s=t.fn(t._value);(e.version===0||jt(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{He=n,bn=r,ry(t),t.flags&=-3}}function _f(t){const{dep:e,prevSub:n,nextSub:r}=t;if(n&&(n.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=n,t.nextSub=void 0),e.subs===t&&(e.subs=n),!e.subs&&e.computed){e.computed.flags&=-5;for(let s=e.computed.deps;s;s=s.nextDep)_f(s)}}function QT(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}function JT(t,e){t.effect instanceof Io&&(t=t.effect.fn);const n=new Io(t);e&&ze(n,e);try{n.run()}catch(s){throw n.stop(),s}const r=n.run.bind(n);return r.effect=n,r}function YT(t){t.effect.stop()}let bn=!0;const iy=[];function Wr(){iy.push(bn),bn=!1}function Gr(){const t=iy.pop();bn=t===void 0?!0:t}function Zp(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=He;He=void 0;try{e()}finally{He=n}}}let Ao=0;class XT{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class cl{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0}track(e){if(!He||!bn||He===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==He)n=this.activeLink=new XT(He,this),He.deps?(n.prevDep=He.depsTail,He.depsTail.nextDep=n,He.depsTail=n):He.deps=He.depsTail=n,He.flags&4&&oy(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=He.depsTail,n.nextDep=void 0,He.depsTail.nextDep=n,He.depsTail=n,He.deps===n&&(He.deps=r)}return n}trigger(e){this.version++,Ao++,this.notify(e)}notify(e){mf();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()}finally{gf()}}}function oy(t){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)oy(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}const yc=new WeakMap,as=Symbol(""),Yu=Symbol(""),So=Symbol("");function Dt(t,e,n){if(bn&&He){let r=yc.get(t);r||yc.set(t,r=new Map);let s=r.get(n);s||r.set(n,s=new cl),s.track()}}function er(t,e,n,r,s,i){const o=yc.get(t);if(!o){Ao++;return}const a=l=>{l&&l.trigger()};if(mf(),e==="clear")o.forEach(a);else{const l=ie(t),u=l&&ff(n);if(l&&n==="length"){const h=Number(r);o.forEach((f,p)=>{(p==="length"||p===So||!Ln(p)&&p>=h)&&a(f)})}else switch(n!==void 0&&a(o.get(n)),u&&a(o.get(So)),e){case"add":l?u&&a(o.get("length")):(a(o.get(as)),Js(t)&&a(o.get(Yu)));break;case"delete":l||(a(o.get(as)),Js(t)&&a(o.get(Yu)));break;case"set":Js(t)&&a(o.get(as));break}}gf()}function ZT(t,e){var n;return(n=yc.get(t))==null?void 0:n.get(e)}function Ms(t){const e=Ce(t);return e===t?e:(Dt(e,"iterate",So),rn(t)?e:e.map(Pt))}function ll(t){return Dt(t=Ce(t),"iterate",So),t}const eI={__proto__:null,[Symbol.iterator](){return fu(this,Symbol.iterator,Pt)},concat(...t){return Ms(this).concat(...t.map(e=>ie(e)?Ms(e):e))},entries(){return fu(this,"entries",t=>(t[1]=Pt(t[1]),t))},every(t,e){return Kn(this,"every",t,e,void 0,arguments)},filter(t,e){return Kn(this,"filter",t,e,n=>n.map(Pt),arguments)},find(t,e){return Kn(this,"find",t,e,Pt,arguments)},findIndex(t,e){return Kn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Kn(this,"findLast",t,e,Pt,arguments)},findLastIndex(t,e){return Kn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Kn(this,"forEach",t,e,void 0,arguments)},includes(...t){return du(this,"includes",t)},indexOf(...t){return du(this,"indexOf",t)},join(t){return Ms(this).join(t)},lastIndexOf(...t){return du(this,"lastIndexOf",t)},map(t,e){return Kn(this,"map",t,e,void 0,arguments)},pop(){return Gi(this,"pop")},push(...t){return Gi(this,"push",t)},reduce(t,...e){return em(this,"reduce",t,e)},reduceRight(t,...e){return em(this,"reduceRight",t,e)},shift(){return Gi(this,"shift")},some(t,e){return Kn(this,"some",t,e,void 0,arguments)},splice(...t){return Gi(this,"splice",t)},toReversed(){return Ms(this).toReversed()},toSorted(t){return Ms(this).toSorted(t)},toSpliced(...t){return Ms(this).toSpliced(...t)},unshift(...t){return Gi(this,"unshift",t)},values(){return fu(this,"values",Pt)}};function fu(t,e,n){const r=ll(t),s=r[e]();return r!==t&&!rn(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=n(i.value)),i}),s}const tI=Array.prototype;function Kn(t,e,n,r,s,i){const o=ll(t),a=o!==t&&!rn(t),l=o[e];if(l!==tI[e]){const f=l.apply(t,i);return a?Pt(f):f}let u=n;o!==t&&(a?u=function(f,p){return n.call(this,Pt(f),p,t)}:n.length>2&&(u=function(f,p){return n.call(this,f,p,t)}));const h=l.call(o,u,r);return a&&s?s(h):h}function em(t,e,n,r){const s=ll(t);let i=n;return s!==t&&(rn(t)?n.length>3&&(i=function(o,a,l){return n.call(this,o,a,l,t)}):i=function(o,a,l){return n.call(this,o,Pt(a),l,t)}),s[e](i,...r)}function du(t,e,n){const r=Ce(t);Dt(r,"iterate",So);const s=r[e](...n);return(s===-1||s===!1)&&dl(n[0])?(n[0]=Ce(n[0]),r[e](...n)):s}function Gi(t,e,n=[]){Wr(),mf();const r=Ce(t)[e].apply(t,n);return gf(),Gr(),r}const nI=sl("__proto__,__v_isRef,__isVue"),ay=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ln));function rI(t){Ln(t)||(t=String(t));const e=Ce(this);return Dt(e,"has",t),e.hasOwnProperty(t)}class cy{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?py:dy:i?fy:hy).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=ie(e);if(!s){let l;if(o&&(l=eI[n]))return l;if(n==="hasOwnProperty")return rI}const a=Reflect.get(e,n,ut(e)?e:r);return(Ln(n)?ay.has(n):nI(n))||(s||Dt(e,"get",n),i)?a:ut(a)?o&&ff(n)?a:a.value:$e(a)?s?Ef(a):Bn(a):a}}class ly extends cy{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(!this._isShallow){const l=$r(i);if(!rn(r)&&!$r(r)&&(i=Ce(i),r=Ce(r)),!ie(e)&&ut(i)&&!ut(r))return l?!1:(i.value=r,!0)}const o=ie(e)&&ff(n)?Number(n)<e.length:Le(e,n),a=Reflect.set(e,n,r,ut(e)?e:s);return e===Ce(s)&&(o?jt(r,i)&&er(e,"set",n,r):er(e,"add",n,r)),a}deleteProperty(e,n){const r=Le(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&er(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!Ln(n)||!ay.has(n))&&Dt(e,"has",n),r}ownKeys(e){return Dt(e,"iterate",ie(e)?"length":as),Reflect.ownKeys(e)}}class uy extends cy{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const sI=new ly,iI=new uy,oI=new ly(!0),aI=new uy(!0),yf=t=>t,ul=t=>Reflect.getPrototypeOf(t);function Na(t,e,n=!1,r=!1){t=t.__v_raw;const s=Ce(t),i=Ce(e);n||(jt(e,i)&&Dt(s,"get",e),Dt(s,"get",i));const{has:o}=ul(s),a=r?yf:n?wf:Pt;if(o.call(s,e))return a(t.get(e));if(o.call(s,i))return a(t.get(i));t!==s&&t.get(e)}function xa(t,e=!1){const n=this.__v_raw,r=Ce(n),s=Ce(t);return e||(jt(t,s)&&Dt(r,"has",t),Dt(r,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function Da(t,e=!1){return t=t.__v_raw,!e&&Dt(Ce(t),"iterate",as),Reflect.get(t,"size",t)}function tm(t,e=!1){!e&&!rn(t)&&!$r(t)&&(t=Ce(t));const n=Ce(this);return ul(n).has.call(n,t)||(n.add(t),er(n,"add",t,t)),this}function nm(t,e,n=!1){!n&&!rn(e)&&!$r(e)&&(e=Ce(e));const r=Ce(this),{has:s,get:i}=ul(r);let o=s.call(r,t);o||(t=Ce(t),o=s.call(r,t));const a=i.call(r,t);return r.set(t,e),o?jt(e,a)&&er(r,"set",t,e):er(r,"add",t,e),this}function rm(t){const e=Ce(this),{has:n,get:r}=ul(e);let s=n.call(e,t);s||(t=Ce(t),s=n.call(e,t)),r&&r.call(e,t);const i=e.delete(t);return s&&er(e,"delete",t,void 0),i}function sm(){const t=Ce(this),e=t.size!==0,n=t.clear();return e&&er(t,"clear",void 0,void 0),n}function Va(t,e){return function(r,s){const i=this,o=i.__v_raw,a=Ce(o),l=e?yf:t?wf:Pt;return!t&&Dt(a,"iterate",as),o.forEach((u,h)=>r.call(s,l(u),l(h),i))}}function Ma(t,e,n){return function(...r){const s=this.__v_raw,i=Ce(s),o=Js(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=s[t](...r),h=n?yf:e?wf:Pt;return!e&&Dt(i,"iterate",l?Yu:as),{next(){const{value:f,done:p}=u.next();return p?{value:f,done:p}:{value:a?[h(f[0]),h(f[1])]:h(f),done:p}},[Symbol.iterator](){return this}}}}function pr(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function cI(){const t={get(i){return Na(this,i)},get size(){return Da(this)},has:xa,add:tm,set:nm,delete:rm,clear:sm,forEach:Va(!1,!1)},e={get(i){return Na(this,i,!1,!0)},get size(){return Da(this)},has:xa,add(i){return tm.call(this,i,!0)},set(i,o){return nm.call(this,i,o,!0)},delete:rm,clear:sm,forEach:Va(!1,!0)},n={get(i){return Na(this,i,!0)},get size(){return Da(this,!0)},has(i){return xa.call(this,i,!0)},add:pr("add"),set:pr("set"),delete:pr("delete"),clear:pr("clear"),forEach:Va(!0,!1)},r={get(i){return Na(this,i,!0,!0)},get size(){return Da(this,!0)},has(i){return xa.call(this,i,!0)},add:pr("add"),set:pr("set"),delete:pr("delete"),clear:pr("clear"),forEach:Va(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=Ma(i,!1,!1),n[i]=Ma(i,!0,!1),e[i]=Ma(i,!1,!0),r[i]=Ma(i,!0,!0)}),[t,n,e,r]}const[lI,uI,hI,fI]=cI();function hl(t,e){const n=e?t?fI:hI:t?uI:lI;return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(Le(n,s)&&s in r?n:r,s,i)}const dI={get:hl(!1,!1)},pI={get:hl(!1,!0)},mI={get:hl(!0,!1)},gI={get:hl(!0,!0)},hy=new WeakMap,fy=new WeakMap,dy=new WeakMap,py=new WeakMap;function _I(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function yI(t){return t.__v_skip||!Object.isExtensible(t)?0:_I(MT(t))}function Bn(t){return $r(t)?t:fl(t,!1,sI,dI,hy)}function vf(t){return fl(t,!1,oI,pI,fy)}function Ef(t){return fl(t,!0,iI,mI,dy)}function vI(t){return fl(t,!0,aI,gI,py)}function fl(t,e,n,r,s){if(!$e(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=s.get(t);if(i)return i;const o=yI(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return s.set(t,a),a}function xr(t){return $r(t)?xr(t.__v_raw):!!(t&&t.__v_isReactive)}function $r(t){return!!(t&&t.__v_isReadonly)}function rn(t){return!!(t&&t.__v_isShallow)}function dl(t){return t?!!t.__v_raw:!1}function Ce(t){const e=t&&t.__v_raw;return e?Ce(e):t}function my(t){return!Le(t,"__v_skip")&&Object.isExtensible(t)&&G_(t,"__v_skip",!0),t}const Pt=t=>$e(t)?Bn(t):t,wf=t=>$e(t)?Ef(t):t;function ut(t){return t?t.__v_isRef===!0:!1}function _e(t){return gy(t,!1)}function bf(t){return gy(t,!0)}function gy(t,e){return ut(t)?t:new EI(t,e)}class EI{constructor(e,n){this.dep=new cl,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Ce(e),this._value=n?e:Pt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||rn(e)||$r(e);e=r?e:Ce(e),jt(e,n)&&(this._rawValue=e,this._value=r?e:Pt(e),this.dep.trigger())}}function wI(t){t.dep.trigger()}function xt(t){return ut(t)?t.value:t}function bI(t){return de(t)?t():xt(t)}const TI={get:(t,e,n)=>e==="__v_raw"?t:xt(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return ut(s)&&!ut(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function Tf(t){return xr(t)?t:new Proxy(t,TI)}class II{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new cl,{get:r,set:s}=e(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=s}get value(){return this._value=this._get()}set value(e){this._set(e)}}function _y(t){return new II(t)}function AI(t){const e=ie(t)?new Array(t.length):{};for(const n in t)e[n]=yy(t,n);return e}class SI{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return ZT(Ce(this._object),this._key)}}class RI{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function CI(t,e,n){return ut(t)?t:de(t)?new RI(t):$e(t)&&arguments.length>1?yy(t,e,n):_e(t)}function yy(t,e,n){const r=t[e];return ut(r)?r:new SI(t,e,n)}class PI{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new cl(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ao-1,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){this.flags|=16,He!==this&&this.dep.notify()}get value(){const e=this.dep.track();return sy(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function OI(t,e,n=!1){let r,s;return de(t)?r=t:(r=t.get,s=t.set),new PI(r,s,n)}const kI={GET:"get",HAS:"has",ITERATE:"iterate"},NI={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},La={},vc=new WeakMap;let Er;function xI(){return Er}function vy(t,e=!1,n=Er){if(n){let r=vc.get(n);r||vc.set(n,r=[]),r.push(t)}}function DI(t,e,n=ke){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:a,call:l}=n,u=P=>s?P:rn(P)||s===!1||s===0?Qn(P,1):Qn(P);let h,f,p,g,E=!1,R=!1;if(ut(t)?(f=()=>t.value,E=rn(t)):xr(t)?(f=()=>u(t),E=!0):ie(t)?(R=!0,E=t.some(P=>xr(P)||rn(P)),f=()=>t.map(P=>{if(ut(P))return P.value;if(xr(P))return u(P);if(de(P))return l?l(P,2):P()})):de(t)?e?f=l?()=>l(t,2):t:f=()=>{if(p){Wr();try{p()}finally{Gr()}}const P=Er;Er=h;try{return l?l(t,3,[g]):t(g)}finally{Er=P}}:f=wn,e&&s){const P=f,D=s===!0?1/0:s;f=()=>Qn(P(),D)}const S=pf(),x=()=>{h.stop(),S&&uf(S.effects,h)};if(i)if(e){const P=e;e=(...D)=>{P(...D),x()}}else{const P=f;f=()=>{P(),x()}}let O=R?new Array(t.length).fill(La):La;const _=P=>{if(!(!(h.flags&1)||!h.dirty&&!P))if(e){const D=h.run();if(s||E||(R?D.some((F,T)=>jt(F,O[T])):jt(D,O))){p&&p();const F=Er;Er=h;try{const T=[D,O===La?void 0:R&&O[0]===La?[]:O,g];l?l(e,3,T):e(...T),O=D}finally{Er=F}}}else h.run()};return a&&a(_),h=new Io(f),h.scheduler=o?()=>o(_,!1):_,g=P=>vy(P,!1,h),p=h.onStop=()=>{const P=vc.get(h);if(P){if(l)l(P,4);else for(const D of P)D();vc.delete(h)}},e?r?_(!0):O=h.run():o?o(_.bind(null,!0),!0):h.run(),x.pause=h.pause.bind(h),x.resume=h.resume.bind(h),x.stop=x,x}function Qn(t,e=1/0,n){if(e<=0||!$e(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,ut(t))Qn(t.value,e,n);else if(ie(t))for(let r=0;r<t.length;r++)Qn(t[r],e,n);else if(bs(t)||Js(t))t.forEach(r=>{Qn(r,e,n)});else if(il(t)){for(const r in t)Qn(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Qn(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.5
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Ey=[];function VI(t){Ey.push(t)}function MI(){Ey.pop()}function LI(t,e){}const FI={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},UI={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function Ti(t,e,n,r){try{return r?t(...r):t()}catch(s){Ts(s,e,n)}}function fn(t,e,n,r){if(de(t)){const s=Ti(t,e,n,r);return s&&hf(s)&&s.catch(i=>{Ts(i,e,n)}),s}if(ie(t)){const s=[];for(let i=0;i<t.length;i++)s.push(fn(t[i],e,n,r));return s}}function Ts(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ke;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const h=a.ec;if(h){for(let f=0;f<h.length;f++)if(h[f](t,l,u)===!1)return}a=a.parent}if(i){Wr(),Ti(i,null,10,[t,l,u]),Gr();return}}jI(t,n,s,r,o)}function jI(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}let Ro=!1,Xu=!1;const $t=[];let On=0;const Zs=[];let wr=null,$s=0;const wy=Promise.resolve();let If=null;function Qo(t){const e=If||wy;return t?e.then(this?t.bind(this):t):e}function $I(t){let e=Ro?On+1:0,n=$t.length;for(;e<n;){const r=e+n>>>1,s=$t[r],i=Co(s);i<t||i===t&&s.flags&2?e=r+1:n=r}return e}function Af(t){if(!(t.flags&1)){const e=Co(t),n=$t[$t.length-1];!n||!(t.flags&2)&&e>=Co(n)?$t.push(t):$t.splice($I(e),0,t),t.flags|=1,by()}}function by(){!Ro&&!Xu&&(Xu=!0,If=wy.then(Ty))}function Ec(t){ie(t)?Zs.push(...t):wr&&t.id===-1?wr.splice($s+1,0,t):t.flags&1||(Zs.push(t),t.flags|=1),by()}function im(t,e,n=Ro?On+1:0){for(;n<$t.length;n++){const r=$t[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;$t.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&=-2}}}function wc(t){if(Zs.length){const e=[...new Set(Zs)].sort((n,r)=>Co(n)-Co(r));if(Zs.length=0,wr){wr.push(...e);return}for(wr=e,$s=0;$s<wr.length;$s++){const n=wr[$s];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}wr=null,$s=0}}const Co=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Ty(t){Xu=!1,Ro=!0;try{for(On=0;On<$t.length;On++){const e=$t[On];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Ti(e,e.i,e.i?15:14),e.flags&=-2)}}finally{for(;On<$t.length;On++){const e=$t[On];e&&(e.flags&=-2)}On=0,$t.length=0,wc(),Ro=!1,If=null,($t.length||Zs.length)&&Ty()}}let Bs,Fa=[];function Iy(t,e){var n,r;Bs=t,Bs?(Bs.enabled=!0,Fa.forEach(({event:s,args:i})=>Bs.emit(s,...i)),Fa=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(i=>{Iy(i,e)}),setTimeout(()=>{Bs||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Fa=[])},3e3)):Fa=[]}let lt=null,pl=null;function Po(t){const e=lt;return lt=t,pl=t&&t.type.__scopeId||null,e}function BI(t){pl=t}function HI(){pl=null}const qI=t=>Je;function Je(t,e=lt,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&oh(-1);const i=Po(e);let o;try{o=t(...s)}finally{Po(i),r._d&&oh(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Qt(t,e){if(lt===null)return t;const n=ea(lt),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,a,l=ke]=e[s];i&&(de(i)&&(i={mounted:i,updated:i}),i.deep&&Qn(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function kn(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(Wr(),fn(l,n,8,[t.el,a,t,e]),Gr())}}const Ay=Symbol("_vte"),Sy=t=>t.__isTeleport,ao=t=>t&&(t.disabled||t.disabled===""),KI=t=>t&&(t.defer||t.defer===""),om=t=>typeof SVGElement<"u"&&t instanceof SVGElement,am=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Zu=(t,e)=>{const n=t&&t.to;return We(n)?e?e(n):null:n},zI={name:"Teleport",__isTeleport:!0,process(t,e,n,r,s,i,o,a,l,u){const{mc:h,pc:f,pbc:p,o:{insert:g,querySelector:E,createText:R,createComment:S}}=u,x=ao(e.props);let{shapeFlag:O,children:_,dynamicChildren:P}=e;if(t==null){const D=e.el=R(""),F=e.anchor=R("");g(D,n,r),g(F,n,r);const T=(y,b)=>{O&16&&(s&&s.isCE&&(s.ce._teleportTarget=y),h(_,y,b,s,i,o,a,l))},w=()=>{const y=e.target=Zu(e.props,E),b=Ry(y,e,R,g);y&&(o!=="svg"&&om(y)?o="svg":o!=="mathml"&&am(y)&&(o="mathml"),x||(T(y,b),Za(e)))};x&&(T(n,F),Za(e)),KI(e.props)?dt(w,i):w()}else{e.el=t.el,e.targetStart=t.targetStart;const D=e.anchor=t.anchor,F=e.target=t.target,T=e.targetAnchor=t.targetAnchor,w=ao(t.props),y=w?n:F,b=w?D:T;if(o==="svg"||om(F)?o="svg":(o==="mathml"||am(F))&&(o="mathml"),P?(p(t.dynamicChildren,P,y,s,i,o,a),Mf(t,e,!0)):l||f(t,e,y,b,s,i,o,a,!1),x)w?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Ua(e,n,D,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const k=e.target=Zu(e.props,E);k&&Ua(e,k,null,u,0)}else w&&Ua(e,F,T,u,1);Za(e)}},remove(t,e,n,{um:r,o:{remove:s}},i){const{shapeFlag:o,children:a,anchor:l,targetStart:u,targetAnchor:h,target:f,props:p}=t;if(f&&(s(u),s(h)),i&&s(l),o&16){const g=i||!ao(p);for(let E=0;E<a.length;E++){const R=a[E];r(R,e,n,g,!!R.dynamicChildren)}}},move:Ua,hydrate:WI};function Ua(t,e,n,{o:{insert:r},m:s},i=2){i===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:h}=t,f=i===2;if(f&&r(o,e,n),(!f||ao(h))&&l&16)for(let p=0;p<u.length;p++)s(u[p],e,n,2);f&&r(a,e,n)}function WI(t,e,n,r,s,i,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:u,createText:h}},f){const p=e.target=Zu(e.props,l);if(p){const g=p._lpa||p.firstChild;if(e.shapeFlag&16)if(ao(e.props))e.anchor=f(o(t),e,a(t),n,r,s,i),e.targetStart=g,e.targetAnchor=g&&o(g);else{e.anchor=o(t);let E=g;for(;E;){if(E&&E.nodeType===8){if(E.data==="teleport start anchor")e.targetStart=E;else if(E.data==="teleport anchor"){e.targetAnchor=E,p._lpa=e.targetAnchor&&o(e.targetAnchor);break}}E=o(E)}e.targetAnchor||Ry(p,e,h,u),f(g&&o(g),e,p,n,r,s,i)}Za(e)}return e.anchor&&o(e.anchor)}const GI=zI;function Za(t){const e=t.ctx;if(e&&e.ut){let n=t.targetStart;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}function Ry(t,e,n,r){const s=e.targetStart=n(""),i=e.targetAnchor=n("");return s[Ay]=i,t&&(r(s,t),r(i,t)),i}const br=Symbol("_leaveCb"),ja=Symbol("_enterCb");function Sf(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return pn(()=>{t.isMounted=!0}),yl(()=>{t.isUnmounting=!0}),t}const cn=[Function,Array],Rf={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:cn,onEnter:cn,onAfterEnter:cn,onEnterCancelled:cn,onBeforeLeave:cn,onLeave:cn,onAfterLeave:cn,onLeaveCancelled:cn,onBeforeAppear:cn,onAppear:cn,onAfterAppear:cn,onAppearCancelled:cn},Cy=t=>{const e=t.subTree;return e.component?Cy(e.component):e},QI={name:"BaseTransition",props:Rf,setup(t,{slots:e}){const n=en(),r=Sf();return()=>{const s=e.default&&ml(e.default(),!0);if(!s||!s.length)return;const i=Py(s),o=Ce(t),{mode:a}=o;if(r.isLeaving)return pu(i);const l=cm(i);if(!l)return pu(i);let u=ai(l,o,r,n,p=>u=p);l.type!==ot&&tr(l,u);const h=n.subTree,f=h&&cm(h);if(f&&f.type!==ot&&!yn(l,f)&&Cy(n).type!==ot){const p=ai(f,o,r,n);if(tr(f,p),a==="out-in"&&l.type!==ot)return r.isLeaving=!0,p.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete p.afterLeave},pu(i);a==="in-out"&&l.type!==ot&&(p.delayLeave=(g,E,R)=>{const S=ky(r,f);S[String(f.key)]=f,g[br]=()=>{E(),g[br]=void 0,delete u.delayedLeave},u.delayedLeave=R})}return i}}};function Py(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==ot){e=n;break}}return e}const Oy=QI;function ky(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function ai(t,e,n,r,s){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:h,onEnterCancelled:f,onBeforeLeave:p,onLeave:g,onAfterLeave:E,onLeaveCancelled:R,onBeforeAppear:S,onAppear:x,onAfterAppear:O,onAppearCancelled:_}=e,P=String(t.key),D=ky(n,t),F=(y,b)=>{y&&fn(y,r,9,b)},T=(y,b)=>{const k=b[1];F(y,b),ie(y)?y.every(C=>C.length<=1)&&k():y.length<=1&&k()},w={mode:o,persisted:a,beforeEnter(y){let b=l;if(!n.isMounted)if(i)b=S||l;else return;y[br]&&y[br](!0);const k=D[P];k&&yn(t,k)&&k.el[br]&&k.el[br](),F(b,[y])},enter(y){let b=u,k=h,C=f;if(!n.isMounted)if(i)b=x||u,k=O||h,C=_||f;else return;let I=!1;const me=y[ja]=Se=>{I||(I=!0,Se?F(C,[y]):F(k,[y]),w.delayedLeave&&w.delayedLeave(),y[ja]=void 0)};b?T(b,[y,me]):me()},leave(y,b){const k=String(t.key);if(y[ja]&&y[ja](!0),n.isUnmounting)return b();F(p,[y]);let C=!1;const I=y[br]=me=>{C||(C=!0,b(),me?F(R,[y]):F(E,[y]),y[br]=void 0,D[k]===t&&delete D[k])};D[k]=t,g?T(g,[y,I]):I()},clone(y){const b=ai(y,e,n,r,s);return s&&s(b),b}};return w}function pu(t){if(Jo(t))return t=Un(t),t.children=null,t}function cm(t){if(!Jo(t))return Sy(t.type)&&t.children?Py(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&de(n.default))return n.default()}}function tr(t,e){t.shapeFlag&6&&t.component?(t.transition=e,tr(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function ml(t,e=!1,n){let r=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===Ue?(o.patchFlag&128&&s++,r=r.concat(ml(o.children,e,a))):(e||o.type!==ot)&&r.push(a!=null?Un(o,{key:a}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Is(t,e){return de(t)?ze({name:t.name},e,{setup:t}):t}function JI(){const t=en();if(t)return(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++}function Cf(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function YI(t){const e=en(),n=bf(null);if(e){const s=e.refs===ke?e.refs={}:e.refs;Object.defineProperty(s,t,{enumerable:!0,get:()=>n.value,set:i=>n.value=i})}return n}function bc(t,e,n,r,s=!1){if(ie(t)){t.forEach((E,R)=>bc(E,e&&(ie(e)?e[R]:e),n,r,s));return}if(Dr(r)&&!s)return;const i=r.shapeFlag&4?ea(r.component):r.el,o=s?null:i,{i:a,r:l}=t,u=e&&e.r,h=a.refs===ke?a.refs={}:a.refs,f=a.setupState,p=Ce(f),g=f===ke?()=>!1:E=>Le(p,E);if(u!=null&&u!==l&&(We(u)?(h[u]=null,g(u)&&(f[u]=null)):ut(u)&&(u.value=null)),de(l))Ti(l,a,12,[o,h]);else{const E=We(l),R=ut(l);if(E||R){const S=()=>{if(t.f){const x=E?g(l)?f[l]:h[l]:l.value;s?ie(x)&&uf(x,i):ie(x)?x.includes(i)||x.push(i):E?(h[l]=[i],g(l)&&(f[l]=h[l])):(l.value=[i],t.k&&(h[t.k]=l.value))}else E?(h[l]=o,g(l)&&(f[l]=o)):R&&(l.value=o,t.k&&(h[t.k]=o))};o?(S.id=-1,dt(S,n)):S()}}}let lm=!1;const Ls=()=>{lm||(console.error("Hydration completed but contains mismatches."),lm=!0)},XI=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",ZI=t=>t.namespaceURI.includes("MathML"),$a=t=>{if(t.nodeType===1){if(XI(t))return"svg";if(ZI(t))return"mathml"}},Ws=t=>t.nodeType===8;function eA(t){const{mt:e,p:n,o:{patchProp:r,createText:s,nextSibling:i,parentNode:o,remove:a,insert:l,createComment:u}}=t,h=(_,P)=>{if(!P.hasChildNodes()){n(null,_,P),wc(),P._vnode=_;return}f(P.firstChild,_,null,null,null),wc(),P._vnode=_},f=(_,P,D,F,T,w=!1)=>{w=w||!!P.dynamicChildren;const y=Ws(_)&&_.data==="[",b=()=>R(_,P,D,F,T,y),{type:k,ref:C,shapeFlag:I,patchFlag:me}=P;let Se=_.nodeType;P.el=_,me===-2&&(w=!1,P.dynamicChildren=null);let ne=null;switch(k){case Vr:Se!==3?P.children===""?(l(P.el=s(""),o(_),_),ne=_):ne=b():(_.data!==P.children&&(Ls(),_.data=P.children),ne=i(_));break;case ot:O(_)?(ne=i(_),x(P.el=_.content.firstChild,_,D)):Se!==8||y?ne=b():ne=i(_);break;case ls:if(y&&(_=i(_),Se=_.nodeType),Se===1||Se===3){ne=_;const pe=!P.children.length;for(let te=0;te<P.staticCount;te++)pe&&(P.children+=ne.nodeType===1?ne.outerHTML:ne.data),te===P.staticCount-1&&(P.anchor=ne),ne=i(ne);return y?i(ne):ne}else b();break;case Ue:y?ne=E(_,P,D,F,T,w):ne=b();break;default:if(I&1)(Se!==1||P.type.toLowerCase()!==_.tagName.toLowerCase())&&!O(_)?ne=b():ne=p(_,P,D,F,T,w);else if(I&6){P.slotScopeIds=T;const pe=o(_);if(y?ne=S(_):Ws(_)&&_.data==="teleport start"?ne=S(_,_.data,"teleport end"):ne=i(_),e(P,pe,null,D,F,$a(pe),w),Dr(P)){let te;y?(te=ve(Ue),te.anchor=ne?ne.previousSibling:pe.lastChild):te=_.nodeType===3?mt(""):ve("div"),te.el=_,P.component.subTree=te}}else I&64?Se!==8?ne=b():ne=P.type.hydrate(_,P,D,F,T,w,t,g):I&128&&(ne=P.type.hydrate(_,P,D,F,$a(o(_)),T,w,t,f))}return C!=null&&bc(C,null,F,P),ne},p=(_,P,D,F,T,w)=>{w=w||!!P.dynamicChildren;const{type:y,props:b,patchFlag:k,shapeFlag:C,dirs:I,transition:me}=P,Se=y==="input"||y==="option";if(Se||k!==-1){I&&kn(P,null,D,"created");let ne=!1;if(O(_)){ne=rv(F,me)&&D&&D.vnode.props&&D.vnode.props.appear;const te=_.content.firstChild;ne&&me.beforeEnter(te),x(te,_,D),P.el=_=te}if(C&16&&!(b&&(b.innerHTML||b.textContent))){let te=g(_.firstChild,P,_,D,F,T,w);for(;te;){Ba(_,1)||Ls();const Ye=te;te=te.nextSibling,a(Ye)}}else if(C&8){let te=P.children;te[0]===`
`&&(_.tagName==="PRE"||_.tagName==="TEXTAREA")&&(te=te.slice(1)),_.textContent!==te&&(Ba(_,0)||Ls(),_.textContent=P.children)}if(b){if(Se||!w||k&48){const te=_.tagName.includes("-");for(const Ye in b)(Se&&(Ye.endsWith("value")||Ye==="indeterminate")||zo(Ye)&&!Ys(Ye)||Ye[0]==="."||te)&&r(_,Ye,null,b[Ye],void 0,D)}else if(b.onClick)r(_,"onClick",null,b.onClick,void 0,D);else if(k&4&&xr(b.style))for(const te in b.style)b.style[te]}let pe;(pe=b&&b.onVnodeBeforeMount)&&Kt(pe,D,P),I&&kn(P,null,D,"beforeMount"),((pe=b&&b.onVnodeMounted)||I||ne)&&dv(()=>{pe&&Kt(pe,D,P),ne&&me.enter(_),I&&kn(P,null,D,"mounted")},F)}return _.nextSibling},g=(_,P,D,F,T,w,y)=>{y=y||!!P.dynamicChildren;const b=P.children,k=b.length;for(let C=0;C<k;C++){const I=y?b[C]:b[C]=Wt(b[C]),me=I.type===Vr;_?(me&&!y&&C+1<k&&Wt(b[C+1]).type===Vr&&(l(s(_.data.slice(I.children.length)),D,i(_)),_.data=I.children),_=f(_,I,F,T,w,y)):me&&!I.children?l(I.el=s(""),D):(Ba(D,1)||Ls(),n(null,I,D,null,F,T,$a(D),w))}return _},E=(_,P,D,F,T,w)=>{const{slotScopeIds:y}=P;y&&(T=T?T.concat(y):y);const b=o(_),k=g(i(_),P,b,D,F,T,w);return k&&Ws(k)&&k.data==="]"?i(P.anchor=k):(Ls(),l(P.anchor=u("]"),b,k),k)},R=(_,P,D,F,T,w)=>{if(Ba(_.parentElement,1)||Ls(),P.el=null,w){const k=S(_);for(;;){const C=i(_);if(C&&C!==k)a(C);else break}}const y=i(_),b=o(_);return a(_),n(null,P,b,y,D,F,$a(b),T),y},S=(_,P="[",D="]")=>{let F=0;for(;_;)if(_=i(_),_&&Ws(_)&&(_.data===P&&F++,_.data===D)){if(F===0)return i(_);F--}return _},x=(_,P,D)=>{const F=P.parentNode;F&&F.replaceChild(_,P);let T=D;for(;T;)T.vnode.el===P&&(T.vnode.el=T.subTree.el=_),T=T.parent},O=_=>_.nodeType===1&&_.tagName==="TEMPLATE";return[h,f]}const um="data-allow-mismatch",tA={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function Ba(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(um);)t=t.parentElement;const n=t&&t.getAttribute(um);if(n==null)return!1;if(n==="")return!0;{const r=n.split(",");return e===0&&r.includes("children")?!0:n.split(",").includes(tA[e])}}const nA=(t=1e4)=>e=>{const n=requestIdleCallback(e,{timeout:t});return()=>cancelIdleCallback(n)},rA=t=>(e,n)=>{const r=new IntersectionObserver(s=>{for(const i of s)if(i.isIntersecting){r.disconnect(),e();break}},t);return n(s=>r.observe(s)),()=>r.disconnect()},sA=t=>e=>{if(t){const n=matchMedia(t);if(n.matches)e();else return n.addEventListener("change",e,{once:!0}),()=>n.removeEventListener("change",e)}},iA=(t=[])=>(e,n)=>{We(t)&&(t=[t]);let r=!1;const s=o=>{r||(r=!0,i(),e(),o.target.dispatchEvent(new o.constructor(o.type,o)))},i=()=>{n(o=>{for(const a of t)o.removeEventListener(a,s)})};return n(o=>{for(const a of t)o.addEventListener(a,s,{once:!0})}),i};function oA(t,e){if(Ws(t)&&t.data==="["){let n=1,r=t.nextSibling;for(;r;){if(r.nodeType===1)e(r);else if(Ws(r))if(r.data==="]"){if(--n===0)break}else r.data==="["&&n++;r=r.nextSibling}}else e(t)}const Dr=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function aA(t){de(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:s=200,hydrate:i,timeout:o,suspensible:a=!0,onError:l}=t;let u=null,h,f=0;const p=()=>(f++,u=null,g()),g=()=>{let E;return u||(E=u=e().catch(R=>{if(R=R instanceof Error?R:new Error(String(R)),l)return new Promise((S,x)=>{l(R,()=>S(p()),()=>x(R),f+1)});throw R}).then(R=>E!==u&&u?u:(R&&(R.__esModule||R[Symbol.toStringTag]==="Module")&&(R=R.default),h=R,R)))};return Is({name:"AsyncComponentWrapper",__asyncLoader:g,__asyncHydrate(E,R,S){const x=i?()=>{const O=i(S,_=>oA(E,_));O&&(R.bum||(R.bum=[])).push(O)}:S;h?x():g().then(()=>!R.isUnmounted&&x())},get __asyncResolved(){return h},setup(){const E=at;if(Cf(E),h)return()=>mu(h,E);const R=_=>{u=null,Ts(_,E,13,!r)};if(a&&E.suspense||Zo)return g().then(_=>()=>mu(_,E)).catch(_=>(R(_),()=>r?ve(r,{error:_}):null));const S=_e(!1),x=_e(),O=_e(!!s);return s&&setTimeout(()=>{O.value=!1},s),o!=null&&setTimeout(()=>{if(!S.value&&!x.value){const _=new Error(`Async component timed out after ${o}ms.`);R(_),x.value=_}},o),g().then(()=>{S.value=!0,E.parent&&Jo(E.parent.vnode)&&E.parent.update()}).catch(_=>{R(_),x.value=_}),()=>{if(S.value&&h)return mu(h,E);if(x.value&&r)return ve(r,{error:x.value});if(n&&!O.value)return ve(n)}}})}function mu(t,e){const{ref:n,props:r,children:s,ce:i}=e.vnode,o=ve(t,r,s);return o.ref=n,o.ce=i,delete e.vnode.ce,o}const Jo=t=>t.type.__isKeepAlive,cA={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=en(),r=n.ctx;if(!r.renderer)return()=>{const O=e.default&&e.default();return O&&O.length===1?O[0]:O};const s=new Map,i=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:u,um:h,o:{createElement:f}}}=r,p=f("div");r.activate=(O,_,P,D,F)=>{const T=O.component;u(O,_,P,0,a),l(T.vnode,O,_,P,T,a,D,O.slotScopeIds,F),dt(()=>{T.isDeactivated=!1,T.a&&Xs(T.a);const w=O.props&&O.props.onVnodeMounted;w&&Kt(w,T.parent,O)},a)},r.deactivate=O=>{const _=O.component;Ic(_.m),Ic(_.a),u(O,p,null,1,a),dt(()=>{_.da&&Xs(_.da);const P=O.props&&O.props.onVnodeUnmounted;P&&Kt(P,_.parent,O),_.isDeactivated=!0},a)};function g(O){gu(O),h(O,n,a,!0)}function E(O){s.forEach((_,P)=>{const D=hh(_.type);D&&!O(D)&&R(P)})}function R(O){const _=s.get(O);_&&(!o||!yn(_,o))?g(_):o&&gu(o),s.delete(O),i.delete(O)}st(()=>[t.include,t.exclude],([O,_])=>{O&&E(P=>eo(O,P)),_&&E(P=>!eo(_,P))},{flush:"post",deep:!0});let S=null;const x=()=>{S!=null&&(Ac(n.subTree.type)?dt(()=>{s.set(S,Ha(n.subTree))},n.subTree.suspense):s.set(S,Ha(n.subTree)))};return pn(x),_l(x),yl(()=>{s.forEach(O=>{const{subTree:_,suspense:P}=n,D=Ha(_);if(O.type===D.type&&O.key===D.key){gu(D);const F=D.component.da;F&&dt(F,P);return}g(O)})}),()=>{if(S=null,!e.default)return o=null;const O=e.default(),_=O[0];if(O.length>1)return o=null,O;if(!Br(_)||!(_.shapeFlag&4)&&!(_.shapeFlag&128))return o=null,_;let P=Ha(_);if(P.type===ot)return o=null,P;const D=P.type,F=hh(Dr(P)?P.type.__asyncResolved||{}:D),{include:T,exclude:w,max:y}=t;if(T&&(!F||!eo(T,F))||w&&F&&eo(w,F))return P.shapeFlag&=-257,o=P,_;const b=P.key==null?D:P.key,k=s.get(b);return P.el&&(P=Un(P),_.shapeFlag&128&&(_.ssContent=P)),S=b,k?(P.el=k.el,P.component=k.component,P.transition&&tr(P,P.transition),P.shapeFlag|=512,i.delete(b),i.add(b)):(i.add(b),y&&i.size>parseInt(y,10)&&R(i.values().next().value)),P.shapeFlag|=256,o=P,Ac(_.type)?_:P}}},lA=cA;function eo(t,e){return ie(t)?t.some(n=>eo(n,e)):We(t)?t.split(",").includes(e):VT(t)?(t.lastIndex=0,t.test(e)):!1}function Ny(t,e){Dy(t,"a",e)}function xy(t,e){Dy(t,"da",e)}function Dy(t,e,n=at){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(gl(e,r,n),n){let s=n.parent;for(;s&&s.parent;)Jo(s.parent.vnode)&&uA(r,e,n,s),s=s.parent}}function uA(t,e,n,r){const s=gl(e,t,r,!0);As(()=>{uf(r[e],s)},n)}function gu(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Ha(t){return t.shapeFlag&128?t.ssContent:t}function gl(t,e,n=at,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Wr();const a=ms(n),l=fn(e,n,t,o);return a(),Gr(),l});return r?s.unshift(i):s.push(i),i}}const ar=t=>(e,n=at)=>{(!Zo||t==="sp")&&gl(t,(...r)=>e(...r),n)},Pf=ar("bm"),pn=ar("m"),Vy=ar("bu"),_l=ar("u"),yl=ar("bum"),As=ar("um"),My=ar("sp"),Ly=ar("rtg"),Fy=ar("rtc");function Uy(t,e=at){gl("ec",t,e)}const Of="components",hA="directives";function Yo(t,e){return kf(Of,t,!0,e)||t}const jy=Symbol.for("v-ndc");function $y(t){return We(t)?kf(Of,t,!1)||t:t||jy}function fA(t){return kf(hA,t)}function kf(t,e,n=!0,r=!1){const s=lt||at;if(s){const i=s.type;if(t===Of){const a=hh(i,!1);if(a&&(a===e||a===Nt(e)||a===Wo(Nt(e))))return i}const o=hm(s[t]||i[t],e)||hm(s.appContext[t],e);return!o&&r?i:o}}function hm(t,e){return t&&(t[e]||t[Nt(e)]||t[Wo(Nt(e))])}function vn(t,e,n,r){let s;const i=n&&n[r],o=ie(t);if(o||We(t)){const a=o&&xr(t);let l=!1;a&&(l=!rn(t),t=ll(t)),s=new Array(t.length);for(let u=0,h=t.length;u<h;u++)s[u]=e(l?Pt(t[u]):t[u],u,void 0,i&&i[u])}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,i&&i[a])}else if($e(t))if(t[Symbol.iterator])s=Array.from(t,(a,l)=>e(a,l,void 0,i&&i[l]));else{const a=Object.keys(t);s=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const h=a[l];s[l]=e(t[h],h,l,i&&i[l])}}else s=[];return n&&(n[r]=s),s}function dA(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(ie(r))for(let s=0;s<r.length;s++)t[r[s].name]=r[s].fn;else r&&(t[r.name]=r.key?(...s)=>{const i=r.fn(...s);return i&&(i.key=r.key),i}:r.fn)}return t}function pA(t,e,n={},r,s){if(lt.ce||lt.parent&&Dr(lt.parent)&&lt.parent.ce)return e!=="default"&&(n.name=e),se(),Bt(Ue,null,[ve("slot",n,r&&r())],64);let i=t[e];i&&i._c&&(i._d=!1),se();const o=i&&Nf(i(n)),a=Bt(Ue,{key:(n.key||o&&o.key||`_${e}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&t._===1?64:-2);return!s&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function Nf(t){return t.some(e=>Br(e)?!(e.type===ot||e.type===Ue&&!Nf(e.children)):!0)?t:null}function mA(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:io(r)]=t[r];return n}const eh=t=>t?Ev(t)?ea(t):eh(t.parent):null,co=ze(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>eh(t.parent),$root:t=>eh(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Df(t),$forceUpdate:t=>t.f||(t.f=()=>{Af(t.update)}),$nextTick:t=>t.n||(t.n=Qo.bind(t.proxy)),$watch:t=>KA.bind(t)}),_u=(t,e)=>t!==ke&&!t.__isScriptSetup&&Le(t,e),th={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(_u(r,e))return o[e]=1,r[e];if(s!==ke&&Le(s,e))return o[e]=2,s[e];if((u=t.propsOptions[0])&&Le(u,e))return o[e]=3,i[e];if(n!==ke&&Le(n,e))return o[e]=4,n[e];nh&&(o[e]=0)}}const h=co[e];let f,p;if(h)return e==="$attrs"&&Dt(t.attrs,"get",""),h(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(n!==ke&&Le(n,e))return o[e]=4,n[e];if(p=l.config.globalProperties,Le(p,e))return p[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return _u(s,e)?(s[e]=n,!0):r!==ke&&Le(r,e)?(r[e]=n,!0):Le(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||t!==ke&&Le(t,o)||_u(e,o)||(a=i[0])&&Le(a,o)||Le(r,o)||Le(co,o)||Le(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Le(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},gA=ze({},th,{get(t,e){if(e!==Symbol.unscopables)return th.get(t,e,t)},has(t,e){return e[0]!=="_"&&!jT(e)}});function _A(){return null}function yA(){return null}function vA(t){}function EA(t){}function wA(){return null}function bA(){}function TA(t,e){return null}function xf(){return By().slots}function IA(){return By().attrs}function By(){const t=en();return t.setupContext||(t.setupContext=Tv(t))}function Oo(t){return ie(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function AA(t,e){const n=Oo(t);for(const r in e){if(r.startsWith("__skip"))continue;let s=n[r];s?ie(s)||de(s)?s=n[r]={type:s,default:e[r]}:s.default=e[r]:s===null&&(s=n[r]={default:e[r]}),s&&e[`__skip_${r}`]&&(s.skipFactory=!0)}return n}function SA(t,e){return!t||!e?t||e:ie(t)&&ie(e)?t.concat(e):ze({},Oo(t),Oo(e))}function RA(t,e){const n={};for(const r in t)e.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>t[r]});return n}function CA(t){const e=en();let n=t();return ch(),hf(n)&&(n=n.catch(r=>{throw ms(e),r})),[n,()=>ms(e)]}let nh=!0;function PA(t){const e=Df(t),n=t.proxy,r=t.ctx;nh=!1,e.beforeCreate&&fm(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:u,created:h,beforeMount:f,mounted:p,beforeUpdate:g,updated:E,activated:R,deactivated:S,beforeDestroy:x,beforeUnmount:O,destroyed:_,unmounted:P,render:D,renderTracked:F,renderTriggered:T,errorCaptured:w,serverPrefetch:y,expose:b,inheritAttrs:k,components:C,directives:I,filters:me}=e;if(u&&OA(u,r,null),o)for(const pe in o){const te=o[pe];de(te)&&(r[pe]=te.bind(n))}if(s){const pe=s.call(n,n);$e(pe)&&(t.data=Bn(pe))}if(nh=!0,i)for(const pe in i){const te=i[pe],Ye=de(te)?te.bind(n,n):de(te.get)?te.get.bind(n,n):wn,gn=!de(te)&&de(te.set)?te.set.bind(n):wn,on=Ae({get:Ye,set:gn});Object.defineProperty(r,pe,{enumerable:!0,configurable:!0,get:()=>on.value,set:Xe=>on.value=Xe})}if(a)for(const pe in a)Hy(a[pe],r,n,pe);if(l){const pe=de(l)?l.call(n):l;Reflect.ownKeys(pe).forEach(te=>{lo(te,pe[te])})}h&&fm(h,t,"c");function ne(pe,te){ie(te)?te.forEach(Ye=>pe(Ye.bind(n))):te&&pe(te.bind(n))}if(ne(Pf,f),ne(pn,p),ne(Vy,g),ne(_l,E),ne(Ny,R),ne(xy,S),ne(Uy,w),ne(Fy,F),ne(Ly,T),ne(yl,O),ne(As,P),ne(My,y),ie(b))if(b.length){const pe=t.exposed||(t.exposed={});b.forEach(te=>{Object.defineProperty(pe,te,{get:()=>n[te],set:Ye=>n[te]=Ye})})}else t.exposed||(t.exposed={});D&&t.render===wn&&(t.render=D),k!=null&&(t.inheritAttrs=k),C&&(t.components=C),I&&(t.directives=I),y&&Cf(t)}function OA(t,e,n=wn){ie(t)&&(t=rh(t));for(const r in t){const s=t[r];let i;$e(s)?"default"in s?i=Yt(s.from||r,s.default,!0):i=Yt(s.from||r):i=Yt(s),ut(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function fm(t,e,n){fn(ie(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Hy(t,e,n,r){let s=r.includes(".")?lv(n,r):()=>n[r];if(We(t)){const i=e[t];de(i)&&st(s,i)}else if(de(t))st(s,t.bind(n));else if($e(t))if(ie(t))t.forEach(i=>Hy(i,e,n,r));else{const i=de(t.handler)?t.handler.bind(n):e[t.handler];de(i)&&st(s,i,t)}}function Df(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!s.length&&!n&&!r?l=e:(l={},s.length&&s.forEach(u=>Tc(l,u,o,!0)),Tc(l,e,o)),$e(e)&&i.set(e,l),l}function Tc(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&Tc(t,i,n,!0),s&&s.forEach(o=>Tc(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=kA[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const kA={data:dm,props:pm,emits:pm,methods:to,computed:to,beforeCreate:Ft,created:Ft,beforeMount:Ft,mounted:Ft,beforeUpdate:Ft,updated:Ft,beforeDestroy:Ft,beforeUnmount:Ft,destroyed:Ft,unmounted:Ft,activated:Ft,deactivated:Ft,errorCaptured:Ft,serverPrefetch:Ft,components:to,directives:to,watch:xA,provide:dm,inject:NA};function dm(t,e){return e?t?function(){return ze(de(t)?t.call(this,this):t,de(e)?e.call(this,this):e)}:e:t}function NA(t,e){return to(rh(t),rh(e))}function rh(t){if(ie(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Ft(t,e){return t?[...new Set([].concat(t,e))]:e}function to(t,e){return t?ze(Object.create(null),t,e):e}function pm(t,e){return t?ie(t)&&ie(e)?[...new Set([...t,...e])]:ze(Object.create(null),Oo(t),Oo(e??{})):e}function xA(t,e){if(!t)return e;if(!e)return t;const n=ze(Object.create(null),t);for(const r in e)n[r]=Ft(t[r],e[r]);return n}function qy(){return{app:null,config:{isNativeTag:xT,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let DA=0;function VA(t,e){return function(r,s=null){de(r)||(r=ze({},r)),s!=null&&!$e(s)&&(s=null);const i=qy(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:DA++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:Av,get config(){return i.config},set config(h){},use(h,...f){return o.has(h)||(h&&de(h.install)?(o.add(h),h.install(u,...f)):de(h)&&(o.add(h),h(u,...f))),u},mixin(h){return i.mixins.includes(h)||i.mixins.push(h),u},component(h,f){return f?(i.components[h]=f,u):i.components[h]},directive(h,f){return f?(i.directives[h]=f,u):i.directives[h]},mount(h,f,p){if(!l){const g=u._ceVNode||ve(r,s);return g.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),f&&e?e(g,h):t(g,h,p),l=!0,u._container=h,h.__vue_app__=u,ea(g.component)}},onUnmount(h){a.push(h)},unmount(){l&&(fn(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(h,f){return i.provides[h]=f,u},runWithContext(h){const f=cs;cs=u;try{return h()}finally{cs=f}}};return u}}let cs=null;function lo(t,e){if(at){let n=at.provides;const r=at.parent&&at.parent.provides;r===n&&(n=at.provides=Object.create(r)),n[t]=e}}function Yt(t,e,n=!1){const r=at||lt;if(r||cs){const s=cs?cs._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&de(e)?e.call(r&&r.proxy):e}}function MA(){return!!(at||lt||cs)}const Ky={},zy=()=>Object.create(Ky),Wy=t=>Object.getPrototypeOf(t)===Ky;function LA(t,e,n,r=!1){const s={},i=zy();t.propsDefaults=Object.create(null),Gy(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:vf(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function FA(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=Ce(s),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const h=t.vnode.dynamicProps;for(let f=0;f<h.length;f++){let p=h[f];if(vl(t.emitsOptions,p))continue;const g=e[p];if(l)if(Le(i,p))g!==i[p]&&(i[p]=g,u=!0);else{const E=Nt(p);s[E]=sh(l,a,E,g,t,!1)}else g!==i[p]&&(i[p]=g,u=!0)}}}else{Gy(t,e,s,i)&&(u=!0);let h;for(const f in a)(!e||!Le(e,f)&&((h=Gt(f))===f||!Le(e,h)))&&(l?n&&(n[f]!==void 0||n[h]!==void 0)&&(s[f]=sh(l,a,f,void 0,t,!0)):delete s[f]);if(i!==a)for(const f in i)(!e||!Le(e,f))&&(delete i[f],u=!0)}u&&er(t.attrs,"set","")}function Gy(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Ys(l))continue;const u=e[l];let h;s&&Le(s,h=Nt(l))?!i||!i.includes(h)?n[h]=u:(a||(a={}))[h]=u:vl(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=Ce(n),u=a||ke;for(let h=0;h<i.length;h++){const f=i[h];n[f]=sh(s,l,f,u[f],t,!Le(u,f))}}return o}function sh(t,e,n,r,s,i){const o=t[n];if(o!=null){const a=Le(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&de(l)){const{propsDefaults:u}=s;if(n in u)r=u[n];else{const h=ms(s);r=u[n]=l.call(null,e),h()}}else r=l;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Gt(n))&&(r=!0))}return r}const UA=new WeakMap;function Qy(t,e,n=!1){const r=n?UA:e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},a=[];let l=!1;if(!de(t)){const h=f=>{l=!0;const[p,g]=Qy(f,e,!0);ze(o,p),g&&a.push(...g)};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!i&&!l)return $e(t)&&r.set(t,Qs),Qs;if(ie(i))for(let h=0;h<i.length;h++){const f=Nt(i[h]);mm(f)&&(o[f]=ke)}else if(i)for(const h in i){const f=Nt(h);if(mm(f)){const p=i[h],g=o[f]=ie(p)||de(p)?{type:p}:ze({},p),E=g.type;let R=!1,S=!0;if(ie(E))for(let x=0;x<E.length;++x){const O=E[x],_=de(O)&&O.name;if(_==="Boolean"){R=!0;break}else _==="String"&&(S=!1)}else R=de(E)&&E.name==="Boolean";g[0]=R,g[1]=S,(R||Le(g,"default"))&&a.push(f)}}const u=[o,a];return $e(t)&&r.set(t,u),u}function mm(t){return t[0]!=="$"&&!Ys(t)}const Jy=t=>t[0]==="_"||t==="$stable",Vf=t=>ie(t)?t.map(Wt):[Wt(t)],jA=(t,e,n)=>{if(e._n)return e;const r=Je((...s)=>Vf(e(...s)),n);return r._c=!1,r},Yy=(t,e,n)=>{const r=t._ctx;for(const s in t){if(Jy(s))continue;const i=t[s];if(de(i))e[s]=jA(s,i,r);else if(i!=null){const o=Vf(i);e[s]=()=>o}}},Xy=(t,e)=>{const n=Vf(e);t.slots.default=()=>n},Zy=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},$A=(t,e,n)=>{const r=t.slots=zy();if(t.vnode.shapeFlag&32){const s=e._;s?(Zy(r,e,n),n&&G_(r,"_",s,!0)):Yy(e,r)}else e&&Xy(t,e)},BA=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=ke;if(r.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:Zy(s,e,n):(i=!e.$stable,Yy(e,s)),o=e}else e&&(Xy(t,e),o={default:1});if(i)for(const a in s)!Jy(a)&&o[a]==null&&delete s[a]},dt=dv;function ev(t){return nv(t)}function tv(t){return nv(t,eA)}function nv(t,e){const n=Q_();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:h,parentNode:f,nextSibling:p,setScopeId:g=wn,insertStaticContent:E}=t,R=(A,N,L,H=null,$=null,K=null,Y=void 0,Q=null,G=!!N.dynamicChildren)=>{if(A===N)return;A&&!yn(A,N)&&(H=B(A),Xe(A,$,K,!0),A=null),N.patchFlag===-2&&(G=!1,N.dynamicChildren=null);const{type:z,ref:le,shapeFlag:Z}=N;switch(z){case Vr:S(A,N,L,H);break;case ot:x(A,N,L,H);break;case ls:A==null&&O(N,L,H,Y);break;case Ue:C(A,N,L,H,$,K,Y,Q,G);break;default:Z&1?D(A,N,L,H,$,K,Y,Q,G):Z&6?I(A,N,L,H,$,K,Y,Q,G):(Z&64||Z&128)&&z.process(A,N,L,H,$,K,Y,Q,G,re)}le!=null&&$&&bc(le,A&&A.ref,K,N||A,!N)},S=(A,N,L,H)=>{if(A==null)r(N.el=a(N.children),L,H);else{const $=N.el=A.el;N.children!==A.children&&u($,N.children)}},x=(A,N,L,H)=>{A==null?r(N.el=l(N.children||""),L,H):N.el=A.el},O=(A,N,L,H)=>{[A.el,A.anchor]=E(A.children,N,L,H,A.el,A.anchor)},_=({el:A,anchor:N},L,H)=>{let $;for(;A&&A!==N;)$=p(A),r(A,L,H),A=$;r(N,L,H)},P=({el:A,anchor:N})=>{let L;for(;A&&A!==N;)L=p(A),s(A),A=L;s(N)},D=(A,N,L,H,$,K,Y,Q,G)=>{N.type==="svg"?Y="svg":N.type==="math"&&(Y="mathml"),A==null?F(N,L,H,$,K,Y,Q,G):y(A,N,$,K,Y,Q,G)},F=(A,N,L,H,$,K,Y,Q)=>{let G,z;const{props:le,shapeFlag:Z,transition:ce,dirs:oe}=A;if(G=A.el=o(A.type,K,le&&le.is,le),Z&8?h(G,A.children):Z&16&&w(A.children,G,null,H,$,yu(A,K),Y,Q),oe&&kn(A,null,H,"created"),T(G,A,A.scopeId,Y,H),le){for(const Me in le)Me!=="value"&&!Ys(Me)&&i(G,Me,null,le[Me],K,H);"value"in le&&i(G,"value",null,le.value,K),(z=le.onVnodeBeforeMount)&&Kt(z,H,A)}oe&&kn(A,null,H,"beforeMount");const fe=rv($,ce);fe&&ce.beforeEnter(G),r(G,N,L),((z=le&&le.onVnodeMounted)||fe||oe)&&dt(()=>{z&&Kt(z,H,A),fe&&ce.enter(G),oe&&kn(A,null,H,"mounted")},$)},T=(A,N,L,H,$)=>{if(L&&g(A,L),H)for(let K=0;K<H.length;K++)g(A,H[K]);if($){let K=$.subTree;if(N===K||Ac(K.type)&&(K.ssContent===N||K.ssFallback===N)){const Y=$.vnode;T(A,Y,Y.scopeId,Y.slotScopeIds,$.parent)}}},w=(A,N,L,H,$,K,Y,Q,G=0)=>{for(let z=G;z<A.length;z++){const le=A[z]=Q?Tr(A[z]):Wt(A[z]);R(null,le,N,L,H,$,K,Y,Q)}},y=(A,N,L,H,$,K,Y)=>{const Q=N.el=A.el;let{patchFlag:G,dynamicChildren:z,dirs:le}=N;G|=A.patchFlag&16;const Z=A.props||ke,ce=N.props||ke;let oe;if(L&&Zr(L,!1),(oe=ce.onVnodeBeforeUpdate)&&Kt(oe,L,N,A),le&&kn(N,A,L,"beforeUpdate"),L&&Zr(L,!0),(Z.innerHTML&&ce.innerHTML==null||Z.textContent&&ce.textContent==null)&&h(Q,""),z?b(A.dynamicChildren,z,Q,L,H,yu(N,$),K):Y||te(A,N,Q,null,L,H,yu(N,$),K,!1),G>0){if(G&16)k(Q,Z,ce,L,$);else if(G&2&&Z.class!==ce.class&&i(Q,"class",null,ce.class,$),G&4&&i(Q,"style",Z.style,ce.style,$),G&8){const fe=N.dynamicProps;for(let Me=0;Me<fe.length;Me++){const xe=fe[Me],Tt=Z[xe],ft=ce[xe];(ft!==Tt||xe==="value")&&i(Q,xe,Tt,ft,$,L)}}G&1&&A.children!==N.children&&h(Q,N.children)}else!Y&&z==null&&k(Q,Z,ce,L,$);((oe=ce.onVnodeUpdated)||le)&&dt(()=>{oe&&Kt(oe,L,N,A),le&&kn(N,A,L,"updated")},H)},b=(A,N,L,H,$,K,Y)=>{for(let Q=0;Q<N.length;Q++){const G=A[Q],z=N[Q],le=G.el&&(G.type===Ue||!yn(G,z)||G.shapeFlag&70)?f(G.el):L;R(G,z,le,null,H,$,K,Y,!0)}},k=(A,N,L,H,$)=>{if(N!==L){if(N!==ke)for(const K in N)!Ys(K)&&!(K in L)&&i(A,K,N[K],null,$,H);for(const K in L){if(Ys(K))continue;const Y=L[K],Q=N[K];Y!==Q&&K!=="value"&&i(A,K,Q,Y,$,H)}"value"in L&&i(A,"value",N.value,L.value,$)}},C=(A,N,L,H,$,K,Y,Q,G)=>{const z=N.el=A?A.el:a(""),le=N.anchor=A?A.anchor:a("");let{patchFlag:Z,dynamicChildren:ce,slotScopeIds:oe}=N;oe&&(Q=Q?Q.concat(oe):oe),A==null?(r(z,L,H),r(le,L,H),w(N.children||[],L,le,$,K,Y,Q,G)):Z>0&&Z&64&&ce&&A.dynamicChildren?(b(A.dynamicChildren,ce,L,$,K,Y,Q),(N.key!=null||$&&N===$.subTree)&&Mf(A,N,!0)):te(A,N,L,le,$,K,Y,Q,G)},I=(A,N,L,H,$,K,Y,Q,G)=>{N.slotScopeIds=Q,A==null?N.shapeFlag&512?$.ctx.activate(N,L,H,Y,G):me(N,L,H,$,K,Y,G):Se(A,N,G)},me=(A,N,L,H,$,K,Y)=>{const Q=A.component=vv(A,H,$);if(Jo(A)&&(Q.ctx.renderer=re),wv(Q,!1,Y),Q.asyncDep){if($&&$.registerDep(Q,ne,Y),!A.el){const G=Q.subTree=ve(ot);x(null,G,N,L)}}else ne(Q,A,N,L,$,K,Y)},Se=(A,N,L)=>{const H=N.component=A.component;if(YA(A,N,L))if(H.asyncDep&&!H.asyncResolved){pe(H,N,L);return}else H.next=N,H.update();else N.el=A.el,H.vnode=N},ne=(A,N,L,H,$,K,Y)=>{const Q=()=>{if(A.isMounted){let{next:Z,bu:ce,u:oe,parent:fe,vnode:Me}=A;{const It=sv(A);if(It){Z&&(Z.el=Me.el,pe(A,Z,Y)),It.asyncDep.then(()=>{A.isUnmounted||Q()});return}}let xe=Z,Tt;Zr(A,!1),Z?(Z.el=Me.el,pe(A,Z,Y)):Z=Me,ce&&Xs(ce),(Tt=Z.props&&Z.props.onVnodeBeforeUpdate)&&Kt(Tt,fe,Z,Me),Zr(A,!0);const ft=ec(A),_t=A.subTree;A.subTree=ft,R(_t,ft,f(_t.el),B(_t),A,$,K),Z.el=ft.el,xe===null&&Lf(A,ft.el),oe&&dt(oe,$),(Tt=Z.props&&Z.props.onVnodeUpdated)&&dt(()=>Kt(Tt,fe,Z,Me),$)}else{let Z;const{el:ce,props:oe}=N,{bm:fe,m:Me,parent:xe,root:Tt,type:ft}=A,_t=Dr(N);if(Zr(A,!1),fe&&Xs(fe),!_t&&(Z=oe&&oe.onVnodeBeforeMount)&&Kt(Z,xe,N),Zr(A,!0),ce&&je){const It=()=>{A.subTree=ec(A),je(ce,A.subTree,A,$,null)};_t&&ft.__asyncHydrate?ft.__asyncHydrate(ce,A,It):It()}else{Tt.ce&&Tt.ce._injectChildStyle(ft);const It=A.subTree=ec(A);R(null,It,L,H,A,$,K),N.el=It.el}if(Me&&dt(Me,$),!_t&&(Z=oe&&oe.onVnodeMounted)){const It=N;dt(()=>Kt(Z,xe,It),$)}(N.shapeFlag&256||xe&&Dr(xe.vnode)&&xe.vnode.shapeFlag&256)&&A.a&&dt(A.a,$),A.isMounted=!0,N=L=H=null}};A.scope.on();const G=A.effect=new Io(Q);A.scope.off();const z=A.update=G.run.bind(G),le=A.job=G.runIfDirty.bind(G);le.i=A,le.id=A.uid,G.scheduler=()=>Af(le),Zr(A,!0),z()},pe=(A,N,L)=>{N.component=A;const H=A.vnode.props;A.vnode=N,A.next=null,FA(A,N.props,H,L),BA(A,N.children,L),Wr(),im(A),Gr()},te=(A,N,L,H,$,K,Y,Q,G=!1)=>{const z=A&&A.children,le=A?A.shapeFlag:0,Z=N.children,{patchFlag:ce,shapeFlag:oe}=N;if(ce>0){if(ce&128){gn(z,Z,L,H,$,K,Y,Q,G);return}else if(ce&256){Ye(z,Z,L,H,$,K,Y,Q,G);return}}oe&8?(le&16&&qt(z,$,K),Z!==z&&h(L,Z)):le&16?oe&16?gn(z,Z,L,H,$,K,Y,Q,G):qt(z,$,K,!0):(le&8&&h(L,""),oe&16&&w(Z,L,H,$,K,Y,Q,G))},Ye=(A,N,L,H,$,K,Y,Q,G)=>{A=A||Qs,N=N||Qs;const z=A.length,le=N.length,Z=Math.min(z,le);let ce;for(ce=0;ce<Z;ce++){const oe=N[ce]=G?Tr(N[ce]):Wt(N[ce]);R(A[ce],oe,L,null,$,K,Y,Q,G)}z>le?qt(A,$,K,!0,!1,Z):w(N,L,H,$,K,Y,Q,G,Z)},gn=(A,N,L,H,$,K,Y,Q,G)=>{let z=0;const le=N.length;let Z=A.length-1,ce=le-1;for(;z<=Z&&z<=ce;){const oe=A[z],fe=N[z]=G?Tr(N[z]):Wt(N[z]);if(yn(oe,fe))R(oe,fe,L,null,$,K,Y,Q,G);else break;z++}for(;z<=Z&&z<=ce;){const oe=A[Z],fe=N[ce]=G?Tr(N[ce]):Wt(N[ce]);if(yn(oe,fe))R(oe,fe,L,null,$,K,Y,Q,G);else break;Z--,ce--}if(z>Z){if(z<=ce){const oe=ce+1,fe=oe<le?N[oe].el:H;for(;z<=ce;)R(null,N[z]=G?Tr(N[z]):Wt(N[z]),L,fe,$,K,Y,Q,G),z++}}else if(z>ce)for(;z<=Z;)Xe(A[z],$,K,!0),z++;else{const oe=z,fe=z,Me=new Map;for(z=fe;z<=ce;z++){const Mt=N[z]=G?Tr(N[z]):Wt(N[z]);Mt.key!=null&&Me.set(Mt.key,z)}let xe,Tt=0;const ft=ce-fe+1;let _t=!1,It=0;const ur=new Array(ft);for(z=0;z<ft;z++)ur[z]=0;for(z=oe;z<=Z;z++){const Mt=A[z];if(Tt>=ft){Xe(Mt,$,K,!0);continue}let an;if(Mt.key!=null)an=Me.get(Mt.key);else for(xe=fe;xe<=ce;xe++)if(ur[xe-fe]===0&&yn(Mt,N[xe])){an=xe;break}an===void 0?Xe(Mt,$,K,!0):(ur[an-fe]=z+1,an>=It?It=an:_t=!0,R(Mt,N[an],L,null,$,K,Y,Q,G),Tt++)}const Os=_t?HA(ur):Qs;for(xe=Os.length-1,z=ft-1;z>=0;z--){const Mt=fe+z,an=N[Mt],ks=Mt+1<le?N[Mt+1].el:H;ur[z]===0?R(null,an,L,ks,$,K,Y,Q,G):_t&&(xe<0||z!==Os[xe]?on(an,L,ks,2):xe--)}}},on=(A,N,L,H,$=null)=>{const{el:K,type:Y,transition:Q,children:G,shapeFlag:z}=A;if(z&6){on(A.component.subTree,N,L,H);return}if(z&128){A.suspense.move(N,L,H);return}if(z&64){Y.move(A,N,L,re);return}if(Y===Ue){r(K,N,L);for(let Z=0;Z<G.length;Z++)on(G[Z],N,L,H);r(A.anchor,N,L);return}if(Y===ls){_(A,N,L);return}if(H!==2&&z&1&&Q)if(H===0)Q.beforeEnter(K),r(K,N,L),dt(()=>Q.enter(K),$);else{const{leave:Z,delayLeave:ce,afterLeave:oe}=Q,fe=()=>r(K,N,L),Me=()=>{Z(K,()=>{fe(),oe&&oe()})};ce?ce(K,fe,Me):Me()}else r(K,N,L)},Xe=(A,N,L,H=!1,$=!1)=>{const{type:K,props:Y,ref:Q,children:G,dynamicChildren:z,shapeFlag:le,patchFlag:Z,dirs:ce,cacheIndex:oe}=A;if(Z===-2&&($=!1),Q!=null&&bc(Q,null,L,A,!0),oe!=null&&(N.renderCache[oe]=void 0),le&256){N.ctx.deactivate(A);return}const fe=le&1&&ce,Me=!Dr(A);let xe;if(Me&&(xe=Y&&Y.onVnodeBeforeUnmount)&&Kt(xe,N,A),le&6)Rn(A.component,L,H);else{if(le&128){A.suspense.unmount(L,H);return}fe&&kn(A,null,N,"beforeUnmount"),le&64?A.type.remove(A,N,L,re,H):z&&!z.hasOnce&&(K!==Ue||Z>0&&Z&64)?qt(z,N,L,!1,!0):(K===Ue&&Z&384||!$&&le&16)&&qt(G,N,L),H&&Ze(A)}(Me&&(xe=Y&&Y.onVnodeUnmounted)||fe)&&dt(()=>{xe&&Kt(xe,N,A),fe&&kn(A,null,N,"unmounted")},L)},Ze=A=>{const{type:N,el:L,anchor:H,transition:$}=A;if(N===Ue){lr(L,H);return}if(N===ls){P(A);return}const K=()=>{s(L),$&&!$.persisted&&$.afterLeave&&$.afterLeave()};if(A.shapeFlag&1&&$&&!$.persisted){const{leave:Y,delayLeave:Q}=$,G=()=>Y(L,K);Q?Q(A.el,K,G):G()}else K()},lr=(A,N)=>{let L;for(;A!==N;)L=p(A),s(A),A=L;s(N)},Rn=(A,N,L)=>{const{bum:H,scope:$,job:K,subTree:Y,um:Q,m:G,a:z}=A;Ic(G),Ic(z),H&&Xs(H),$.stop(),K&&(K.flags|=8,Xe(Y,A,N,L)),Q&&dt(Q,N),dt(()=>{A.isUnmounted=!0},N),N&&N.pendingBranch&&!N.isUnmounted&&A.asyncDep&&!A.asyncResolved&&A.suspenseId===N.pendingId&&(N.deps--,N.deps===0&&N.resolve())},qt=(A,N,L,H=!1,$=!1,K=0)=>{for(let Y=K;Y<A.length;Y++)Xe(A[Y],N,L,H,$)},B=A=>{if(A.shapeFlag&6)return B(A.component.subTree);if(A.shapeFlag&128)return A.suspense.next();const N=p(A.anchor||A.el),L=N&&N[Ay];return L?p(L):N};let ee=!1;const X=(A,N,L)=>{A==null?N._vnode&&Xe(N._vnode,null,null,!0):R(N._vnode||null,A,N,null,null,null,L),N._vnode=A,ee||(ee=!0,im(),wc(),ee=!1)},re={p:R,um:Xe,m:on,r:Ze,mt:me,mc:w,pc:te,pbc:b,n:B,o:t};let Pe,je;return e&&([Pe,je]=e(re)),{render:X,hydrate:Pe,createApp:VA(X,Pe)}}function yu({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Zr({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function rv(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Mf(t,e,n=!1){const r=t.children,s=e.children;if(ie(r)&&ie(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=Tr(s[i]),a.el=o.el),!n&&a.patchFlag!==-2&&Mf(o,a)),a.type===Vr&&(a.el=o.el)}}function HA(t){const e=t.slice(),n=[0];let r,s,i,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(s=n[n.length-1],t[s]<u){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<u?i=a+1:o=a;u<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function sv(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:sv(e)}function Ic(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const iv=Symbol.for("v-scx"),ov=()=>Yt(iv);function qA(t,e){return Xo(t,null,e)}function av(t,e){return Xo(t,null,{flush:"post"})}function cv(t,e){return Xo(t,null,{flush:"sync"})}function st(t,e,n){return Xo(t,e,n)}function Xo(t,e,n=ke){const{immediate:r,deep:s,flush:i,once:o}=n,a=ze({},n);let l;if(Zo)if(i==="sync"){const p=ov();l=p.__watcherHandles||(p.__watcherHandles=[])}else if(!e||r)a.once=!0;else return{stop:wn,resume:wn,pause:wn};const u=at;a.call=(p,g,E)=>fn(p,u,g,E);let h=!1;i==="post"?a.scheduler=p=>{dt(p,u&&u.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(p,g)=>{g?p():Af(p)}),a.augmentJob=p=>{e&&(p.flags|=4),h&&(p.flags|=2,u&&(p.id=u.uid,p.i=u))};const f=DI(t,e,a);return l&&l.push(f),f}function KA(t,e,n){const r=this.proxy,s=We(t)?t.includes(".")?lv(r,t):()=>r[t]:t.bind(r,r);let i;de(e)?i=e:(i=e.handler,n=e);const o=ms(this),a=Xo(s,i.bind(r),n);return o(),a}function lv(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function zA(t,e,n=ke){const r=en(),s=Nt(e),i=Gt(e),o=uv(t,e),a=_y((l,u)=>{let h,f=ke,p;return cv(()=>{const g=t[e];jt(h,g)&&(h=g,u())}),{get(){return l(),n.get?n.get(h):h},set(g){const E=n.set?n.set(g):g;if(!jt(E,h)&&!(f!==ke&&jt(g,f)))return;const R=r.vnode.props;R&&(e in R||s in R||i in R)&&(`onUpdate:${e}`in R||`onUpdate:${s}`in R||`onUpdate:${i}`in R)||(h=g,u()),r.emit(`update:${e}`,E),jt(g,E)&&jt(g,f)&&!jt(E,p)&&u(),f=g,p=E}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||ke:a,done:!1}:{done:!0}}}},a}const uv=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Nt(e)}Modifiers`]||t[`${Gt(e)}Modifiers`];function WA(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||ke;let s=n;const i=e.startsWith("update:"),o=i&&uv(r,e.slice(7));o&&(o.trim&&(s=n.map(h=>We(h)?h.trim():h)),o.number&&(s=n.map(gc)));let a,l=r[a=io(e)]||r[a=io(Nt(e))];!l&&i&&(l=r[a=io(Gt(e))]),l&&fn(l,t,6,s);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,fn(u,t,6,s)}}function hv(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!de(t)){const l=u=>{const h=hv(u,e,!0);h&&(a=!0,ze(o,h))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?($e(t)&&r.set(t,null),null):(ie(i)?i.forEach(l=>o[l]=null):ze(o,i),$e(t)&&r.set(t,o),o)}function vl(t,e){return!t||!zo(e)?!1:(e=e.slice(2).replace(/Once$/,""),Le(t,e[0].toLowerCase()+e.slice(1))||Le(t,Gt(e))||Le(t,e))}function ec(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:h,props:f,data:p,setupState:g,ctx:E,inheritAttrs:R}=t,S=Po(t);let x,O;try{if(n.shapeFlag&4){const P=s||r,D=P;x=Wt(u.call(D,P,h,f,g,p,E)),O=a}else{const P=e;x=Wt(P.length>1?P(f,{attrs:a,slots:o,emit:l}):P(f,null)),O=e.props?a:QA(a)}}catch(P){uo.length=0,Ts(P,t,1),x=ve(ot)}let _=x;if(O&&R!==!1){const P=Object.keys(O),{shapeFlag:D}=_;P.length&&D&7&&(i&&P.some(lf)&&(O=JA(O,i)),_=Un(_,O,!1,!0))}return n.dirs&&(_=Un(_,null,!1,!0),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&tr(_,n.transition),x=_,Po(S),x}function GA(t,e=!0){let n;for(let r=0;r<t.length;r++){const s=t[r];if(Br(s)){if(s.type!==ot||s.children==="v-if"){if(n)return;n=s}}else return}return n}const QA=t=>{let e;for(const n in t)(n==="class"||n==="style"||zo(n))&&((e||(e={}))[n]=t[n]);return e},JA=(t,e)=>{const n={};for(const r in t)(!lf(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function YA(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?gm(r,o,u):!!o;if(l&8){const h=e.dynamicProps;for(let f=0;f<h.length;f++){const p=h[f];if(o[p]!==r[p]&&!vl(u,p))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?gm(r,o,u):!0:!!o;return!1}function gm(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!vl(n,i))return!0}return!1}function Lf({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Ac=t=>t.__isSuspense;let ih=0;const XA={name:"Suspense",__isSuspense:!0,process(t,e,n,r,s,i,o,a,l,u){if(t==null)eS(e,n,r,s,i,o,a,l,u);else{if(i&&i.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}tS(t,e,n,r,s,o,a,l,u)}},hydrate:nS,normalize:rS},ZA=XA;function ko(t,e){const n=t.props&&t.props[e];de(n)&&n()}function eS(t,e,n,r,s,i,o,a,l){const{p:u,o:{createElement:h}}=l,f=h("div"),p=t.suspense=fv(t,s,r,e,f,n,i,o,a,l);u(null,p.pendingBranch=t.ssContent,f,null,r,p,i,o),p.deps>0?(ko(t,"onPending"),ko(t,"onFallback"),u(null,t.ssFallback,e,n,r,null,i,o),ei(p,t.ssFallback)):p.resolve(!1,!0)}function tS(t,e,n,r,s,i,o,a,{p:l,um:u,o:{createElement:h}}){const f=e.suspense=t.suspense;f.vnode=e,e.el=t.el;const p=e.ssContent,g=e.ssFallback,{activeBranch:E,pendingBranch:R,isInFallback:S,isHydrating:x}=f;if(R)f.pendingBranch=p,yn(p,R)?(l(R,p,f.hiddenContainer,null,s,f,i,o,a),f.deps<=0?f.resolve():S&&(x||(l(E,g,n,r,s,null,i,o,a),ei(f,g)))):(f.pendingId=ih++,x?(f.isHydrating=!1,f.activeBranch=R):u(R,s,f),f.deps=0,f.effects.length=0,f.hiddenContainer=h("div"),S?(l(null,p,f.hiddenContainer,null,s,f,i,o,a),f.deps<=0?f.resolve():(l(E,g,n,r,s,null,i,o,a),ei(f,g))):E&&yn(p,E)?(l(E,p,n,r,s,f,i,o,a),f.resolve(!0)):(l(null,p,f.hiddenContainer,null,s,f,i,o,a),f.deps<=0&&f.resolve()));else if(E&&yn(p,E))l(E,p,n,r,s,f,i,o,a),ei(f,p);else if(ko(e,"onPending"),f.pendingBranch=p,p.shapeFlag&512?f.pendingId=p.component.suspenseId:f.pendingId=ih++,l(null,p,f.hiddenContainer,null,s,f,i,o,a),f.deps<=0)f.resolve();else{const{timeout:O,pendingId:_}=f;O>0?setTimeout(()=>{f.pendingId===_&&f.fallback(g)},O):O===0&&f.fallback(g)}}function fv(t,e,n,r,s,i,o,a,l,u,h=!1){const{p:f,m:p,um:g,n:E,o:{parentNode:R,remove:S}}=u;let x;const O=sS(t);O&&e&&e.pendingBranch&&(x=e.pendingId,e.deps++);const _=t.props?_c(t.props.timeout):void 0,P=i,D={vnode:t,parent:e,parentComponent:n,namespace:o,container:r,hiddenContainer:s,deps:0,pendingId:ih++,timeout:typeof _=="number"?_:-1,activeBranch:null,pendingBranch:null,isInFallback:!h,isHydrating:h,isUnmounted:!1,effects:[],resolve(F=!1,T=!1){const{vnode:w,activeBranch:y,pendingBranch:b,pendingId:k,effects:C,parentComponent:I,container:me}=D;let Se=!1;D.isHydrating?D.isHydrating=!1:F||(Se=y&&b.transition&&b.transition.mode==="out-in",Se&&(y.transition.afterLeave=()=>{k===D.pendingId&&(p(b,me,i===P?E(y):i,0),Ec(C))}),y&&(R(y.el)===me&&(i=E(y)),g(y,I,D,!0)),Se||p(b,me,i,0)),ei(D,b),D.pendingBranch=null,D.isInFallback=!1;let ne=D.parent,pe=!1;for(;ne;){if(ne.pendingBranch){ne.effects.push(...C),pe=!0;break}ne=ne.parent}!pe&&!Se&&Ec(C),D.effects=[],O&&e&&e.pendingBranch&&x===e.pendingId&&(e.deps--,e.deps===0&&!T&&e.resolve()),ko(w,"onResolve")},fallback(F){if(!D.pendingBranch)return;const{vnode:T,activeBranch:w,parentComponent:y,container:b,namespace:k}=D;ko(T,"onFallback");const C=E(w),I=()=>{D.isInFallback&&(f(null,F,b,C,y,null,k,a,l),ei(D,F))},me=F.transition&&F.transition.mode==="out-in";me&&(w.transition.afterLeave=I),D.isInFallback=!0,g(w,y,null,!0),me||I()},move(F,T,w){D.activeBranch&&p(D.activeBranch,F,T,w),D.container=F},next(){return D.activeBranch&&E(D.activeBranch)},registerDep(F,T,w){const y=!!D.pendingBranch;y&&D.deps++;const b=F.vnode.el;F.asyncDep.catch(k=>{Ts(k,F,0)}).then(k=>{if(F.isUnmounted||D.isUnmounted||D.pendingId!==F.suspenseId)return;F.asyncResolved=!0;const{vnode:C}=F;lh(F,k,!1),b&&(C.el=b);const I=!b&&F.subTree.el;T(F,C,R(b||F.subTree.el),b?null:E(F.subTree),D,o,w),I&&S(I),Lf(F,C.el),y&&--D.deps===0&&D.resolve()})},unmount(F,T){D.isUnmounted=!0,D.activeBranch&&g(D.activeBranch,n,F,T),D.pendingBranch&&g(D.pendingBranch,n,F,T)}};return D}function nS(t,e,n,r,s,i,o,a,l){const u=e.suspense=fv(e,r,n,t.parentNode,document.createElement("div"),null,s,i,o,a,!0),h=l(t,u.pendingBranch=e.ssContent,n,u,i,o);return u.deps===0&&u.resolve(!1,!0),h}function rS(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=_m(r?n.default:n),t.ssFallback=r?_m(n.fallback):ve(ot)}function _m(t){let e;if(de(t)){const n=ps&&t._c;n&&(t._d=!1,se()),t=t(),n&&(t._d=!0,e=kt,pv())}return ie(t)&&(t=GA(t)),t=Wt(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function dv(t,e){e&&e.pendingBranch?ie(t)?e.effects.push(...t):e.effects.push(t):Ec(t)}function ei(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let s=e.el;for(;!s&&e.component;)e=e.component.subTree,s=e.el;n.el=s,r&&r.subTree===n&&(r.vnode.el=s,Lf(r,s))}function sS(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const Ue=Symbol.for("v-fgt"),Vr=Symbol.for("v-txt"),ot=Symbol.for("v-cmt"),ls=Symbol.for("v-stc"),uo=[];let kt=null;function se(t=!1){uo.push(kt=t?null:[])}function pv(){uo.pop(),kt=uo[uo.length-1]||null}let ps=1;function oh(t){ps+=t,t<0&&kt&&(kt.hasOnce=!0)}function mv(t){return t.dynamicChildren=ps>0?kt||Qs:null,pv(),ps>0&&kt&&kt.push(t),t}function ge(t,e,n,r,s,i){return mv(M(t,e,n,r,s,i,!0))}function Bt(t,e,n,r,s){return mv(ve(t,e,n,r,s,!0))}function Br(t){return t?t.__v_isVNode===!0:!1}function yn(t,e){return t.type===e.type&&t.key===e.key}function iS(t){}const gv=({key:t})=>t??null,tc=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?We(t)||ut(t)||de(t)?{i:lt,r:t,k:e,f:!!n}:t:null);function M(t,e=null,n=null,r=0,s=null,i=t===Ue?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&gv(e),ref:e&&tc(e),scopeId:pl,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:lt};return a?(Uf(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=We(n)?8:16),ps>0&&!o&&kt&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&kt.push(l),l}const ve=oS;function oS(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===jy)&&(t=ot),Br(t)){const a=Un(t,e,!0);return n&&Uf(a,n),ps>0&&!i&&kt&&(a.shapeFlag&6?kt[kt.indexOf(t)]=a:kt.push(a)),a.patchFlag=-2,a}if(dS(t)&&(t=t.__vccOpts),e){e=_v(e);let{class:a,style:l}=e;a&&!We(a)&&(e.class=Fn(a)),$e(l)&&(dl(l)&&!ie(l)&&(l=ze({},l)),e.style=Go(l))}const o=We(t)?1:Ac(t)?128:Sy(t)?64:$e(t)?4:de(t)?2:0;return M(t,e,n,r,s,o,i,!0)}function _v(t){return t?dl(t)||Wy(t)?ze({},t):t:null}function Un(t,e,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?yv(s||{},e):s,h={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&gv(u),ref:e&&e.ref?n&&i?ie(i)?i.concat(tc(e)):[i,tc(e)]:tc(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ue?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Un(t.ssContent),ssFallback:t.ssFallback&&Un(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&tr(h,l.clone(h)),h}function mt(t=" ",e=0){return ve(Vr,null,t,e)}function Ff(t,e){const n=ve(ls,null,t);return n.staticCount=e,n}function gt(t="",e=!1){return e?(se(),Bt(ot,null,t)):ve(ot,null,t)}function Wt(t){return t==null||typeof t=="boolean"?ve(ot):ie(t)?ve(Ue,null,t.slice()):typeof t=="object"?Tr(t):ve(Vr,null,String(t))}function Tr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Un(t)}function Uf(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(ie(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),Uf(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!Wy(e)?e._ctx=lt:s===3&&lt&&(lt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else de(e)?(e={default:e,_ctx:lt},n=32):(e=String(e),r&64?(n=16,e=[mt(e)]):n=8);t.children=e,t.shapeFlag|=n}function yv(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=Fn([e.class,r.class]));else if(s==="style")e.style=Go([e.style,r.style]);else if(zo(s)){const i=e[s],o=r[s];o&&i!==o&&!(ie(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function Kt(t,e,n,r=null){fn(t,e,7,[n,r])}const aS=qy();let cS=0;function vv(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||aS,i={uid:cS++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new df(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Qy(r,s),emitsOptions:hv(r,s),emit:null,emitted:null,propsDefaults:ke,inheritAttrs:r.inheritAttrs,ctx:ke,data:ke,props:ke,attrs:ke,slots:ke,refs:ke,setupState:ke,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=WA.bind(null,i),t.ce&&t.ce(i),i}let at=null;const en=()=>at||lt;let Sc,ah;{const t=Q_(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};Sc=e("__VUE_INSTANCE_SETTERS__",n=>at=n),ah=e("__VUE_SSR_SETTERS__",n=>Zo=n)}const ms=t=>{const e=at;return Sc(t),t.scope.on(),()=>{t.scope.off(),Sc(e)}},ch=()=>{at&&at.scope.off(),Sc(null)};function Ev(t){return t.vnode.shapeFlag&4}let Zo=!1;function wv(t,e=!1,n=!1){e&&ah(e);const{props:r,children:s}=t.vnode,i=Ev(t);LA(t,r,i,e),$A(t,s,n);const o=i?lS(t,e):void 0;return e&&ah(!1),o}function lS(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,th);const{setup:r}=n;if(r){const s=t.setupContext=r.length>1?Tv(t):null,i=ms(t);Wr();const o=Ti(r,t,0,[t.props,s]);if(Gr(),i(),hf(o)){if(Dr(t)||Cf(t),o.then(ch,ch),e)return o.then(a=>{lh(t,a,e)}).catch(a=>{Ts(a,t,0)});t.asyncDep=o}else lh(t,o,e)}else bv(t,e)}function lh(t,e,n){de(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:$e(e)&&(t.setupState=Tf(e)),bv(t,n)}let Rc,uh;function uS(t){Rc=t,uh=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,gA))}}const hS=()=>!Rc;function bv(t,e,n){const r=t.type;if(!t.render){if(!e&&Rc&&!r.render){const s=r.template||Df(t).template;if(s){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=ze(ze({isCustomElement:i,delimiters:a},o),l);r.render=Rc(s,u)}}t.render=r.render||wn,uh&&uh(t)}{const s=ms(t);Wr();try{PA(t)}finally{Gr(),s()}}}const fS={get(t,e){return Dt(t,"get",""),t[e]}};function Tv(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,fS),slots:t.slots,emit:t.emit,expose:e}}function ea(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Tf(my(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in co)return co[n](t)},has(e,n){return n in e||n in co}})):t.proxy}function hh(t,e=!0){return de(t)?t.displayName||t.name:t.name||e&&t.__name}function dS(t){return de(t)&&"__vccOpts"in t}const Ae=(t,e)=>OI(t,e,Zo);function Ii(t,e,n){const r=arguments.length;return r===2?$e(e)&&!ie(e)?Br(e)?ve(t,null,[e]):ve(t,e):ve(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Br(n)&&(n=[n]),ve(t,e,n))}function pS(){}function mS(t,e,n,r){const s=n[r];if(s&&Iv(s,t))return s;const i=e();return i.memo=t.slice(),i.cacheIndex=r,n[r]=i}function Iv(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(jt(n[r],e[r]))return!1;return ps>0&&kt&&kt.push(t),!0}const Av="3.5.5",gS=wn,_S=UI,yS=Bs,vS=Iy,ES={createComponentInstance:vv,setupComponent:wv,renderComponentRoot:ec,setCurrentRenderingInstance:Po,isVNode:Br,normalizeVNode:Wt,getComponentPublicInstance:ea,ensureValidVNode:Nf,pushWarningContext:VI,popWarningContext:MI},wS=ES,bS=null,TS=null,IS=null;/**
* @vue/runtime-dom v3.5.5
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let fh;const ym=typeof window<"u"&&window.trustedTypes;if(ym)try{fh=ym.createPolicy("vue",{createHTML:t=>t})}catch{}const Sv=fh?t=>fh.createHTML(t):t=>t,AS="http://www.w3.org/2000/svg",SS="http://www.w3.org/1998/Math/MathML",Gn=typeof document<"u"?document:null,vm=Gn&&Gn.createElement("template"),RS={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?Gn.createElementNS(AS,t):e==="mathml"?Gn.createElementNS(SS,t):n?Gn.createElement(t,{is:n}):Gn.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>Gn.createTextNode(t),createComment:t=>Gn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Gn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{vm.innerHTML=Sv(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=vm.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},mr="transition",Qi="animation",ci=Symbol("_vtc"),Rv={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Cv=ze({},Rf,Rv),CS=t=>(t.displayName="Transition",t.props=Cv,t),Pr=CS((t,{slots:e})=>Ii(Oy,Pv(t),e)),es=(t,e=[])=>{ie(t)?t.forEach(n=>n(...e)):t&&t(...e)},Em=t=>t?ie(t)?t.some(e=>e.length>1):t.length>1:!1;function Pv(t){const e={};for(const C in t)C in Rv||(e[C]=t[C]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:u=o,appearToClass:h=a,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:g=`${n}-leave-to`}=t,E=PS(s),R=E&&E[0],S=E&&E[1],{onBeforeEnter:x,onEnter:O,onEnterCancelled:_,onLeave:P,onLeaveCancelled:D,onBeforeAppear:F=x,onAppear:T=O,onAppearCancelled:w=_}=e,y=(C,I,me)=>{vr(C,I?h:a),vr(C,I?u:o),me&&me()},b=(C,I)=>{C._isLeaving=!1,vr(C,f),vr(C,g),vr(C,p),I&&I()},k=C=>(I,me)=>{const Se=C?T:O,ne=()=>y(I,C,me);es(Se,[I,ne]),wm(()=>{vr(I,C?l:i),Wn(I,C?h:a),Em(Se)||bm(I,r,R,ne)})};return ze(e,{onBeforeEnter(C){es(x,[C]),Wn(C,i),Wn(C,o)},onBeforeAppear(C){es(F,[C]),Wn(C,l),Wn(C,u)},onEnter:k(!1),onAppear:k(!0),onLeave(C,I){C._isLeaving=!0;const me=()=>b(C,I);Wn(C,f),Wn(C,p),kv(),wm(()=>{C._isLeaving&&(vr(C,f),Wn(C,g),Em(P)||bm(C,r,S,me))}),es(P,[C,me])},onEnterCancelled(C){y(C,!1),es(_,[C])},onAppearCancelled(C){y(C,!0),es(w,[C])},onLeaveCancelled(C){b(C),es(D,[C])}})}function PS(t){if(t==null)return null;if($e(t))return[vu(t.enter),vu(t.leave)];{const e=vu(t);return[e,e]}}function vu(t){return _c(t)}function Wn(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[ci]||(t[ci]=new Set)).add(e)}function vr(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[ci];n&&(n.delete(e),n.size||(t[ci]=void 0))}function wm(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let OS=0;function bm(t,e,n,r){const s=t._endId=++OS,i=()=>{s===t._endId&&r()};if(n)return setTimeout(i,n);const{type:o,timeout:a,propCount:l}=Ov(t,e);if(!o)return r();const u=o+"end";let h=0;const f=()=>{t.removeEventListener(u,p),i()},p=g=>{g.target===t&&++h>=l&&f()};setTimeout(()=>{h<l&&f()},a+1),t.addEventListener(u,p)}function Ov(t,e){const n=window.getComputedStyle(t),r=E=>(n[E]||"").split(", "),s=r(`${mr}Delay`),i=r(`${mr}Duration`),o=Tm(s,i),a=r(`${Qi}Delay`),l=r(`${Qi}Duration`),u=Tm(a,l);let h=null,f=0,p=0;e===mr?o>0&&(h=mr,f=o,p=i.length):e===Qi?u>0&&(h=Qi,f=u,p=l.length):(f=Math.max(o,u),h=f>0?o>u?mr:Qi:null,p=h?h===mr?i.length:l.length:0);const g=h===mr&&/\b(transform|all)(,|$)/.test(r(`${mr}Property`).toString());return{type:h,timeout:f,propCount:p,hasTransform:g}}function Tm(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>Im(n)+Im(t[r])))}function Im(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function kv(){return document.body.offsetHeight}function kS(t,e,n){const r=t[ci];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Cc=Symbol("_vod"),Nv=Symbol("_vsh"),jf={beforeMount(t,{value:e},{transition:n}){t[Cc]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Ji(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Ji(t,!0),r.enter(t)):r.leave(t,()=>{Ji(t,!1)}):Ji(t,e))},beforeUnmount(t,{value:e}){Ji(t,e)}};function Ji(t,e){t.style.display=e?t[Cc]:"none",t[Nv]=!e}function NS(){jf.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const xv=Symbol("");function xS(t){const e=en();if(!e)return;const n=e.ut=(s=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(i=>Pc(i,s))},r=()=>{const s=t(e.proxy);e.ce?Pc(e.ce,s):dh(e.subTree,s),n(s)};Pf(()=>{av(r)}),pn(()=>{const s=new MutationObserver(r);s.observe(e.subTree.el.parentNode,{childList:!0}),As(()=>s.disconnect())})}function dh(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{dh(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Pc(t.el,e);else if(t.type===Ue)t.children.forEach(n=>dh(n,e));else if(t.type===ls){let{el:n,anchor:r}=t;for(;n&&(Pc(n,e),n!==r);)n=n.nextSibling}}function Pc(t,e){if(t.nodeType===1){const n=t.style;let r="";for(const s in e)n.setProperty(`--${s}`,e[s]),r+=`--${s}: ${e[s]};`;n[xv]=r}}const DS=/(^|;)\s*display\s*:/;function VS(t,e,n){const r=t.style,s=We(n);let i=!1;if(n&&!s){if(e)if(We(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&nc(r,a,"")}else for(const o in e)n[o]==null&&nc(r,o,"");for(const o in n)o==="display"&&(i=!0),nc(r,o,n[o])}else if(s){if(e!==n){const o=r[xv];o&&(n+=";"+o),r.cssText=n,i=DS.test(n)}}else e&&t.removeAttribute("style");Cc in t&&(t[Cc]=i?r.display:"",t[Nv]&&(r.display="none"))}const Am=/\s*!important$/;function nc(t,e,n){if(ie(n))n.forEach(r=>nc(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=MS(t,e);Am.test(n)?t.setProperty(Gt(r),n.replace(Am,""),"important"):t[r]=n}}const Sm=["Webkit","Moz","ms"],Eu={};function MS(t,e){const n=Eu[e];if(n)return n;let r=Nt(e);if(r!=="filter"&&r in t)return Eu[e]=r;r=Wo(r);for(let s=0;s<Sm.length;s++){const i=Sm[s]+r;if(i in t)return Eu[e]=i}return e}const Rm="http://www.w3.org/1999/xlink";function Cm(t,e,n,r,s,i=WT(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Rm,e.slice(6,e.length)):t.setAttributeNS(Rm,e,n):n==null||i&&!J_(n)?t.removeAttribute(e):t.setAttribute(e,i?"":Ln(n)?String(n):n)}function LS(t,e,n,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Sv(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const o=s==="OPTION"?t.getAttribute("value")||"":t.value,a=n==null?t.type==="checkbox"?"on":"":String(n);(o!==a||!("_value"in t))&&(t.value=a),n==null&&t.removeAttribute(e),t._value=n;return}let i=!1;if(n===""||n==null){const o=typeof t[e];o==="boolean"?n=J_(n):n==null&&o==="string"?(n="",i=!0):o==="number"&&(n=0,i=!0)}try{t[e]=n}catch{}i&&t.removeAttribute(e)}function Jn(t,e,n,r){t.addEventListener(e,n,r)}function FS(t,e,n,r){t.removeEventListener(e,n,r)}const Pm=Symbol("_vei");function US(t,e,n,r,s=null){const i=t[Pm]||(t[Pm]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=jS(e);if(r){const u=i[e]=HS(r,s);Jn(t,a,u,l)}else o&&(FS(t,a,o,l),i[e]=void 0)}}const Om=/(?:Once|Passive|Capture)$/;function jS(t){let e;if(Om.test(t)){e={};let r;for(;r=t.match(Om);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Gt(t.slice(2)),e]}let wu=0;const $S=Promise.resolve(),BS=()=>wu||($S.then(()=>wu=0),wu=Date.now());function HS(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;fn(qS(r,n.value),e,5,[r])};return n.value=t,n.attached=BS(),n}function qS(t,e){if(ie(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const km=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,KS=(t,e,n,r,s,i)=>{const o=s==="svg";e==="class"?kS(t,r,o):e==="style"?VS(t,n,r):zo(e)?lf(e)||US(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):zS(t,e,r,o))?(LS(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Cm(t,e,r,o,i,e!=="value")):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Cm(t,e,r,o))};function zS(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&km(e)&&de(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return km(e)&&We(n)?!1:!!(e in t||t._isVueCE&&(/[A-Z]/.test(e)||!We(n)))}const Nm={};/*! #__NO_SIDE_EFFECTS__ */function Dv(t,e,n){const r=Is(t,e);il(r)&&ze(r,e);class s extends El{constructor(o){super(r,o,n)}}return s.def=r,s}/*! #__NO_SIDE_EFFECTS__ */const WS=(t,e)=>Dv(t,e,zv),GS=typeof HTMLElement<"u"?HTMLElement:class{};class El extends GS{constructor(e,n={},r=Nc){super(),this._def=e,this._props=n,this._createApp=r,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&r!==Nc?this._root=this.shadowRoot:e.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof El){this._parent=e;break}this._instance||(this._resolved?(this._setParent(),this._update()):e&&e._pendingResolve?this._pendingResolve=e._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._instance.provides=e._instance.provides)}disconnectedCallback(){this._connected=!1,Qo(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const s of r)this._setAttr(s.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(r,s=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:i,styles:o}=r;let a;if(i&&!ie(i))for(const l in i){const u=i[l];(u===Number||u&&u.type===Number)&&(l in this._props&&(this._props[l]=_c(this._props[l])),(a||(a=Object.create(null)))[Nt(l)]=!0)}this._numberProps=a,s&&this._resolveProps(r),this.shadowRoot&&this._applyStyles(o),this._mount(r)},n=this._def.__asyncLoader;n?this._pendingResolve=n().then(r=>e(this._def=r,!0)):e(this._def)}_mount(e){this._app=this._createApp(e),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const n=this._instance&&this._instance.exposed;if(n)for(const r in n)Le(this,r)||Object.defineProperty(this,r,{get:()=>xt(n[r])})}_resolveProps(e){const{props:n}=e,r=ie(n)?n:Object.keys(n||{});for(const s of Object.keys(this))s[0]!=="_"&&r.includes(s)&&this._setProp(s,this[s]);for(const s of r.map(Nt))Object.defineProperty(this,s,{get(){return this._getProp(s)},set(i){this._setProp(s,i,!0,!0)}})}_setAttr(e){if(e.startsWith("data-v-"))return;const n=this.hasAttribute(e);let r=n?this.getAttribute(e):Nm;const s=Nt(e);n&&this._numberProps&&this._numberProps[s]&&(r=_c(r)),this._setProp(s,r,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,n,r=!0,s=!1){n!==this._props[e]&&(n===Nm?delete this._props[e]:(this._props[e]=n,e==="key"&&this._app&&(this._app._ceVNode.key=n)),s&&this._instance&&this._update(),r&&(n===!0?this.setAttribute(Gt(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(Gt(e),n+""):n||this.removeAttribute(Gt(e))))}_update(){Kv(this._createVNode(),this._root)}_createVNode(){const e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));const n=ve(this._def,ze(e,this._props));return this._instance||(n.ce=r=>{this._instance=r,r.ce=this,r.isCE=!0;const s=(i,o)=>{this.dispatchEvent(new CustomEvent(i,il(o[0])?ze({detail:o},o[0]):{detail:o}))};r.emit=(i,...o)=>{s(i,o),Gt(i)!==i&&s(Gt(i),o)},this._setParent()}),n}_applyStyles(e,n){if(!e)return;if(n){if(n===this._def||this._styleChildren.has(n))return;this._styleChildren.add(n)}const r=this._nonce;for(let s=e.length-1;s>=0;s--){const i=document.createElement("style");r&&i.setAttribute("nonce",r),i.textContent=e[s],this.shadowRoot.prepend(i)}}_parseSlots(){const e=this._slots={};let n;for(;n=this.firstChild;){const r=n.nodeType===1&&n.getAttribute("slot")||"default";(e[r]||(e[r]=[])).push(n),this.removeChild(n)}}_renderSlots(){const e=(this._teleportTarget||this).querySelectorAll("slot"),n=this._instance.type.__scopeId;for(let r=0;r<e.length;r++){const s=e[r],i=s.getAttribute("name")||"default",o=this._slots[i],a=s.parentNode;if(o)for(const l of o){if(n&&l.nodeType===1){const u=n+"-s",h=document.createTreeWalker(l,1);l.setAttribute(u,"");let f;for(;f=h.nextNode();)f.setAttribute(u,"")}a.insertBefore(l,s)}else for(;s.firstChild;)a.insertBefore(s.firstChild,s);a.removeChild(s)}}_injectChildStyle(e){this._applyStyles(e.styles,e)}_removeChildStyle(e){}}function Vv(t){const e=en(),n=e&&e.ce;return n||null}function QS(){const t=Vv();return t&&t.shadowRoot}function JS(t="$style"){{const e=en();if(!e)return ke;const n=e.type.__cssModules;if(!n)return ke;const r=n[t];return r||ke}}const Mv=new WeakMap,Lv=new WeakMap,Oc=Symbol("_moveCb"),xm=Symbol("_enterCb"),YS=t=>(delete t.props.mode,t),XS=YS({name:"TransitionGroup",props:ze({},Cv,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=en(),r=Sf();let s,i;return _l(()=>{if(!s.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!nR(s[0].el,n.vnode.el,o))return;s.forEach(ZS),s.forEach(eR);const a=s.filter(tR);kv(),a.forEach(l=>{const u=l.el,h=u.style;Wn(u,o),h.transform=h.webkitTransform=h.transitionDuration="";const f=u[Oc]=p=>{p&&p.target!==u||(!p||/transform$/.test(p.propertyName))&&(u.removeEventListener("transitionend",f),u[Oc]=null,vr(u,o))};u.addEventListener("transitionend",f)})}),()=>{const o=Ce(t),a=Pv(o);let l=o.tag||Ue;if(s=[],i)for(let u=0;u<i.length;u++){const h=i[u];h.el&&h.el instanceof Element&&(s.push(h),tr(h,ai(h,a,r,n)),Mv.set(h,h.el.getBoundingClientRect()))}i=e.default?ml(e.default()):[];for(let u=0;u<i.length;u++){const h=i[u];h.key!=null&&tr(h,ai(h,a,r,n))}return ve(l,null,i)}}}),Fv=XS;function ZS(t){const e=t.el;e[Oc]&&e[Oc](),e[xm]&&e[xm]()}function eR(t){Lv.set(t,t.el.getBoundingClientRect())}function tR(t){const e=Mv.get(t),n=Lv.get(t),r=e.left-n.left,s=e.top-n.top;if(r||s){const i=t.el.style;return i.transform=i.webkitTransform=`translate(${r}px,${s}px)`,i.transitionDuration="0s",t}}function nR(t,e,n){const r=t.cloneNode(),s=t[ci];s&&s.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(r);const{hasTransform:o}=Ov(r);return i.removeChild(r),o}const Hr=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ie(e)?n=>Xs(e,n):e};function rR(t){t.target.composing=!0}function Dm(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const un=Symbol("_assign"),Jt={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[un]=Hr(s);const i=r||s.props&&s.props.type==="number";Jn(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=gc(a)),t[un](a)}),n&&Jn(t,"change",()=>{t.value=t.value.trim()}),e||(Jn(t,"compositionstart",rR),Jn(t,"compositionend",Dm),Jn(t,"change",Dm))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(t[un]=Hr(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?gc(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===l)||(t.value=l))}},$f={deep:!0,created(t,e,n){t[un]=Hr(n),Jn(t,"change",()=>{const r=t._modelValue,s=li(t),i=t.checked,o=t[un];if(ie(r)){const a=al(r,s),l=a!==-1;if(i&&!l)o(r.concat(s));else if(!i&&l){const u=[...r];u.splice(a,1),o(u)}}else if(bs(r)){const a=new Set(r);i?a.add(s):a.delete(s),o(a)}else o(Uv(t,i))})},mounted:Vm,beforeUpdate(t,e,n){t[un]=Hr(n),Vm(t,e,n)}};function Vm(t,{value:e,oldValue:n},r){t._modelValue=e;let s;ie(e)?s=al(e,r.props.value)>-1:bs(e)?s=e.has(r.props.value):s=jr(e,Uv(t,!0)),t.checked!==s&&(t.checked=s)}const Bf={created(t,{value:e},n){t.checked=jr(e,n.props.value),t[un]=Hr(n),Jn(t,"change",()=>{t[un](li(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[un]=Hr(r),e!==n&&(t.checked=jr(e,r.props.value))}},kc={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const s=bs(e);Jn(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?gc(li(o)):li(o));t[un](t.multiple?s?new Set(i):i:i[0]),t._assigning=!0,Qo(()=>{t._assigning=!1})}),t[un]=Hr(r)},mounted(t,{value:e,modifiers:{number:n}}){Mm(t,e)},beforeUpdate(t,e,n){t[un]=Hr(n)},updated(t,{value:e,modifiers:{number:n}}){t._assigning||Mm(t,e)}};function Mm(t,e,n){const r=t.multiple,s=ie(e);if(!(r&&!s&&!bs(e))){for(let i=0,o=t.options.length;i<o;i++){const a=t.options[i],l=li(a);if(r)if(s){const u=typeof l;u==="string"||u==="number"?a.selected=e.some(h=>String(h)===String(l)):a.selected=al(e,l)>-1}else a.selected=e.has(l);else if(jr(li(a),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function li(t){return"_value"in t?t._value:t.value}function Uv(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const jv={created(t,e,n){qa(t,e,n,null,"created")},mounted(t,e,n){qa(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){qa(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){qa(t,e,n,r,"updated")}};function $v(t,e){switch(t){case"SELECT":return kc;case"TEXTAREA":return Jt;default:switch(e){case"checkbox":return $f;case"radio":return Bf;default:return Jt}}}function qa(t,e,n,r,s){const o=$v(t.tagName,n.props&&n.props.type)[s];o&&o(t,e,n,r)}function sR(){Jt.getSSRProps=({value:t})=>({value:t}),Bf.getSSRProps=({value:t},e)=>{if(e.props&&jr(e.props.value,t))return{checked:!0}},$f.getSSRProps=({value:t},e)=>{if(ie(t)){if(e.props&&al(t,e.props.value)>-1)return{checked:!0}}else if(bs(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},jv.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=$v(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const iR=["ctrl","shift","alt","meta"],oR={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>iR.some(n=>t[`${n}Key`]&&!e.includes(n))},us=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(s,...i)=>{for(let o=0;o<e.length;o++){const a=oR[e[o]];if(a&&a(s,e))return}return t(s,...i)})},aR={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ph=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=s=>{if(!("key"in s))return;const i=Gt(s.key);if(e.some(o=>o===i||aR[o]===i))return t(s)})},Bv=ze({patchProp:KS},RS);let ho,Lm=!1;function Hv(){return ho||(ho=ev(Bv))}function qv(){return ho=Lm?ho:tv(Bv),Lm=!0,ho}const Kv=(...t)=>{Hv().render(...t)},cR=(...t)=>{qv().hydrate(...t)},Nc=(...t)=>{const e=Hv().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=Gv(r);if(!s)return;const i=e._component;!de(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,Wv(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e},zv=(...t)=>{const e=qv().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=Gv(r);if(s)return n(s,!0,Wv(s))},e};function Wv(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Gv(t){return We(t)?document.querySelector(t):t}let Fm=!1;const lR=()=>{Fm||(Fm=!0,sR(),NS())};/**
* vue v3.5.5
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const uR=()=>{},hR=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:Oy,BaseTransitionPropsValidators:Rf,Comment:ot,DeprecationTypes:IS,EffectScope:df,ErrorCodes:FI,ErrorTypeStrings:_S,Fragment:Ue,KeepAlive:lA,ReactiveEffect:Io,Static:ls,Suspense:ZA,Teleport:GI,Text:Vr,TrackOpTypes:kI,Transition:Pr,TransitionGroup:Fv,TriggerOpTypes:NI,VueElement:El,assertNumber:LI,callWithAsyncErrorHandling:fn,callWithErrorHandling:Ti,camelize:Nt,capitalize:Wo,cloneVNode:Un,compatUtils:TS,compile:uR,computed:Ae,createApp:Nc,createBlock:Bt,createCommentVNode:gt,createElementBlock:ge,createElementVNode:M,createHydrationRenderer:tv,createPropsRestProxy:RA,createRenderer:ev,createSSRApp:zv,createSlots:dA,createStaticVNode:Ff,createTextVNode:mt,createVNode:ve,customRef:_y,defineAsyncComponent:aA,defineComponent:Is,defineCustomElement:Dv,defineEmits:yA,defineExpose:vA,defineModel:bA,defineOptions:EA,defineProps:_A,defineSSRCustomElement:WS,defineSlots:wA,devtools:yS,effect:JT,effectScope:Z_,getCurrentInstance:en,getCurrentScope:pf,getCurrentWatcher:xI,getTransitionRawChildren:ml,guardReactiveProps:_v,h:Ii,handleError:Ts,hasInjectionContext:MA,hydrate:cR,hydrateOnIdle:nA,hydrateOnInteraction:iA,hydrateOnMediaQuery:sA,hydrateOnVisible:rA,initCustomFormatter:pS,initDirectivesForSSR:lR,inject:Yt,isMemoSame:Iv,isProxy:dl,isReactive:xr,isReadonly:$r,isRef:ut,isRuntimeOnly:hS,isShallow:rn,isVNode:Br,markRaw:my,mergeDefaults:AA,mergeModels:SA,mergeProps:yv,nextTick:Qo,normalizeClass:Fn,normalizeProps:KT,normalizeStyle:Go,onActivated:Ny,onBeforeMount:Pf,onBeforeUnmount:yl,onBeforeUpdate:Vy,onDeactivated:xy,onErrorCaptured:Uy,onMounted:pn,onRenderTracked:Fy,onRenderTriggered:Ly,onScopeDispose:ey,onServerPrefetch:My,onUnmounted:As,onUpdated:_l,onWatcherCleanup:vy,openBlock:se,popScopeId:HI,provide:lo,proxyRefs:Tf,pushScopeId:BI,queuePostFlushCb:Ec,reactive:Bn,readonly:Ef,ref:_e,registerRuntimeCompiler:uS,render:Kv,renderList:vn,renderSlot:pA,resolveComponent:Yo,resolveDirective:fA,resolveDynamicComponent:$y,resolveFilter:bS,resolveTransitionHooks:ai,setBlockTracking:oh,setDevtoolsHook:vS,setTransitionHooks:tr,shallowReactive:vf,shallowReadonly:vI,shallowRef:bf,ssrContextKey:iv,ssrUtils:wS,stop:YT,toDisplayString:Qe,toHandlerKey:io,toHandlers:mA,toRaw:Ce,toRef:CI,toRefs:AI,toValue:bI,transformVNodeArgs:iS,triggerRef:wI,unref:xt,useAttrs:IA,useCssModule:JS,useCssVars:xS,useHost:Vv,useId:JI,useModel:zA,useSSRContext:ov,useShadowRoot:QS,useSlots:xf,useTemplateRef:YI,useTransitionState:Sf,vModelCheckbox:$f,vModelDynamic:jv,vModelRadio:Bf,vModelSelect:kc,vModelText:Jt,vShow:jf,version:Av,warn:gS,watch:st,watchEffect:qA,watchPostEffect:av,watchSyncEffect:cv,withAsyncContext:CA,withCtx:Je,withDefaults:TA,withDirectives:Qt,withKeys:ph,withMemo:mS,withModifiers:us,withScopeId:qI},Symbol.toStringTag,{value:"Module"}));function fR(){return Qv().__VUE_DEVTOOLS_GLOBAL_HOOK__}function Qv(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const dR=typeof Proxy=="function",pR="devtools-plugin:setup",mR="plugin:settings:set";let Fs,mh;function Jv(){var t;return Fs!==void 0||(typeof window<"u"&&window.performance?(Fs=!0,mh=window.performance):typeof globalThis<"u"&&(!((t=globalThis.perf_hooks)===null||t===void 0)&&t.performance)?(Fs=!0,mh=globalThis.perf_hooks.performance):Fs=!1),Fs}function Yv(){return Jv()?mh.now():Date.now()}class gR{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const r={};if(e.settings)for(const o in e.settings){const a=e.settings[o];r[o]=a.defaultValue}const s=`__vue-devtools-plugin-settings__${e.id}`;let i=Object.assign({},r);try{const o=localStorage.getItem(s),a=JSON.parse(o);Object.assign(i,a)}catch{}this.fallbacks={getSettings(){return i},setSettings(o){try{localStorage.setItem(s,JSON.stringify(o))}catch{}i=o},now(){return Yv()}},n&&n.on(mR,(o,a)=>{o===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(o,a)=>this.target?this.target.on[a]:(...l)=>{this.onQueue.push({method:a,args:l})}}),this.proxiedTarget=new Proxy({},{get:(o,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...l)=>(this.targetQueue.push({method:a,args:l,resolve:()=>{}}),this.fallbacks[a](...l)):(...l)=>new Promise(u=>{this.targetQueue.push({method:a,args:l,resolve:u})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function Xv(t,e){const n=t,r=Qv(),s=fR(),i=dR&&n.enableEarlyProxy;if(s&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!i))s.emit(pR,t,e);else{const o=i?new gR(n,s):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:o}),o&&e(o.proxiedTarget)}}const _R=Object.freeze(Object.defineProperty({__proto__:null,isPerformanceSupported:Jv,now:Yv,setupDevtoolsPlugin:Xv},Symbol.toStringTag,{value:"Module"}));/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var Zv="store";function Hf(t){return t===void 0&&(t=null),Yt(t!==null?t:Zv)}function Ai(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function yR(t){return t!==null&&typeof t=="object"}function vR(t){return t&&typeof t.then=="function"}function ER(t,e){return function(){return t(e)}}function eE(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var r=e.indexOf(t);r>-1&&e.splice(r,1)}}function tE(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;wl(t,n,[],t._modules.root,!0),qf(t,n,e)}function qf(t,e,n){var r=t._state,s=t._scope;t.getters={},t._makeLocalGettersCache=Object.create(null);var i=t._wrappedGetters,o={},a={},l=Z_(!0);l.run(function(){Ai(i,function(u,h){o[h]=ER(u,t),a[h]=Ae(function(){return o[h]()}),Object.defineProperty(t.getters,h,{get:function(){return a[h].value},enumerable:!0})})}),t._state=Bn({data:e}),t._scope=l,t.strict&&AR(t),r&&n&&t._withCommit(function(){r.data=null}),s&&s.stop()}function wl(t,e,n,r,s){var i=!n.length,o=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[o],t._modulesNamespaceMap[o]=r),!i&&!s){var a=Kf(e,n.slice(0,-1)),l=n[n.length-1];t._withCommit(function(){a[l]=r.state})}var u=r.context=wR(t,o,n);r.forEachMutation(function(h,f){var p=o+f;bR(t,p,h,u)}),r.forEachAction(function(h,f){var p=h.root?f:o+f,g=h.handler||h;TR(t,p,g,u)}),r.forEachGetter(function(h,f){var p=o+f;IR(t,p,h,u)}),r.forEachChild(function(h,f){wl(t,e,n.concat(f),h,s)})}function wR(t,e,n){var r=e==="",s={dispatch:r?t.dispatch:function(i,o,a){var l=xc(i,o,a),u=l.payload,h=l.options,f=l.type;return(!h||!h.root)&&(f=e+f),t.dispatch(f,u)},commit:r?t.commit:function(i,o,a){var l=xc(i,o,a),u=l.payload,h=l.options,f=l.type;(!h||!h.root)&&(f=e+f),t.commit(f,u,h)}};return Object.defineProperties(s,{getters:{get:r?function(){return t.getters}:function(){return nE(t,e)}},state:{get:function(){return Kf(t.state,n)}}}),s}function nE(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach(function(s){if(s.slice(0,r)===e){var i=s.slice(r);Object.defineProperty(n,i,{get:function(){return t.getters[s]},enumerable:!0})}}),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function bR(t,e,n,r){var s=t._mutations[e]||(t._mutations[e]=[]);s.push(function(o){n.call(t,r.state,o)})}function TR(t,e,n,r){var s=t._actions[e]||(t._actions[e]=[]);s.push(function(o){var a=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},o);return vR(a)||(a=Promise.resolve(a)),t._devtoolHook?a.catch(function(l){throw t._devtoolHook.emit("vuex:error",l),l}):a})}function IR(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(i){return n(r.state,r.getters,i.state,i.getters)})}function AR(t){st(function(){return t._state.data},function(){},{deep:!0,flush:"sync"})}function Kf(t,e){return e.reduce(function(n,r){return n[r]},t)}function xc(t,e,n){return yR(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}var SR="vuex bindings",Um="vuex:mutations",bu="vuex:actions",Us="vuex",RR=0;function CR(t,e){Xv({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[SR]},function(n){n.addTimelineLayer({id:Um,label:"Vuex Mutations",color:jm}),n.addTimelineLayer({id:bu,label:"Vuex Actions",color:jm}),n.addInspector({id:Us,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===t&&r.inspectorId===Us)if(r.filter){var s=[];oE(s,e._modules.root,r.filter,""),r.rootNodes=s}else r.rootNodes=[iE(e._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===t&&r.inspectorId===Us){var s=r.nodeId;nE(e,s),r.state=kR(xR(e._modules,s),s==="root"?e.getters:e._makeLocalGettersCache,s)}}),n.on.editInspectorState(function(r){if(r.app===t&&r.inspectorId===Us){var s=r.nodeId,i=r.path;s!=="root"&&(i=s.split("/").filter(Boolean).concat(i)),e._withCommit(function(){r.set(e._state.data,i,r.state.value)})}}),e.subscribe(function(r,s){var i={};r.payload&&(i.payload=r.payload),i.state=s,n.notifyComponentUpdate(),n.sendInspectorTree(Us),n.sendInspectorState(Us),n.addTimelineEvent({layerId:Um,event:{time:Date.now(),title:r.type,data:i}})}),e.subscribeAction({before:function(r,s){var i={};r.payload&&(i.payload=r.payload),r._id=RR++,r._time=Date.now(),i.state=s,n.addTimelineEvent({layerId:bu,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:i}})},after:function(r,s){var i={},o=Date.now()-r._time;i.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},r.payload&&(i.payload=r.payload),i.state=s,n.addTimelineEvent({layerId:bu,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:i}})}})})}var jm=8702998,PR=6710886,OR=16777215,rE={label:"namespaced",textColor:OR,backgroundColor:PR};function sE(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function iE(t,e){return{id:e||"root",label:sE(e),tags:t.namespaced?[rE]:[],children:Object.keys(t._children).map(function(n){return iE(t._children[n],e+n+"/")})}}function oE(t,e,n,r){r.includes(n)&&t.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:e.namespaced?[rE]:[]}),Object.keys(e._children).forEach(function(s){oE(t,e._children[s],n,r+s+"/")})}function kR(t,e,n){e=n==="root"?e:e[n];var r=Object.keys(e),s={state:Object.keys(t.state).map(function(o){return{key:o,editable:!0,value:t.state[o]}})};if(r.length){var i=NR(e);s.getters=Object.keys(i).map(function(o){return{key:o.endsWith("/")?sE(o):o,editable:!1,value:gh(function(){return i[o]})}})}return s}function NR(t){var e={};return Object.keys(t).forEach(function(n){var r=n.split("/");if(r.length>1){var s=e,i=r.pop();r.forEach(function(o){s[o]||(s[o]={_custom:{value:{},display:o,tooltip:"Module",abstract:!0}}),s=s[o]._custom.value}),s[i]=gh(function(){return t[n]})}else e[n]=gh(function(){return t[n]})}),e}function xR(t,e){var n=e.split("/").filter(function(r){return r});return n.reduce(function(r,s,i){var o=r[s];if(!o)throw new Error('Missing module "'+s+'" for path "'+e+'".');return i===n.length-1?o:o._children},e==="root"?t:t.root._children)}function gh(t){try{return t()}catch(e){return e}}var In=function(e,n){this.runtime=n,this._children=Object.create(null),this._rawModule=e;var r=e.state;this.state=(typeof r=="function"?r():r)||{}},aE={namespaced:{configurable:!0}};aE.namespaced.get=function(){return!!this._rawModule.namespaced};In.prototype.addChild=function(e,n){this._children[e]=n};In.prototype.removeChild=function(e){delete this._children[e]};In.prototype.getChild=function(e){return this._children[e]};In.prototype.hasChild=function(e){return e in this._children};In.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};In.prototype.forEachChild=function(e){Ai(this._children,e)};In.prototype.forEachGetter=function(e){this._rawModule.getters&&Ai(this._rawModule.getters,e)};In.prototype.forEachAction=function(e){this._rawModule.actions&&Ai(this._rawModule.actions,e)};In.prototype.forEachMutation=function(e){this._rawModule.mutations&&Ai(this._rawModule.mutations,e)};Object.defineProperties(In.prototype,aE);var Ss=function(e){this.register([],e,!1)};Ss.prototype.get=function(e){return e.reduce(function(n,r){return n.getChild(r)},this.root)};Ss.prototype.getNamespace=function(e){var n=this.root;return e.reduce(function(r,s){return n=n.getChild(s),r+(n.namespaced?s+"/":"")},"")};Ss.prototype.update=function(e){cE([],this.root,e)};Ss.prototype.register=function(e,n,r){var s=this;r===void 0&&(r=!0);var i=new In(n,r);if(e.length===0)this.root=i;else{var o=this.get(e.slice(0,-1));o.addChild(e[e.length-1],i)}n.modules&&Ai(n.modules,function(a,l){s.register(e.concat(l),a,r)})};Ss.prototype.unregister=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1],s=n.getChild(r);s&&s.runtime&&n.removeChild(r)};Ss.prototype.isRegistered=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1];return n?n.hasChild(r):!1};function cE(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return;cE(t.concat(r),e.getChild(r),n.modules[r])}}function DR(t){return new tn(t)}var tn=function(e){var n=this;e===void 0&&(e={});var r=e.plugins;r===void 0&&(r=[]);var s=e.strict;s===void 0&&(s=!1);var i=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Ss(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=i;var o=this,a=this,l=a.dispatch,u=a.commit;this.dispatch=function(p,g){return l.call(o,p,g)},this.commit=function(p,g,E){return u.call(o,p,g,E)},this.strict=s;var h=this._modules.root.state;wl(this,h,[],this._modules.root),qf(this,h),r.forEach(function(f){return f(n)})},zf={state:{configurable:!0}};tn.prototype.install=function(e,n){e.provide(n||Zv,this),e.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&CR(e,this)};zf.state.get=function(){return this._state.data};zf.state.set=function(t){};tn.prototype.commit=function(e,n,r){var s=this,i=xc(e,n,r),o=i.type,a=i.payload,l={type:o,payload:a},u=this._mutations[o];u&&(this._withCommit(function(){u.forEach(function(f){f(a)})}),this._subscribers.slice().forEach(function(h){return h(l,s.state)}))};tn.prototype.dispatch=function(e,n){var r=this,s=xc(e,n),i=s.type,o=s.payload,a={type:i,payload:o},l=this._actions[i];if(l){try{this._actionSubscribers.slice().filter(function(h){return h.before}).forEach(function(h){return h.before(a,r.state)})}catch{}var u=l.length>1?Promise.all(l.map(function(h){return h(o)})):l[0](o);return new Promise(function(h,f){u.then(function(p){try{r._actionSubscribers.filter(function(g){return g.after}).forEach(function(g){return g.after(a,r.state)})}catch{}h(p)},function(p){try{r._actionSubscribers.filter(function(g){return g.error}).forEach(function(g){return g.error(a,r.state,p)})}catch{}f(p)})})}};tn.prototype.subscribe=function(e,n){return eE(e,this._subscribers,n)};tn.prototype.subscribeAction=function(e,n){var r=typeof e=="function"?{before:e}:e;return eE(r,this._actionSubscribers,n)};tn.prototype.watch=function(e,n,r){var s=this;return st(function(){return e(s.state,s.getters)},n,Object.assign({},r))};tn.prototype.replaceState=function(e){var n=this;this._withCommit(function(){n._state.data=e})};tn.prototype.registerModule=function(e,n,r){r===void 0&&(r={}),typeof e=="string"&&(e=[e]),this._modules.register(e,n),wl(this,this.state,e,this._modules.get(e),r.preserveState),qf(this,this.state)};tn.prototype.unregisterModule=function(e){var n=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var r=Kf(n.state,e.slice(0,-1));delete r[e[e.length-1]]}),tE(this)};tn.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};tn.prototype.hotUpdate=function(e){this._modules.update(e),tE(this,!0)};tn.prototype._withCommit=function(e){var n=this._committing;this._committing=!0,e(),this._committing=n};Object.defineProperties(tn.prototype,zf);const VR="/Cook-Castle/logo.png";/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Hs=typeof document<"u";function lE(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function MR(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&lE(t.default)}const Fe=Object.assign;function Tu(t,e){const n={};for(const r in e){const s=e[r];n[r]=Tn(s)?s.map(t):t(s)}return n}const fo=()=>{},Tn=Array.isArray,uE=/#/g,LR=/&/g,FR=/\//g,UR=/=/g,jR=/\?/g,hE=/\+/g,$R=/%5B/g,BR=/%5D/g,fE=/%5E/g,HR=/%60/g,dE=/%7B/g,qR=/%7C/g,pE=/%7D/g,KR=/%20/g;function Wf(t){return encodeURI(""+t).replace(qR,"|").replace($R,"[").replace(BR,"]")}function zR(t){return Wf(t).replace(dE,"{").replace(pE,"}").replace(fE,"^")}function _h(t){return Wf(t).replace(hE,"%2B").replace(KR,"+").replace(uE,"%23").replace(LR,"%26").replace(HR,"`").replace(dE,"{").replace(pE,"}").replace(fE,"^")}function WR(t){return _h(t).replace(UR,"%3D")}function GR(t){return Wf(t).replace(uE,"%23").replace(jR,"%3F")}function QR(t){return t==null?"":GR(t).replace(FR,"%2F")}function No(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const JR=/\/$/,YR=t=>t.replace(JR,"");function Iu(t,e,n="/"){let r,s={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),s=t(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=t1(r??e,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:No(o)}}function XR(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function $m(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function ZR(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&ui(e.matched[r],n.matched[s])&&mE(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function ui(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function mE(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!e1(t[n],e[n]))return!1;return!0}function e1(t,e){return Tn(t)?Bm(t,e):Tn(e)?Bm(e,t):t===e}function Bm(t,e){return Tn(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function t1(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const gr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var xo;(function(t){t.pop="pop",t.push="push"})(xo||(xo={}));var po;(function(t){t.back="back",t.forward="forward",t.unknown=""})(po||(po={}));function n1(t){if(!t)if(Hs){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),YR(t)}const r1=/^[^#]+#/;function s1(t,e){return t.replace(r1,"#")+e}function i1(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const bl=()=>({left:window.scrollX,top:window.scrollY});function o1(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=i1(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Hm(t,e){return(history.state?history.state.position-e:-1)+t}const yh=new Map;function a1(t,e){yh.set(t,e)}function c1(t){const e=yh.get(t);return yh.delete(t),e}let l1=()=>location.protocol+"//"+location.host;function gE(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let a=s.includes(t.slice(i))?t.slice(i).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),$m(l,"")}return $m(n,t)+r+s}function u1(t,e,n,r){let s=[],i=[],o=null;const a=({state:p})=>{const g=gE(t,location),E=n.value,R=e.value;let S=0;if(p){if(n.value=g,e.value=p,o&&o===E){o=null;return}S=R?p.position-R.position:0}else r(g);s.forEach(x=>{x(n.value,E,{delta:S,type:xo.pop,direction:S?S>0?po.forward:po.back:po.unknown})})};function l(){o=n.value}function u(p){s.push(p);const g=()=>{const E=s.indexOf(p);E>-1&&s.splice(E,1)};return i.push(g),g}function h(){const{history:p}=window;p.state&&p.replaceState(Fe({},p.state,{scroll:bl()}),"")}function f(){for(const p of i)p();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:l,listen:u,destroy:f}}function qm(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?bl():null}}function h1(t){const{history:e,location:n}=window,r={value:gE(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,u,h){const f=t.indexOf("#"),p=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+l:l1()+t+l;try{e[h?"replaceState":"pushState"](u,"",p),s.value=u}catch(g){console.error(g),n[h?"replace":"assign"](p)}}function o(l,u){const h=Fe({},e.state,qm(s.value.back,l,s.value.forward,!0),u,{position:s.value.position});i(l,h,!0),r.value=l}function a(l,u){const h=Fe({},s.value,e.state,{forward:l,scroll:bl()});i(h.current,h,!0);const f=Fe({},qm(r.value,l,null),{position:h.position+1},u);i(l,f,!1),r.value=l}return{location:r,state:s,push:a,replace:o}}function f1(t){t=n1(t);const e=h1(t),n=u1(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=Fe({location:"",base:t,go:r,createHref:s1.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function d1(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),f1(t)}function p1(t){return typeof t=="string"||t&&typeof t=="object"}function _E(t){return typeof t=="string"||typeof t=="symbol"}const yE=Symbol("");var Km;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Km||(Km={}));function hi(t,e){return Fe(new Error,{type:t,[yE]:!0},e)}function zn(t,e){return t instanceof Error&&yE in t&&(e==null||!!(t.type&e))}const zm="[^/]+?",m1={sensitive:!1,strict:!1,start:!0,end:!0},g1=/[.+*?^${}()[\]/\\]/g;function _1(t,e){const n=Fe({},m1,e),r=[];let s=n.start?"^":"";const i=[];for(const u of t){const h=u.length?[]:[90];n.strict&&!u.length&&(s+="/");for(let f=0;f<u.length;f++){const p=u[f];let g=40+(n.sensitive?.25:0);if(p.type===0)f||(s+="/"),s+=p.value.replace(g1,"\\$&"),g+=40;else if(p.type===1){const{value:E,repeatable:R,optional:S,regexp:x}=p;i.push({name:E,repeatable:R,optional:S});const O=x||zm;if(O!==zm){g+=10;try{new RegExp(`(${O})`)}catch(P){throw new Error(`Invalid custom RegExp for param "${E}" (${O}): `+P.message)}}let _=R?`((?:${O})(?:/(?:${O}))*)`:`(${O})`;f||(_=S&&u.length<2?`(?:/${_})`:"/"+_),S&&(_+="?"),s+=_,g+=20,S&&(g+=-8),R&&(g+=-20),O===".*"&&(g+=-50)}h.push(g)}r.push(h)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(u){const h=u.match(o),f={};if(!h)return null;for(let p=1;p<h.length;p++){const g=h[p]||"",E=i[p-1];f[E.name]=g&&E.repeatable?g.split("/"):g}return f}function l(u){let h="",f=!1;for(const p of t){(!f||!h.endsWith("/"))&&(h+="/"),f=!1;for(const g of p)if(g.type===0)h+=g.value;else if(g.type===1){const{value:E,repeatable:R,optional:S}=g,x=E in u?u[E]:"";if(Tn(x)&&!R)throw new Error(`Provided param "${E}" is an array but it is not repeatable (* or + modifiers)`);const O=Tn(x)?x.join("/"):x;if(!O)if(S)p.length<2&&(h.endsWith("/")?h=h.slice(0,-1):f=!0);else throw new Error(`Missing required param "${E}"`);h+=O}}return h||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function y1(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function vE(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=y1(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(Wm(r))return 1;if(Wm(s))return-1}return s.length-r.length}function Wm(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const v1={type:0,value:""},E1=/[a-zA-Z0-9_]/;function w1(t){if(!t)return[[]];if(t==="/")return[[v1]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${n})/"${u}": ${g}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,l,u="",h="";function f(){u&&(n===0?i.push({type:0,value:u}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:h,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function p(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&f(),o()):l===":"?(f(),n=1):p();break;case 4:p(),n=r;break;case 1:l==="("?n=2:E1.test(l)?p():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+l:n=3:h+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,h="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),f(),o(),s}function b1(t,e,n){const r=_1(w1(t.path),n),s=Fe(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function T1(t,e){const n=[],r=new Map;e=Ym({strict:!1,end:!0,sensitive:!1},e);function s(f){return r.get(f)}function i(f,p,g){const E=!g,R=Qm(f);R.aliasOf=g&&g.record;const S=Ym(e,f),x=[R];if("alias"in f){const P=typeof f.alias=="string"?[f.alias]:f.alias;for(const D of P)x.push(Qm(Fe({},R,{components:g?g.record.components:R.components,path:D,aliasOf:g?g.record:R})))}let O,_;for(const P of x){const{path:D}=P;if(p&&D[0]!=="/"){const F=p.record.path,T=F[F.length-1]==="/"?"":"/";P.path=p.record.path+(D&&T+D)}if(O=b1(P,p,S),g?g.alias.push(O):(_=_||O,_!==O&&_.alias.push(O),E&&f.name&&!Jm(O)&&o(f.name)),EE(O)&&l(O),R.children){const F=R.children;for(let T=0;T<F.length;T++)i(F[T],O,g&&g.children[T])}g=g||O}return _?()=>{o(_)}:fo}function o(f){if(_E(f)){const p=r.get(f);p&&(r.delete(f),n.splice(n.indexOf(p),1),p.children.forEach(o),p.alias.forEach(o))}else{const p=n.indexOf(f);p>-1&&(n.splice(p,1),f.record.name&&r.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return n}function l(f){const p=S1(f,n);n.splice(p,0,f),f.record.name&&!Jm(f)&&r.set(f.record.name,f)}function u(f,p){let g,E={},R,S;if("name"in f&&f.name){if(g=r.get(f.name),!g)throw hi(1,{location:f});S=g.record.name,E=Fe(Gm(p.params,g.keys.filter(_=>!_.optional).concat(g.parent?g.parent.keys.filter(_=>_.optional):[]).map(_=>_.name)),f.params&&Gm(f.params,g.keys.map(_=>_.name))),R=g.stringify(E)}else if(f.path!=null)R=f.path,g=n.find(_=>_.re.test(R)),g&&(E=g.parse(R),S=g.record.name);else{if(g=p.name?r.get(p.name):n.find(_=>_.re.test(p.path)),!g)throw hi(1,{location:f,currentLocation:p});S=g.record.name,E=Fe({},p.params,f.params),R=g.stringify(E)}const x=[];let O=g;for(;O;)x.unshift(O.record),O=O.parent;return{name:S,path:R,params:E,matched:x,meta:A1(x)}}t.forEach(f=>i(f));function h(){n.length=0,r.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:h,getRoutes:a,getRecordMatcher:s}}function Gm(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function Qm(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:I1(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function I1(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function Jm(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function A1(t){return t.reduce((e,n)=>Fe(e,n.meta),{})}function Ym(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function S1(t,e){let n=0,r=e.length;for(;n!==r;){const i=n+r>>1;vE(t,e[i])<0?r=i:n=i+1}const s=R1(t);return s&&(r=e.lastIndexOf(s,r-1)),r}function R1(t){let e=t;for(;e=e.parent;)if(EE(e)&&vE(t,e)===0)return e}function EE({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function C1(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(hE," "),o=i.indexOf("="),a=No(o<0?i:i.slice(0,o)),l=o<0?null:No(i.slice(o+1));if(a in e){let u=e[a];Tn(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function Xm(t){let e="";for(let n in t){const r=t[n];if(n=WR(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Tn(r)?r.map(i=>i&&_h(i)):[r&&_h(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function P1(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Tn(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const O1=Symbol(""),Zm=Symbol(""),Tl=Symbol(""),Gf=Symbol(""),vh=Symbol("");function Yi(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Ir(t,e,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((a,l)=>{const u=p=>{p===!1?l(hi(4,{from:n,to:e})):p instanceof Error?l(p):p1(p)?l(hi(2,{from:e,to:p})):(o&&r.enterCallbacks[s]===o&&typeof p=="function"&&o.push(p),a())},h=i(()=>t.call(r&&r.instances[s],e,n,u));let f=Promise.resolve(h);t.length<3&&(f=f.then(u)),f.catch(p=>l(p))})}function Au(t,e,n,r,s=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(lE(l)){const h=(l.__vccOpts||l)[e];h&&i.push(Ir(h,n,r,o,a,s))}else{let u=l();i.push(()=>u.then(h=>{if(!h)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=MR(h)?h.default:h;o.mods[a]=h,o.components[a]=f;const g=(f.__vccOpts||f)[e];return g&&Ir(g,n,r,o,a,s)()}))}}return i}function eg(t){const e=Yt(Tl),n=Yt(Gf),r=Ae(()=>{const l=xt(t.to);return e.resolve(l)}),s=Ae(()=>{const{matched:l}=r.value,{length:u}=l,h=l[u-1],f=n.matched;if(!h||!f.length)return-1;const p=f.findIndex(ui.bind(null,h));if(p>-1)return p;const g=tg(l[u-2]);return u>1&&tg(h)===g&&f[f.length-1].path!==g?f.findIndex(ui.bind(null,l[u-2])):p}),i=Ae(()=>s.value>-1&&D1(n.params,r.value.params)),o=Ae(()=>s.value>-1&&s.value===n.matched.length-1&&mE(n.params,r.value.params));function a(l={}){return x1(l)?e[xt(t.replace)?"replace":"push"](xt(t.to)).catch(fo):Promise.resolve()}return{route:r,href:Ae(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}const k1=Is({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:eg,setup(t,{slots:e}){const n=Bn(eg(t)),{options:r}=Yt(Tl),s=Ae(()=>({[ng(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[ng(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:Ii("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),N1=k1;function x1(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function D1(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!Tn(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function tg(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const ng=(t,e,n)=>t??e??n,V1=Is({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Yt(vh),s=Ae(()=>t.route||r.value),i=Yt(Zm,0),o=Ae(()=>{let u=xt(i);const{matched:h}=s.value;let f;for(;(f=h[u])&&!f.components;)u++;return u}),a=Ae(()=>s.value.matched[o.value]);lo(Zm,Ae(()=>o.value+1)),lo(O1,a),lo(vh,s);const l=_e();return st(()=>[l.value,a.value,t.name],([u,h,f],[p,g,E])=>{h&&(h.instances[f]=u,g&&g!==h&&u&&u===p&&(h.leaveGuards.size||(h.leaveGuards=g.leaveGuards),h.updateGuards.size||(h.updateGuards=g.updateGuards))),u&&h&&(!g||!ui(h,g)||!p)&&(h.enterCallbacks[f]||[]).forEach(R=>R(u))},{flush:"post"}),()=>{const u=s.value,h=t.name,f=a.value,p=f&&f.components[h];if(!p)return rg(n.default,{Component:p,route:u});const g=f.props[h],E=g?g===!0?u.params:typeof g=="function"?g(u):g:null,S=Ii(p,Fe({},E,e,{onVnodeUnmounted:x=>{x.component.isUnmounted&&(f.instances[h]=null)},ref:l}));return rg(n.default,{Component:S,route:u})||S}}});function rg(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const M1=V1;function L1(t){const e=T1(t.routes,t),n=t.parseQuery||C1,r=t.stringifyQuery||Xm,s=t.history,i=Yi(),o=Yi(),a=Yi(),l=bf(gr);let u=gr;Hs&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=Tu.bind(null,B=>""+B),f=Tu.bind(null,QR),p=Tu.bind(null,No);function g(B,ee){let X,re;return _E(B)?(X=e.getRecordMatcher(B),re=ee):re=B,e.addRoute(re,X)}function E(B){const ee=e.getRecordMatcher(B);ee&&e.removeRoute(ee)}function R(){return e.getRoutes().map(B=>B.record)}function S(B){return!!e.getRecordMatcher(B)}function x(B,ee){if(ee=Fe({},ee||l.value),typeof B=="string"){const N=Iu(n,B,ee.path),L=e.resolve({path:N.path},ee),H=s.createHref(N.fullPath);return Fe(N,L,{params:p(L.params),hash:No(N.hash),redirectedFrom:void 0,href:H})}let X;if(B.path!=null)X=Fe({},B,{path:Iu(n,B.path,ee.path).path});else{const N=Fe({},B.params);for(const L in N)N[L]==null&&delete N[L];X=Fe({},B,{params:f(N)}),ee.params=f(ee.params)}const re=e.resolve(X,ee),Pe=B.hash||"";re.params=h(p(re.params));const je=XR(r,Fe({},B,{hash:zR(Pe),path:re.path})),A=s.createHref(je);return Fe({fullPath:je,hash:Pe,query:r===Xm?P1(B.query):B.query||{}},re,{redirectedFrom:void 0,href:A})}function O(B){return typeof B=="string"?Iu(n,B,l.value.path):Fe({},B)}function _(B,ee){if(u!==B)return hi(8,{from:ee,to:B})}function P(B){return T(B)}function D(B){return P(Fe(O(B),{replace:!0}))}function F(B){const ee=B.matched[B.matched.length-1];if(ee&&ee.redirect){const{redirect:X}=ee;let re=typeof X=="function"?X(B):X;return typeof re=="string"&&(re=re.includes("?")||re.includes("#")?re=O(re):{path:re},re.params={}),Fe({query:B.query,hash:B.hash,params:re.path!=null?{}:B.params},re)}}function T(B,ee){const X=u=x(B),re=l.value,Pe=B.state,je=B.force,A=B.replace===!0,N=F(X);if(N)return T(Fe(O(N),{state:typeof N=="object"?Fe({},Pe,N.state):Pe,force:je,replace:A}),ee||X);const L=X;L.redirectedFrom=ee;let H;return!je&&ZR(r,re,X)&&(H=hi(16,{to:L,from:re}),on(re,re,!0,!1)),(H?Promise.resolve(H):b(L,re)).catch($=>zn($)?zn($,2)?$:gn($):te($,L,re)).then($=>{if($){if(zn($,2))return T(Fe({replace:A},O($.to),{state:typeof $.to=="object"?Fe({},Pe,$.to.state):Pe,force:je}),ee||L)}else $=C(L,re,!0,A,Pe);return k(L,re,$),$})}function w(B,ee){const X=_(B,ee);return X?Promise.reject(X):Promise.resolve()}function y(B){const ee=lr.values().next().value;return ee&&typeof ee.runWithContext=="function"?ee.runWithContext(B):B()}function b(B,ee){let X;const[re,Pe,je]=F1(B,ee);X=Au(re.reverse(),"beforeRouteLeave",B,ee);for(const N of re)N.leaveGuards.forEach(L=>{X.push(Ir(L,B,ee))});const A=w.bind(null,B,ee);return X.push(A),qt(X).then(()=>{X=[];for(const N of i.list())X.push(Ir(N,B,ee));return X.push(A),qt(X)}).then(()=>{X=Au(Pe,"beforeRouteUpdate",B,ee);for(const N of Pe)N.updateGuards.forEach(L=>{X.push(Ir(L,B,ee))});return X.push(A),qt(X)}).then(()=>{X=[];for(const N of je)if(N.beforeEnter)if(Tn(N.beforeEnter))for(const L of N.beforeEnter)X.push(Ir(L,B,ee));else X.push(Ir(N.beforeEnter,B,ee));return X.push(A),qt(X)}).then(()=>(B.matched.forEach(N=>N.enterCallbacks={}),X=Au(je,"beforeRouteEnter",B,ee,y),X.push(A),qt(X))).then(()=>{X=[];for(const N of o.list())X.push(Ir(N,B,ee));return X.push(A),qt(X)}).catch(N=>zn(N,8)?N:Promise.reject(N))}function k(B,ee,X){a.list().forEach(re=>y(()=>re(B,ee,X)))}function C(B,ee,X,re,Pe){const je=_(B,ee);if(je)return je;const A=ee===gr,N=Hs?history.state:{};X&&(re||A?s.replace(B.fullPath,Fe({scroll:A&&N&&N.scroll},Pe)):s.push(B.fullPath,Pe)),l.value=B,on(B,ee,X,A),gn()}let I;function me(){I||(I=s.listen((B,ee,X)=>{if(!Rn.listening)return;const re=x(B),Pe=F(re);if(Pe){T(Fe(Pe,{replace:!0}),re).catch(fo);return}u=re;const je=l.value;Hs&&a1(Hm(je.fullPath,X.delta),bl()),b(re,je).catch(A=>zn(A,12)?A:zn(A,2)?(T(A.to,re).then(N=>{zn(N,20)&&!X.delta&&X.type===xo.pop&&s.go(-1,!1)}).catch(fo),Promise.reject()):(X.delta&&s.go(-X.delta,!1),te(A,re,je))).then(A=>{A=A||C(re,je,!1),A&&(X.delta&&!zn(A,8)?s.go(-X.delta,!1):X.type===xo.pop&&zn(A,20)&&s.go(-1,!1)),k(re,je,A)}).catch(fo)}))}let Se=Yi(),ne=Yi(),pe;function te(B,ee,X){gn(B);const re=ne.list();return re.length?re.forEach(Pe=>Pe(B,ee,X)):console.error(B),Promise.reject(B)}function Ye(){return pe&&l.value!==gr?Promise.resolve():new Promise((B,ee)=>{Se.add([B,ee])})}function gn(B){return pe||(pe=!B,me(),Se.list().forEach(([ee,X])=>B?X(B):ee()),Se.reset()),B}function on(B,ee,X,re){const{scrollBehavior:Pe}=t;if(!Hs||!Pe)return Promise.resolve();const je=!X&&c1(Hm(B.fullPath,0))||(re||!X)&&history.state&&history.state.scroll||null;return Qo().then(()=>Pe(B,ee,je)).then(A=>A&&o1(A)).catch(A=>te(A,B,ee))}const Xe=B=>s.go(B);let Ze;const lr=new Set,Rn={currentRoute:l,listening:!0,addRoute:g,removeRoute:E,clearRoutes:e.clearRoutes,hasRoute:S,getRoutes:R,resolve:x,options:t,push:P,replace:D,go:Xe,back:()=>Xe(-1),forward:()=>Xe(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:ne.add,isReady:Ye,install(B){const ee=this;B.component("RouterLink",N1),B.component("RouterView",M1),B.config.globalProperties.$router=ee,Object.defineProperty(B.config.globalProperties,"$route",{enumerable:!0,get:()=>xt(l)}),Hs&&!Ze&&l.value===gr&&(Ze=!0,P(s.location).catch(Pe=>{}));const X={};for(const Pe in gr)Object.defineProperty(X,Pe,{get:()=>l.value[Pe],enumerable:!0});B.provide(Tl,ee),B.provide(Gf,vf(X)),B.provide(vh,l);const re=B.unmount;lr.add(B),B.unmount=function(){lr.delete(B),lr.size<1&&(u=gr,I&&I(),I=null,l.value=gr,Ze=!1,pe=!1),re()}}};function qt(B){return B.reduce((ee,X)=>ee.then(()=>y(X)),Promise.resolve())}return Rn}function F1(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(u=>ui(u,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(u=>ui(u,l))||s.push(l))}return[n,r,s]}function U1(){return Yt(Tl)}function j1(t){return Yt(Gf)}var sg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},$1=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},bE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(p=64)),r.push(n[h],n[f],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||f==null)throw new B1;const p=i<<2|a>>4;if(r.push(p),u!==64){const g=a<<4&240|u>>2;if(r.push(g),f!==64){const E=u<<6&192|f;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class B1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const H1=function(t){const e=wE(t);return bE.encodeByteArray(e,!0)},Dc=function(t){return H1(t).replace(/\./g,"")},TE=function(t){try{return bE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1=()=>q1().__FIREBASE_DEFAULTS__,z1=()=>{if(typeof process>"u"||typeof sg>"u")return;const t=sg.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},W1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&TE(t[1]);return e&&JSON.parse(e)},Il=()=>{try{return K1()||z1()||W1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},IE=t=>{var e,n;return(n=(e=Il())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},G1=t=>{const e=IE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},AE=()=>{var t;return(t=Il())===null||t===void 0?void 0:t.config},SE=t=>{var e;return(e=Il())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Dc(JSON.stringify(n)),Dc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Y1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}function X1(){var t;const e=(t=Il())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Z1(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function eC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tC(){const t=Vt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function nC(){return!X1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rC(){try{return typeof indexedDB=="object"}catch{return!1}}function sC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC="FirebaseError";class cr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=iC,Object.setPrototypeOf(this,cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ta.prototype.create)}}class ta{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?oC(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new cr(s,a,r)}}function oC(t,e){return t.replace(aC,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const aC=/\{\$([^}]+)}/g;function cC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Vc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(ig(i)&&ig(o)){if(!Vc(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function ig(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function lC(t,e){const n=new uC(t,e);return n.subscribe.bind(n)}class uC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");hC(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Su),s.error===void 0&&(s.error=Su),s.complete===void 0&&(s.complete=Su);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hC(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Su(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(t){return t&&t._delegate?t._delegate:t}class gs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Q1;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pC(e))try{this.getOrInitializeService({instanceIdentifier:rs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=rs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=rs){return this.instances.has(e)}getOptions(e=rs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:dC(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=rs){return this.component?this.component.multipleInstances?e:rs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dC(t){return t===rs?void 0:t}function pC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Oe||(Oe={}));const gC={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},_C=Oe.INFO,yC={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},vC=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=yC[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qf{constructor(e){this.name=e,this._logLevel=_C,this._logHandler=vC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const EC=(t,e)=>e.some(n=>t instanceof n);let og,ag;function wC(){return og||(og=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bC(){return ag||(ag=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const RE=new WeakMap,Eh=new WeakMap,CE=new WeakMap,Ru=new WeakMap,Jf=new WeakMap;function TC(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Mr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&RE.set(n,t)}).catch(()=>{}),Jf.set(e,t),e}function IC(t){if(Eh.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Eh.set(t,e)}let wh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Eh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||CE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function AC(t){wh=t(wh)}function SC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Cu(this),e,...n);return CE.set(r,e.sort?e.sort():[e]),Mr(r)}:bC().includes(t)?function(...e){return t.apply(Cu(this),e),Mr(RE.get(this))}:function(...e){return Mr(t.apply(Cu(this),e))}}function RC(t){return typeof t=="function"?SC(t):(t instanceof IDBTransaction&&IC(t),EC(t,wC())?new Proxy(t,wh):t)}function Mr(t){if(t instanceof IDBRequest)return TC(t);if(Ru.has(t))return Ru.get(t);const e=RC(t);return e!==t&&(Ru.set(t,e),Jf.set(e,t)),e}const Cu=t=>Jf.get(t);function CC(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Mr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Mr(o.result),l.oldVersion,l.newVersion,Mr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const PC=["get","getKey","getAll","getAllKeys","count"],OC=["put","add","delete","clear"],Pu=new Map;function cg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Pu.get(e))return Pu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=OC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||PC.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return Pu.set(e,i),i}AC(t=>({...t,get:(e,n,r)=>cg(e,n)||t.get(e,n,r),has:(e,n)=>!!cg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(NC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function NC(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bh="@firebase/app",lg="0.10.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr=new Qf("@firebase/app"),xC="@firebase/app-compat",DC="@firebase/analytics-compat",VC="@firebase/analytics",MC="@firebase/app-check-compat",LC="@firebase/app-check",FC="@firebase/auth",UC="@firebase/auth-compat",jC="@firebase/database",$C="@firebase/database-compat",BC="@firebase/functions",HC="@firebase/functions-compat",qC="@firebase/installations",KC="@firebase/installations-compat",zC="@firebase/messaging",WC="@firebase/messaging-compat",GC="@firebase/performance",QC="@firebase/performance-compat",JC="@firebase/remote-config",YC="@firebase/remote-config-compat",XC="@firebase/storage",ZC="@firebase/storage-compat",eP="@firebase/firestore",tP="@firebase/vertexai-preview",nP="@firebase/firestore-compat",rP="firebase",sP="10.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th="[DEFAULT]",iP={[bh]:"fire-core",[xC]:"fire-core-compat",[VC]:"fire-analytics",[DC]:"fire-analytics-compat",[LC]:"fire-app-check",[MC]:"fire-app-check-compat",[FC]:"fire-auth",[UC]:"fire-auth-compat",[jC]:"fire-rtdb",[$C]:"fire-rtdb-compat",[BC]:"fire-fn",[HC]:"fire-fn-compat",[qC]:"fire-iid",[KC]:"fire-iid-compat",[zC]:"fire-fcm",[WC]:"fire-fcm-compat",[GC]:"fire-perf",[QC]:"fire-perf-compat",[JC]:"fire-rc",[YC]:"fire-rc-compat",[XC]:"fire-gcs",[ZC]:"fire-gcs-compat",[eP]:"fire-fst",[nP]:"fire-fst-compat",[tP]:"fire-vertex","fire-js":"fire-js",[rP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=new Map,oP=new Map,Ih=new Map;function ug(t,e){try{t.container.addComponent(e)}catch(n){nr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fi(t){const e=t.name;if(Ih.has(e))return nr.debug(`There were multiple attempts to register component ${e}.`),!1;Ih.set(e,t);for(const n of Mc.values())ug(n,t);for(const n of oP.values())ug(n,t);return!0}function Yf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Or(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Lr=new ta("app","Firebase",aP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Lr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=sP;function PE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Th,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Lr.create("bad-app-name",{appName:String(s)});if(n||(n=AE()),!n)throw Lr.create("no-options");const i=Mc.get(s);if(i){if(Vc(n,i.options)&&Vc(r,i.config))return i;throw Lr.create("duplicate-app",{appName:s})}const o=new mC(s);for(const l of Ih.values())o.addComponent(l);const a=new cP(n,r,o);return Mc.set(s,a),a}function OE(t=Th){const e=Mc.get(t);if(!e&&t===Th&&AE())return PE();if(!e)throw Lr.create("no-app",{appName:t});return e}function Fr(t,e,n){var r;let s=(r=iP[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),nr.warn(a.join(" "));return}fi(new gs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP="firebase-heartbeat-database",uP=1,Do="firebase-heartbeat-store";let Ou=null;function kE(){return Ou||(Ou=CC(lP,uP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Do)}catch(n){console.warn(n)}}}}).catch(t=>{throw Lr.create("idb-open",{originalErrorMessage:t.message})})),Ou}async function hP(t){try{const n=(await kE()).transaction(Do),r=await n.objectStore(Do).get(NE(t));return await n.done,r}catch(e){if(e instanceof cr)nr.warn(e.message);else{const n=Lr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});nr.warn(n.message)}}}async function hg(t,e){try{const r=(await kE()).transaction(Do,"readwrite");await r.objectStore(Do).put(e,NE(t)),await r.done}catch(n){if(n instanceof cr)nr.warn(n.message);else{const r=Lr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});nr.warn(r.message)}}}function NE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=1024,dP=30*24*60*60*1e3;class pP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=fg();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=dP}),this._storage.overwrite(this._heartbeatsCache))}catch(r){nr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=fg(),{heartbeatsToSend:r,unsentEntries:s}=mP(this._heartbeatsCache.heartbeats),i=Dc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return nr.warn(n),""}}}function fg(){return new Date().toISOString().substring(0,10)}function mP(t,e=fP){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),dg(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),dg(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class gP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rC()?sC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return hg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return hg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function dg(t){return Dc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(t){fi(new gs("platform-logger",e=>new kC(e),"PRIVATE")),fi(new gs("heartbeat",e=>new pP(e),"PRIVATE")),Fr(bh,lg,t),Fr(bh,lg,"esm2017"),Fr("fire-js","")}_P("");var yP="firebase",vP="10.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fr(yP,vP,"app");function Xf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function xE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const EP=xE,DE=new ta("auth","Firebase",xE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc=new Qf("@firebase/auth");function wP(t,...e){Lc.logLevel<=Oe.WARN&&Lc.warn(`Auth (${Si}): ${t}`,...e)}function rc(t,...e){Lc.logLevel<=Oe.ERROR&&Lc.error(`Auth (${Si}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(t,...e){throw Zf(t,...e)}function Nn(t,...e){return Zf(t,...e)}function VE(t,e,n){const r=Object.assign(Object.assign({},EP()),{[e]:n});return new ta("auth","Firebase",r).create(e,{appName:t.name})}function hs(t){return VE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zf(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return DE.create(t,...e)}function ye(t,e,...n){if(!t)throw Zf(e,...n)}function Yn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw rc(e),new Error(e)}function sr(t,e){t||Yn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function bP(){return pg()==="http:"||pg()==="https:"}function pg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bP()||Z1()||"connection"in navigator)?navigator.onLine:!0}function IP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n){this.shortDelay=e,this.longDelay=n,sr(n>e,"Short delay should be less than long delay!"),this.isMobile=Y1()||eC()}get(){return TP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(t,e){sr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP=new ra(3e4,6e4);function td(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ri(t,e,n,r,s={}){return LE(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=na(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),ME.fetch()(FE(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function LE(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},AP),e);try{const s=new CP(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ka(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ka(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ka(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ka(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw VE(t,h,u);rr(t,h)}}catch(s){if(s instanceof cr)throw s;rr(t,"network-request-failed",{message:String(s)})}}async function RP(t,e,n,r,s={}){const i=await Ri(t,e,n,r,s);return"mfaPendingCredential"in i&&rr(t,"multi-factor-auth-required",{_serverResponse:i}),i}function FE(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?ed(t.config,s):`${t.config.apiScheme}://${s}`}class CP{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Nn(this.auth,"network-request-failed")),SP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ka(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Nn(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PP(t,e){return Ri(t,"POST","/v1/accounts:delete",e)}async function UE(t,e){return Ri(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function OP(t,e=!1){const n=dn(t),r=await n.getIdToken(e),s=nd(r);ye(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:mo(ku(s.auth_time)),issuedAtTime:mo(ku(s.iat)),expirationTime:mo(ku(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function ku(t){return Number(t)*1e3}function nd(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return rc("JWT malformed, contained fewer than 3 sections"),null;try{const s=TE(n);return s?JSON.parse(s):(rc("Failed to decode base64 JWT payload"),null)}catch(s){return rc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function mg(t){const e=nd(t);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof cr&&kP(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function kP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=mo(this.lastLoginAt),this.creationTime=mo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fc(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Vo(t,UE(n,{idToken:r}));ye(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?jE(i.providerUserInfo):[],a=DP(t.providerData,o),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=l?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Sh(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function xP(t){const e=dn(t);await Fc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function DP(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function jE(t){return t.map(e=>{var{providerId:n}=e,r=Xf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VP(t,e){const n=await LE(t,{},async()=>{const r=na({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=FE(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ME.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function MP(t,e){return Ri(t,"POST","/v2/accounts:revokeToken",td(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mg(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const n=mg(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await VP(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new ti;return r&&(ye(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ye(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ye(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ti,this.toJSON())}_performRefresh(){return Yn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(t,e){ye(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Xn{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Xf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new NP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Sh(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Vo(this,this.stsTokenManager.getToken(this.auth,e));return ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return OP(this,e)}reload(){return xP(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Xn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Fc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Or(this.auth.app))return Promise.reject(hs(this.auth));const e=await this.getIdToken();return await Vo(this,PP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,u,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,R=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(u=n.createdAt)!==null&&u!==void 0?u:void 0,O=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:_,emailVerified:P,isAnonymous:D,providerData:F,stsTokenManager:T}=n;ye(_&&T,e,"internal-error");const w=ti.fromJSON(this.name,T);ye(typeof _=="string",e,"internal-error"),_r(f,e.name),_r(p,e.name),ye(typeof P=="boolean",e,"internal-error"),ye(typeof D=="boolean",e,"internal-error"),_r(g,e.name),_r(E,e.name),_r(R,e.name),_r(S,e.name),_r(x,e.name),_r(O,e.name);const y=new Xn({uid:_,auth:e,email:p,emailVerified:P,displayName:f,isAnonymous:D,photoURL:E,phoneNumber:g,tenantId:R,stsTokenManager:w,createdAt:x,lastLoginAt:O});return F&&Array.isArray(F)&&(y.providerData=F.map(b=>Object.assign({},b))),S&&(y._redirectEventId=S),y}static async _fromIdTokenResponse(e,n,r=!1){const s=new ti;s.updateFromServerResponse(n);const i=new Xn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Fc(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ye(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?jE(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new ti;a.updateFromIdToken(r);const l=new Xn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Sh(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg=new Map;function Zn(t){sr(t instanceof Function,"Expected a class definition");let e=gg.get(t);return e?(sr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,gg.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}$E.type="NONE";const _g=$E;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(t,e,n){return`firebase:${t}:${e}:${n}`}class ni{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=sc(this.userKey,s.apiKey,i),this.fullPersistenceKey=sc("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Xn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ni(Zn(_g),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Zn(_g);const o=sc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){const f=Xn._fromJSON(e,h);u!==i&&(a=f),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new ni(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new ni(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(KE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(BE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(WE(e))return"Blackberry";if(GE(e))return"Webos";if(HE(e))return"Safari";if((e.includes("chrome/")||qE(e))&&!e.includes("edge/"))return"Chrome";if(zE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function BE(t=Vt()){return/firefox\//i.test(t)}function HE(t=Vt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qE(t=Vt()){return/crios\//i.test(t)}function KE(t=Vt()){return/iemobile/i.test(t)}function zE(t=Vt()){return/android/i.test(t)}function WE(t=Vt()){return/blackberry/i.test(t)}function GE(t=Vt()){return/webos/i.test(t)}function rd(t=Vt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function LP(t=Vt()){var e;return rd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function FP(){return tC()&&document.documentMode===10}function QE(t=Vt()){return rd(t)||zE(t)||GE(t)||WE(t)||/windows phone/i.test(t)||KE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(t,e=[]){let n;switch(t){case"Browser":n=yg(Vt());break;case"Worker":n=`${yg(Vt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Si}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jP(t,e={}){return Ri(t,"GET","/v2/passwordPolicy",td(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P=6;class BP{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:$P,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vg(this),this.idTokenSubscription=new vg(this),this.beforeStateQueue=new UP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zn(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await ni.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await UE(this,{idToken:e}),r=await Xn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Or(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Fc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=IP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Or(this.app))return Promise.reject(hs(this));const n=e?dn(e):null;return n&&ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Or(this.app)?Promise.reject(hs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Or(this.app)?Promise.reject(hs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jP(this),n=new BP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ta("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await MP(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Zn(e)||this._popupRedirectResolver;ye(n,this,"argument-error"),this.redirectPersistenceManager=await ni.create(this,[Zn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&wP(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function sd(t){return dn(t)}class vg{constructor(e){this.auth=e,this.observer=null,this.addObserver=lC(n=>this.observer=n)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let id={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qP(t){id=t}function KP(t){return id.loadJS(t)}function zP(){return id.gapiScript}function WP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(t,e){const n=Yf(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Vc(i,e??{}))return s;rr(s,"already-initialized")}return n.initialize({options:e})}function QP(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Zn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function JP(t,e,n){const r=sd(t);ye(r._canInitEmulator,r,"emulator-config-failed"),ye(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=YE(e),{host:o,port:a}=YP(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),XP()}function YE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function YP(t){const e=YE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Eg(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Eg(o)}}}function Eg(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function XP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Yn("not implemented")}_getIdTokenResponse(e){return Yn("not implemented")}_linkToIdToken(e,n){return Yn("not implemented")}_getReauthenticationResolver(e){return Yn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ri(t,e){return RP(t,"POST","/v1/accounts:signInWithIdp",td(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP="http://localhost";class _s extends XE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):rr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Xf(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new _s(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ri(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ri(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ri(e,n)}buildRequest(){const e={requestUri:ZP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=na(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa extends ZE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends sa{constructor(){super("facebook.com")}static credential(e){return _s._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ar.credential(e.oauthAccessToken)}catch{return null}}}Ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ar.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends sa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _s._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Sr.credential(n,r)}catch{return null}}}Sr.GOOGLE_SIGN_IN_METHOD="google.com";Sr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends sa{constructor(){super("github.com")}static credential(e){return _s._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rr.credential(e.oauthAccessToken)}catch{return null}}}Rr.GITHUB_SIGN_IN_METHOD="github.com";Rr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends sa{constructor(){super("twitter.com")}static credential(e,n){return _s._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Cr.credential(n,r)}catch{return null}}}Cr.TWITTER_SIGN_IN_METHOD="twitter.com";Cr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Xn._fromIdTokenResponse(e,r,s),o=wg(r);return new di({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=wg(r);return new di({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function wg(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc extends cr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Uc.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Uc(e,n,r,s)}}function e0(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Uc._fromErrorAndOperation(t,i,e,r):i})}async function eO(t,e,n=!1){const r=await Vo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return di._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tO(t,e,n=!1){const{auth:r}=t;if(Or(r.app))return Promise.reject(hs(r));const s="reauthenticate";try{const i=await Vo(t,e0(r,s,e,t),n);ye(i.idToken,r,"internal-error");const o=nd(i.idToken);ye(o,r,"internal-error");const{sub:a}=o;return ye(t.uid===a,r,"user-mismatch"),di._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&rr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nO(t,e,n=!1){if(Or(t.app))return Promise.reject(hs(t));const r="signIn",s=await e0(t,r,e),i=await di._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function rO(t,e,n,r){return dn(t).onIdTokenChanged(e,n,r)}function sO(t,e,n){return dn(t).beforeAuthStateChanged(e,n)}function iO(t,e,n,r){return dn(t).onAuthStateChanged(e,n,r)}function oO(t){return dn(t).signOut()}const jc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jc,"1"),this.storage.removeItem(jc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=1e3,cO=10;class n0 extends t0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);FP()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,cO):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},aO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}n0.type="LOCAL";const lO=n0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0 extends t0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}r0.type="SESSION";const s0=r0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Al(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await uO(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Al.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=od("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(){return window}function fO(t){xn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(){return typeof xn().WorkerGlobalScope<"u"&&typeof xn().importScripts=="function"}async function dO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function mO(){return i0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="firebaseLocalStorageDb",gO=1,$c="firebaseLocalStorage",a0="fbase_key";class ia{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sl(t,e){return t.transaction([$c],e?"readwrite":"readonly").objectStore($c)}function _O(){const t=indexedDB.deleteDatabase(o0);return new ia(t).toPromise()}function Rh(){const t=indexedDB.open(o0,gO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore($c,{keyPath:a0})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains($c)?e(r):(r.close(),await _O(),e(await Rh()))})})}async function bg(t,e,n){const r=Sl(t,!0).put({[a0]:e,value:n});return new ia(r).toPromise()}async function yO(t,e){const n=Sl(t,!1).get(e),r=await new ia(n).toPromise();return r===void 0?null:r.value}function Tg(t,e){const n=Sl(t,!0).delete(e);return new ia(n).toPromise()}const vO=800,EO=3;class c0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>EO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return i0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Al._getInstance(mO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await dO(),!this.activeServiceWorker)return;this.sender=new hO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rh();return await bg(e,jc,"1"),await Tg(e,jc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>bg(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>yO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Tg(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Sl(s,!1).getAll();return new ia(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}c0.type="LOCAL";const wO=c0;new ra(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(t,e){return e?Zn(e):(ye(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad extends XE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ri(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ri(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ri(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function TO(t){return nO(t.auth,new ad(t),t.bypassAuthState)}function IO(t){const{auth:e,user:n}=t;return ye(n,e,"internal-error"),tO(n,new ad(t),t.bypassAuthState)}async function AO(t){const{auth:e,user:n}=t;return ye(n,e,"internal-error"),eO(n,new ad(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TO;case"linkViaPopup":case"linkViaRedirect":return AO;case"reauthViaPopup":case"reauthViaRedirect":return IO;default:rr(this.auth,"internal-error")}}resolve(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO=new ra(2e3,1e4);class Gs extends l0{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Gs.currentPopupAction&&Gs.currentPopupAction.cancel(),Gs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){sr(this.filter.length===1,"Popup operations only handle one event");const e=od();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Nn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Nn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Nn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,SO.get())};e()}}Gs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO="pendingRedirect",ic=new Map;class CO extends l0{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ic.get(this.auth._key());if(!e){try{const r=await PO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ic.set(this.auth._key(),e)}return this.bypassAuthState||ic.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PO(t,e){const n=NO(e),r=kO(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function OO(t,e){ic.set(t._key(),e)}function kO(t){return Zn(t._redirectPersistence)}function NO(t){return sc(RO,t.config.apiKey,t.name)}async function xO(t,e,n=!1){if(Or(t.app))return Promise.reject(hs(t));const r=sd(t),s=bO(r,e),o=await new CO(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO=10*60*1e3;class VO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!MO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!u0(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Nn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DO&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ig(e))}saveEventToCache(e){this.cachedEventUids.add(Ig(e)),this.lastProcessedEventTime=Date.now()}}function Ig(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function u0({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function MO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return u0(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LO(t,e={}){return Ri(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UO=/^https?/;async function jO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await LO(t);for(const n of e)try{if($O(n))return}catch{}rr(t,"unauthorized-domain")}function $O(t){const e=Ah(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!UO.test(n))return!1;if(FO.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=new ra(3e4,6e4);function Ag(){const t=xn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function HO(t){return new Promise((e,n)=>{var r,s,i;function o(){Ag(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ag(),n(Nn(t,"network-request-failed"))},timeout:BO.get()})}if(!((s=(r=xn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=xn().gapi)===null||i===void 0)&&i.load)o();else{const a=WP("iframefcb");return xn()[a]=()=>{gapi.load?o():n(Nn(t,"network-request-failed"))},KP(`${zP()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw oc=null,e})}let oc=null;function qO(t){return oc=oc||HO(t),oc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=new ra(5e3,15e3),zO="__/auth/iframe",WO="emulator/auth/iframe",GO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JO(t){const e=t.config;ye(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ed(e,WO):`https://${t.config.authDomain}/${zO}`,r={apiKey:e.apiKey,appName:t.name,v:Si},s=QO.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${na(r).slice(1)}`}async function YO(t){const e=await qO(t),n=xn().gapi;return ye(n,t,"internal-error"),e.open({where:document.body,url:JO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GO,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Nn(t,"network-request-failed"),a=xn().setTimeout(()=>{i(o)},KO.get());function l(){xn().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZO=500,ek=600,tk="_blank",nk="http://localhost";class Sg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rk(t,e,n,r=ZO,s=ek){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},XO),{width:r.toString(),height:s.toString(),top:i,left:o}),u=Vt().toLowerCase();n&&(a=qE(u)?tk:n),BE(u)&&(e=e||nk,l.scrollbars="yes");const h=Object.entries(l).reduce((p,[g,E])=>`${p}${g}=${E},`,"");if(LP(u)&&a!=="_self")return sk(e||"",a),new Sg(null);const f=window.open(e||"",a,h);ye(f,t,"popup-blocked");try{f.focus()}catch{}return new Sg(f)}function sk(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik="__/auth/handler",ok="emulator/auth/handler",ak=encodeURIComponent("fac");async function Rg(t,e,n,r,s,i){ye(t.config.authDomain,t,"auth-domain-config-required"),ye(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Si,eventId:s};if(e instanceof ZE){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",cC(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof sa){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),u=l?`#${ak}=${encodeURIComponent(l)}`:"";return`${ck(t)}?${na(a).slice(1)}${u}`}function ck({config:t}){return t.emulator?ed(t,ok):`https://${t.authDomain}/${ik}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu="webStorageSupport";class lk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=s0,this._completeRedirectFn=xO,this._overrideRedirectResult=OO}async _openPopup(e,n,r,s){var i;sr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Rg(e,n,r,Ah(),s);return rk(e,o,od())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Rg(e,n,r,Ah(),s);return fO(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(sr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await YO(e),r=new VO(e);return n.register("authEvent",s=>(ye(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Nu,{type:Nu},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Nu];o!==void 0&&n(!!o),rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return QE()||HE()||rd()}}const uk=lk;var Cg="@firebase/auth",Pg="1.7.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dk(t){fi(new gs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ye(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JE(t)},u=new HP(r,s,i,l);return QP(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),fi(new gs("auth-internal",e=>{const n=sd(e.getProvider("auth").getImmediate());return(r=>new hk(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fr(Cg,Pg,fk(t)),Fr(Cg,Pg,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk=5*60,mk=SE("authIdTokenMaxAge")||pk;let Og=null;const gk=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>mk)return;const s=n==null?void 0:n.token;Og!==s&&(Og=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function _k(t=OE()){const e=Yf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=GP(t,{popupRedirectResolver:uk,persistence:[wO,lO,s0]}),r=SE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=gk(i.toString());sO(n,o,()=>o(n.currentUser)),rO(n,a=>o(a))}}const s=IE("auth");return s&&JP(n,`http://${s}`),n}function yk(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}qP({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Nn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",yk().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dk("Browser");var kg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fs,h0;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,w){function y(){}y.prototype=w.prototype,T.D=w.prototype,T.prototype=new y,T.prototype.constructor=T,T.C=function(b,k,C){for(var I=Array(arguments.length-2),me=2;me<arguments.length;me++)I[me-2]=arguments[me];return w.prototype[k].apply(b,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,w,y){y||(y=0);var b=Array(16);if(typeof w=="string")for(var k=0;16>k;++k)b[k]=w.charCodeAt(y++)|w.charCodeAt(y++)<<8|w.charCodeAt(y++)<<16|w.charCodeAt(y++)<<24;else for(k=0;16>k;++k)b[k]=w[y++]|w[y++]<<8|w[y++]<<16|w[y++]<<24;w=T.g[0],y=T.g[1],k=T.g[2];var C=T.g[3],I=w+(C^y&(k^C))+b[0]+3614090360&4294967295;w=y+(I<<7&4294967295|I>>>25),I=C+(k^w&(y^k))+b[1]+3905402710&4294967295,C=w+(I<<12&4294967295|I>>>20),I=k+(y^C&(w^y))+b[2]+606105819&4294967295,k=C+(I<<17&4294967295|I>>>15),I=y+(w^k&(C^w))+b[3]+3250441966&4294967295,y=k+(I<<22&4294967295|I>>>10),I=w+(C^y&(k^C))+b[4]+4118548399&4294967295,w=y+(I<<7&4294967295|I>>>25),I=C+(k^w&(y^k))+b[5]+1200080426&4294967295,C=w+(I<<12&4294967295|I>>>20),I=k+(y^C&(w^y))+b[6]+2821735955&4294967295,k=C+(I<<17&4294967295|I>>>15),I=y+(w^k&(C^w))+b[7]+4249261313&4294967295,y=k+(I<<22&4294967295|I>>>10),I=w+(C^y&(k^C))+b[8]+1770035416&4294967295,w=y+(I<<7&4294967295|I>>>25),I=C+(k^w&(y^k))+b[9]+2336552879&4294967295,C=w+(I<<12&4294967295|I>>>20),I=k+(y^C&(w^y))+b[10]+4294925233&4294967295,k=C+(I<<17&4294967295|I>>>15),I=y+(w^k&(C^w))+b[11]+2304563134&4294967295,y=k+(I<<22&4294967295|I>>>10),I=w+(C^y&(k^C))+b[12]+1804603682&4294967295,w=y+(I<<7&4294967295|I>>>25),I=C+(k^w&(y^k))+b[13]+4254626195&4294967295,C=w+(I<<12&4294967295|I>>>20),I=k+(y^C&(w^y))+b[14]+2792965006&4294967295,k=C+(I<<17&4294967295|I>>>15),I=y+(w^k&(C^w))+b[15]+1236535329&4294967295,y=k+(I<<22&4294967295|I>>>10),I=w+(k^C&(y^k))+b[1]+4129170786&4294967295,w=y+(I<<5&4294967295|I>>>27),I=C+(y^k&(w^y))+b[6]+3225465664&4294967295,C=w+(I<<9&4294967295|I>>>23),I=k+(w^y&(C^w))+b[11]+643717713&4294967295,k=C+(I<<14&4294967295|I>>>18),I=y+(C^w&(k^C))+b[0]+3921069994&4294967295,y=k+(I<<20&4294967295|I>>>12),I=w+(k^C&(y^k))+b[5]+3593408605&4294967295,w=y+(I<<5&4294967295|I>>>27),I=C+(y^k&(w^y))+b[10]+38016083&4294967295,C=w+(I<<9&4294967295|I>>>23),I=k+(w^y&(C^w))+b[15]+3634488961&4294967295,k=C+(I<<14&4294967295|I>>>18),I=y+(C^w&(k^C))+b[4]+3889429448&4294967295,y=k+(I<<20&4294967295|I>>>12),I=w+(k^C&(y^k))+b[9]+568446438&4294967295,w=y+(I<<5&4294967295|I>>>27),I=C+(y^k&(w^y))+b[14]+3275163606&4294967295,C=w+(I<<9&4294967295|I>>>23),I=k+(w^y&(C^w))+b[3]+4107603335&4294967295,k=C+(I<<14&4294967295|I>>>18),I=y+(C^w&(k^C))+b[8]+1163531501&4294967295,y=k+(I<<20&4294967295|I>>>12),I=w+(k^C&(y^k))+b[13]+2850285829&4294967295,w=y+(I<<5&4294967295|I>>>27),I=C+(y^k&(w^y))+b[2]+4243563512&4294967295,C=w+(I<<9&4294967295|I>>>23),I=k+(w^y&(C^w))+b[7]+1735328473&4294967295,k=C+(I<<14&4294967295|I>>>18),I=y+(C^w&(k^C))+b[12]+2368359562&4294967295,y=k+(I<<20&4294967295|I>>>12),I=w+(y^k^C)+b[5]+4294588738&4294967295,w=y+(I<<4&4294967295|I>>>28),I=C+(w^y^k)+b[8]+2272392833&4294967295,C=w+(I<<11&4294967295|I>>>21),I=k+(C^w^y)+b[11]+1839030562&4294967295,k=C+(I<<16&4294967295|I>>>16),I=y+(k^C^w)+b[14]+4259657740&4294967295,y=k+(I<<23&4294967295|I>>>9),I=w+(y^k^C)+b[1]+2763975236&4294967295,w=y+(I<<4&4294967295|I>>>28),I=C+(w^y^k)+b[4]+1272893353&4294967295,C=w+(I<<11&4294967295|I>>>21),I=k+(C^w^y)+b[7]+4139469664&4294967295,k=C+(I<<16&4294967295|I>>>16),I=y+(k^C^w)+b[10]+3200236656&4294967295,y=k+(I<<23&4294967295|I>>>9),I=w+(y^k^C)+b[13]+681279174&4294967295,w=y+(I<<4&4294967295|I>>>28),I=C+(w^y^k)+b[0]+3936430074&4294967295,C=w+(I<<11&4294967295|I>>>21),I=k+(C^w^y)+b[3]+3572445317&4294967295,k=C+(I<<16&4294967295|I>>>16),I=y+(k^C^w)+b[6]+76029189&4294967295,y=k+(I<<23&4294967295|I>>>9),I=w+(y^k^C)+b[9]+3654602809&4294967295,w=y+(I<<4&4294967295|I>>>28),I=C+(w^y^k)+b[12]+3873151461&4294967295,C=w+(I<<11&4294967295|I>>>21),I=k+(C^w^y)+b[15]+530742520&4294967295,k=C+(I<<16&4294967295|I>>>16),I=y+(k^C^w)+b[2]+3299628645&4294967295,y=k+(I<<23&4294967295|I>>>9),I=w+(k^(y|~C))+b[0]+4096336452&4294967295,w=y+(I<<6&4294967295|I>>>26),I=C+(y^(w|~k))+b[7]+1126891415&4294967295,C=w+(I<<10&4294967295|I>>>22),I=k+(w^(C|~y))+b[14]+2878612391&4294967295,k=C+(I<<15&4294967295|I>>>17),I=y+(C^(k|~w))+b[5]+4237533241&4294967295,y=k+(I<<21&4294967295|I>>>11),I=w+(k^(y|~C))+b[12]+1700485571&4294967295,w=y+(I<<6&4294967295|I>>>26),I=C+(y^(w|~k))+b[3]+2399980690&4294967295,C=w+(I<<10&4294967295|I>>>22),I=k+(w^(C|~y))+b[10]+4293915773&4294967295,k=C+(I<<15&4294967295|I>>>17),I=y+(C^(k|~w))+b[1]+2240044497&4294967295,y=k+(I<<21&4294967295|I>>>11),I=w+(k^(y|~C))+b[8]+1873313359&4294967295,w=y+(I<<6&4294967295|I>>>26),I=C+(y^(w|~k))+b[15]+4264355552&4294967295,C=w+(I<<10&4294967295|I>>>22),I=k+(w^(C|~y))+b[6]+2734768916&4294967295,k=C+(I<<15&4294967295|I>>>17),I=y+(C^(k|~w))+b[13]+1309151649&4294967295,y=k+(I<<21&4294967295|I>>>11),I=w+(k^(y|~C))+b[4]+4149444226&4294967295,w=y+(I<<6&4294967295|I>>>26),I=C+(y^(w|~k))+b[11]+3174756917&4294967295,C=w+(I<<10&4294967295|I>>>22),I=k+(w^(C|~y))+b[2]+718787259&4294967295,k=C+(I<<15&4294967295|I>>>17),I=y+(C^(k|~w))+b[9]+3951481745&4294967295,T.g[0]=T.g[0]+w&4294967295,T.g[1]=T.g[1]+(k+(I<<21&4294967295|I>>>11))&4294967295,T.g[2]=T.g[2]+k&4294967295,T.g[3]=T.g[3]+C&4294967295}r.prototype.u=function(T,w){w===void 0&&(w=T.length);for(var y=w-this.blockSize,b=this.B,k=this.h,C=0;C<w;){if(k==0)for(;C<=y;)s(this,T,C),C+=this.blockSize;if(typeof T=="string"){for(;C<w;)if(b[k++]=T.charCodeAt(C++),k==this.blockSize){s(this,b),k=0;break}}else for(;C<w;)if(b[k++]=T[C++],k==this.blockSize){s(this,b),k=0;break}}this.h=k,this.o+=w},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var w=1;w<T.length-8;++w)T[w]=0;var y=8*this.o;for(w=T.length-8;w<T.length;++w)T[w]=y&255,y/=256;for(this.u(T),T=Array(16),w=y=0;4>w;++w)for(var b=0;32>b;b+=8)T[y++]=this.g[w]>>>b&255;return T};function i(T,w){var y=a;return Object.prototype.hasOwnProperty.call(y,T)?y[T]:y[T]=w(T)}function o(T,w){this.h=w;for(var y=[],b=!0,k=T.length-1;0<=k;k--){var C=T[k]|0;b&&C==w||(y[k]=C,b=!1)}this.g=y}var a={};function l(T){return-128<=T&&128>T?i(T,function(w){return new o([w|0],0>w?-1:0)}):new o([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return S(u(-T));for(var w=[],y=1,b=0;T>=y;b++)w[b]=T/y|0,y*=4294967296;return new o(w,0)}function h(T,w){if(T.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(T.charAt(0)=="-")return S(h(T.substring(1),w));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=u(Math.pow(w,8)),b=f,k=0;k<T.length;k+=8){var C=Math.min(8,T.length-k),I=parseInt(T.substring(k,k+C),w);8>C?(C=u(Math.pow(w,C)),b=b.j(C).add(u(I))):(b=b.j(y),b=b.add(u(I)))}return b}var f=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(R(this))return-S(this).m();for(var T=0,w=1,y=0;y<this.g.length;y++){var b=this.i(y);T+=(0<=b?b:4294967296+b)*w,w*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(E(this))return"0";if(R(this))return"-"+S(this).toString(T);for(var w=u(Math.pow(T,6)),y=this,b="";;){var k=P(y,w).g;y=x(y,k.j(w));var C=((0<y.g.length?y.g[0]:y.h)>>>0).toString(T);if(y=k,E(y))return C+b;for(;6>C.length;)C="0"+C;b=C+b}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function E(T){if(T.h!=0)return!1;for(var w=0;w<T.g.length;w++)if(T.g[w]!=0)return!1;return!0}function R(T){return T.h==-1}t.l=function(T){return T=x(this,T),R(T)?-1:E(T)?0:1};function S(T){for(var w=T.g.length,y=[],b=0;b<w;b++)y[b]=~T.g[b];return new o(y,~T.h).add(p)}t.abs=function(){return R(this)?S(this):this},t.add=function(T){for(var w=Math.max(this.g.length,T.g.length),y=[],b=0,k=0;k<=w;k++){var C=b+(this.i(k)&65535)+(T.i(k)&65535),I=(C>>>16)+(this.i(k)>>>16)+(T.i(k)>>>16);b=I>>>16,C&=65535,I&=65535,y[k]=I<<16|C}return new o(y,y[y.length-1]&-2147483648?-1:0)};function x(T,w){return T.add(S(w))}t.j=function(T){if(E(this)||E(T))return f;if(R(this))return R(T)?S(this).j(S(T)):S(S(this).j(T));if(R(T))return S(this.j(S(T)));if(0>this.l(g)&&0>T.l(g))return u(this.m()*T.m());for(var w=this.g.length+T.g.length,y=[],b=0;b<2*w;b++)y[b]=0;for(b=0;b<this.g.length;b++)for(var k=0;k<T.g.length;k++){var C=this.i(b)>>>16,I=this.i(b)&65535,me=T.i(k)>>>16,Se=T.i(k)&65535;y[2*b+2*k]+=I*Se,O(y,2*b+2*k),y[2*b+2*k+1]+=C*Se,O(y,2*b+2*k+1),y[2*b+2*k+1]+=I*me,O(y,2*b+2*k+1),y[2*b+2*k+2]+=C*me,O(y,2*b+2*k+2)}for(b=0;b<w;b++)y[b]=y[2*b+1]<<16|y[2*b];for(b=w;b<2*w;b++)y[b]=0;return new o(y,0)};function O(T,w){for(;(T[w]&65535)!=T[w];)T[w+1]+=T[w]>>>16,T[w]&=65535,w++}function _(T,w){this.g=T,this.h=w}function P(T,w){if(E(w))throw Error("division by zero");if(E(T))return new _(f,f);if(R(T))return w=P(S(T),w),new _(S(w.g),S(w.h));if(R(w))return w=P(T,S(w)),new _(S(w.g),w.h);if(30<T.g.length){if(R(T)||R(w))throw Error("slowDivide_ only works with positive integers.");for(var y=p,b=w;0>=b.l(T);)y=D(y),b=D(b);var k=F(y,1),C=F(b,1);for(b=F(b,2),y=F(y,2);!E(b);){var I=C.add(b);0>=I.l(T)&&(k=k.add(y),C=I),b=F(b,1),y=F(y,1)}return w=x(T,k.j(w)),new _(k,w)}for(k=f;0<=T.l(w);){for(y=Math.max(1,Math.floor(T.m()/w.m())),b=Math.ceil(Math.log(y)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),C=u(y),I=C.j(w);R(I)||0<I.l(T);)y-=b,C=u(y),I=C.j(w);E(C)&&(C=p),k=k.add(C),T=x(T,I)}return new _(k,T)}t.A=function(T){return P(this,T).h},t.and=function(T){for(var w=Math.max(this.g.length,T.g.length),y=[],b=0;b<w;b++)y[b]=this.i(b)&T.i(b);return new o(y,this.h&T.h)},t.or=function(T){for(var w=Math.max(this.g.length,T.g.length),y=[],b=0;b<w;b++)y[b]=this.i(b)|T.i(b);return new o(y,this.h|T.h)},t.xor=function(T){for(var w=Math.max(this.g.length,T.g.length),y=[],b=0;b<w;b++)y[b]=this.i(b)^T.i(b);return new o(y,this.h^T.h)};function D(T){for(var w=T.g.length+1,y=[],b=0;b<w;b++)y[b]=T.i(b)<<1|T.i(b-1)>>>31;return new o(y,T.h)}function F(T,w){var y=w>>5;w%=32;for(var b=T.g.length-y,k=[],C=0;C<b;C++)k[C]=0<w?T.i(C+y)>>>w|T.i(C+y+1)<<32-w:T.i(C+y);return new o(k,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,h0=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,fs=o}).apply(typeof kg<"u"?kg:typeof self<"u"?self:typeof window<"u"?window:{});var za=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var f0,d0,no,p0,ac,Ch,m0,g0,_0;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,m){return c==Array.prototype||c==Object.prototype||(c[d]=m.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof za=="object"&&za];for(var d=0;d<c.length;++d){var m=c[d];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function s(c,d){if(d)e:{var m=r;c=c.split(".");for(var v=0;v<c.length-1;v++){var V=c[v];if(!(V in m))break e;m=m[V]}c=c[c.length-1],v=m[c],d=d(v),d!=v&&d!=null&&e(m,c,{configurable:!0,writable:!0,value:d})}}function i(c,d){c instanceof String&&(c+="");var m=0,v=!1,V={next:function(){if(!v&&m<c.length){var U=m++;return{value:d(U,c[U]),done:!1}}return v=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}s("Array.prototype.values",function(c){return c||function(){return i(this,function(d,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function u(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,m){return c.call.apply(c.bind,arguments)}function f(c,d,m){if(!c)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,v),c.apply(d,V)}}return function(){return c.apply(d,arguments)}}function p(c,d,m){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function g(c,d){var m=Array.prototype.slice.call(arguments,1);return function(){var v=m.slice();return v.push.apply(v,arguments),c.apply(this,v)}}function E(c,d){function m(){}m.prototype=d.prototype,c.aa=d.prototype,c.prototype=new m,c.prototype.constructor=c,c.Qb=function(v,V,U){for(var J=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)J[Be-2]=arguments[Be];return d.prototype[V].apply(v,J)}}function R(c){const d=c.length;if(0<d){const m=Array(d);for(let v=0;v<d;v++)m[v]=c[v];return m}return[]}function S(c,d){for(let m=1;m<arguments.length;m++){const v=arguments[m];if(l(v)){const V=c.length||0,U=v.length||0;c.length=V+U;for(let J=0;J<U;J++)c[V+J]=v[J]}else c.push(v)}}class x{constructor(d,m){this.i=d,this.j=m,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function O(c){return/^[\s\xa0]*$/.test(c)}function _(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function P(c){return P[" "](c),c}P[" "]=function(){};var D=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function F(c,d,m){for(const v in c)d.call(m,c[v],v,c)}function T(c,d){for(const m in c)d.call(void 0,c[m],m,c)}function w(c){const d={};for(const m in c)d[m]=c[m];return d}const y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(c,d){let m,v;for(let V=1;V<arguments.length;V++){v=arguments[V];for(m in v)c[m]=v[m];for(let U=0;U<y.length;U++)m=y[U],Object.prototype.hasOwnProperty.call(v,m)&&(c[m]=v[m])}}function k(c){var d=1;c=c.split(":");const m=[];for(;0<d&&c.length;)m.push(c.shift()),d--;return c.length&&m.push(c.join(":")),m}function C(c){a.setTimeout(()=>{throw c},0)}function I(){var c=Ye;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class me{constructor(){this.h=this.g=null}add(d,m){const v=Se.get();v.set(d,m),this.h?this.h.next=v:this.g=v,this.h=v}}var Se=new x(()=>new ne,c=>c.reset());class ne{constructor(){this.next=this.g=this.h=null}set(d,m){this.h=d,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,te=!1,Ye=new me,gn=()=>{const c=a.Promise.resolve(void 0);pe=()=>{c.then(on)}};var on=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(m){C(m)}var d=Se;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}te=!1};function Xe(){this.s=this.s,this.C=this.C}Xe.prototype.s=!1,Xe.prototype.ma=function(){this.s||(this.s=!0,this.N())},Xe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ze(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Ze.prototype.h=function(){this.defaultPrevented=!0};var lr=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const m=()=>{};a.addEventListener("test",m,d),a.removeEventListener("test",m,d)}catch{}return c}();function Rn(c,d){if(Ze.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var m=this.type=c.type,v=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(D){e:{try{P(d.nodeName);var V=!0;break e}catch{}V=!1}V||(d=null)}}else m=="mouseover"?d=c.fromElement:m=="mouseout"&&(d=c.toElement);this.relatedTarget=d,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:qt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Rn.aa.h.call(this)}}E(Rn,Ze);var qt={2:"touch",3:"pen",4:"mouse"};Rn.prototype.h=function(){Rn.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var B="closure_listenable_"+(1e6*Math.random()|0),ee=0;function X(c,d,m,v,V){this.listener=c,this.proxy=null,this.src=d,this.type=m,this.capture=!!v,this.ha=V,this.key=++ee,this.da=this.fa=!1}function re(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Pe(c){this.src=c,this.g={},this.h=0}Pe.prototype.add=function(c,d,m,v,V){var U=c.toString();c=this.g[U],c||(c=this.g[U]=[],this.h++);var J=A(c,d,v,V);return-1<J?(d=c[J],m||(d.fa=!1)):(d=new X(d,this.src,U,!!v,V),d.fa=m,c.push(d)),d};function je(c,d){var m=d.type;if(m in c.g){var v=c.g[m],V=Array.prototype.indexOf.call(v,d,void 0),U;(U=0<=V)&&Array.prototype.splice.call(v,V,1),U&&(re(d),c.g[m].length==0&&(delete c.g[m],c.h--))}}function A(c,d,m,v){for(var V=0;V<c.length;++V){var U=c[V];if(!U.da&&U.listener==d&&U.capture==!!m&&U.ha==v)return V}return-1}var N="closure_lm_"+(1e6*Math.random()|0),L={};function H(c,d,m,v,V){if(Array.isArray(d)){for(var U=0;U<d.length;U++)H(c,d[U],m,v,V);return null}return m=ce(m),c&&c[B]?c.K(d,m,u(v)?!!v.capture:!!v,V):$(c,d,m,!1,v,V)}function $(c,d,m,v,V,U){if(!d)throw Error("Invalid event type");var J=u(V)?!!V.capture:!!V,Be=le(c);if(Be||(c[N]=Be=new Pe(c)),m=Be.add(d,m,v,J,U),m.proxy)return m;if(v=K(),m.proxy=v,v.src=c,v.listener=m,c.addEventListener)lr||(V=J),V===void 0&&(V=!1),c.addEventListener(d.toString(),v,V);else if(c.attachEvent)c.attachEvent(G(d.toString()),v);else if(c.addListener&&c.removeListener)c.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return m}function K(){function c(m){return d.call(c.src,c.listener,m)}const d=z;return c}function Y(c,d,m,v,V){if(Array.isArray(d))for(var U=0;U<d.length;U++)Y(c,d[U],m,v,V);else v=u(v)?!!v.capture:!!v,m=ce(m),c&&c[B]?(c=c.i,d=String(d).toString(),d in c.g&&(U=c.g[d],m=A(U,m,v,V),-1<m&&(re(U[m]),Array.prototype.splice.call(U,m,1),U.length==0&&(delete c.g[d],c.h--)))):c&&(c=le(c))&&(d=c.g[d.toString()],c=-1,d&&(c=A(d,m,v,V)),(m=-1<c?d[c]:null)&&Q(m))}function Q(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[B])je(d.i,c);else{var m=c.type,v=c.proxy;d.removeEventListener?d.removeEventListener(m,v,c.capture):d.detachEvent?d.detachEvent(G(m),v):d.addListener&&d.removeListener&&d.removeListener(v),(m=le(d))?(je(m,c),m.h==0&&(m.src=null,d[N]=null)):re(c)}}}function G(c){return c in L?L[c]:L[c]="on"+c}function z(c,d){if(c.da)c=!0;else{d=new Rn(d,this);var m=c.listener,v=c.ha||c.src;c.fa&&Q(c),c=m.call(v,d)}return c}function le(c){return c=c[N],c instanceof Pe?c:null}var Z="__closure_events_fn_"+(1e9*Math.random()>>>0);function ce(c){return typeof c=="function"?c:(c[Z]||(c[Z]=function(d){return c.handleEvent(d)}),c[Z])}function oe(){Xe.call(this),this.i=new Pe(this),this.M=this,this.F=null}E(oe,Xe),oe.prototype[B]=!0,oe.prototype.removeEventListener=function(c,d,m,v){Y(this,c,d,m,v)};function fe(c,d){var m,v=c.F;if(v)for(m=[];v;v=v.F)m.push(v);if(c=c.M,v=d.type||d,typeof d=="string")d=new Ze(d,c);else if(d instanceof Ze)d.target=d.target||c;else{var V=d;d=new Ze(v,c),b(d,V)}if(V=!0,m)for(var U=m.length-1;0<=U;U--){var J=d.g=m[U];V=Me(J,v,!0,d)&&V}if(J=d.g=c,V=Me(J,v,!0,d)&&V,V=Me(J,v,!1,d)&&V,m)for(U=0;U<m.length;U++)J=d.g=m[U],V=Me(J,v,!1,d)&&V}oe.prototype.N=function(){if(oe.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var m=c.g[d],v=0;v<m.length;v++)re(m[v]);delete c.g[d],c.h--}}this.F=null},oe.prototype.K=function(c,d,m,v){return this.i.add(String(c),d,!1,m,v)},oe.prototype.L=function(c,d,m,v){return this.i.add(String(c),d,!0,m,v)};function Me(c,d,m,v){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var V=!0,U=0;U<d.length;++U){var J=d[U];if(J&&!J.da&&J.capture==m){var Be=J.listener,yt=J.ha||J.src;J.fa&&je(c.i,J),V=Be.call(yt,v)!==!1&&V}}return V&&!v.defaultPrevented}function xe(c,d,m){if(typeof c=="function")m&&(c=p(c,m));else if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function Tt(c){c.g=xe(()=>{c.g=null,c.i&&(c.i=!1,Tt(c))},c.l);const d=c.h;c.h=null,c.m.apply(null,d)}class ft extends Xe{constructor(d,m){super(),this.m=d,this.l=m,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Tt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _t(c){Xe.call(this),this.h=c,this.g={}}E(_t,Xe);var It=[];function ur(c){F(c.g,function(d,m){this.g.hasOwnProperty(m)&&Q(d)},c),c.g={}}_t.prototype.N=function(){_t.aa.N.call(this),ur(this)},_t.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Os=a.JSON.stringify,Mt=a.JSON.parse,an=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function ks(){}ks.prototype.h=null;function op(c){return c.h||(c.h=c.i())}function ap(){}var Vi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Jl(){Ze.call(this,"d")}E(Jl,Ze);function Yl(){Ze.call(this,"c")}E(Yl,Ze);var Qr={},cp=null;function ya(){return cp=cp||new oe}Qr.La="serverreachability";function lp(c){Ze.call(this,Qr.La,c)}E(lp,Ze);function Mi(c){const d=ya();fe(d,new lp(d))}Qr.STAT_EVENT="statevent";function up(c,d){Ze.call(this,Qr.STAT_EVENT,c),this.stat=d}E(up,Ze);function Lt(c){const d=ya();fe(d,new up(d,c))}Qr.Ma="timingevent";function hp(c,d){Ze.call(this,Qr.Ma,c),this.size=d}E(hp,Ze);function Li(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Fi(){this.g=!0}Fi.prototype.xa=function(){this.g=!1};function uT(c,d,m,v,V,U){c.info(function(){if(c.g)if(U)for(var J="",Be=U.split("&"),yt=0;yt<Be.length;yt++){var De=Be[yt].split("=");if(1<De.length){var At=De[0];De=De[1];var St=At.split("_");J=2<=St.length&&St[1]=="type"?J+(At+"="+De+"&"):J+(At+"=redacted&")}}else J=null;else J=U;return"XMLHTTP REQ ("+v+") [attempt "+V+"]: "+d+`
`+m+`
`+J})}function hT(c,d,m,v,V,U,J){c.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+V+"]: "+d+`
`+m+`
`+U+" "+J})}function Ns(c,d,m,v){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+dT(c,m)+(v?" "+v:"")})}function fT(c,d){c.info(function(){return"TIMEOUT: "+d})}Fi.prototype.info=function(){};function dT(c,d){if(!c.g)return d;if(!d)return null;try{var m=JSON.parse(d);if(m){for(c=0;c<m.length;c++)if(Array.isArray(m[c])){var v=m[c];if(!(2>v.length)){var V=v[1];if(Array.isArray(V)&&!(1>V.length)){var U=V[0];if(U!="noop"&&U!="stop"&&U!="close")for(var J=1;J<V.length;J++)V[J]=""}}}}return Os(m)}catch{return d}}var va={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fp={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xl;function Ea(){}E(Ea,ks),Ea.prototype.g=function(){return new XMLHttpRequest},Ea.prototype.i=function(){return{}},Xl=new Ea;function hr(c,d,m,v){this.j=c,this.i=d,this.l=m,this.R=v||1,this.U=new _t(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dp}function dp(){this.i=null,this.g="",this.h=!1}var pp={},Zl={};function eu(c,d,m){c.L=1,c.v=Ia(Hn(d)),c.m=m,c.P=!0,mp(c,null)}function mp(c,d){c.F=Date.now(),wa(c),c.A=Hn(c.v);var m=c.A,v=c.R;Array.isArray(v)||(v=[String(v)]),Pp(m.i,"t",v),c.C=0,m=c.j.J,c.h=new dp,c.g=Wp(c.j,m?d:null,!c.m),0<c.O&&(c.M=new ft(p(c.Y,c,c.g),c.O)),d=c.U,m=c.g,v=c.ca;var V="readystatechange";Array.isArray(V)||(V&&(It[0]=V.toString()),V=It);for(var U=0;U<V.length;U++){var J=H(m,V[U],v||d.handleEvent,!1,d.h||d);if(!J)break;d.g[J.key]=J}d=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Mi(),uT(c.i,c.u,c.A,c.l,c.R,c.m)}hr.prototype.ca=function(c){c=c.target;const d=this.M;d&&qn(c)==3?d.j():this.Y(c)},hr.prototype.Y=function(c){try{if(c==this.g)e:{const St=qn(this.g);var d=this.g.Ba();const Vs=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||Mp(this.g)))){this.J||St!=4||d==7||(d==8||0>=Vs?Mi(3):Mi(2)),tu(this);var m=this.g.Z();this.X=m;t:if(gp(this)){var v=Mp(this.g);c="";var V=v.length,U=qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jr(this),Ui(this);var J="";break t}this.h.i=new a.TextDecoder}for(d=0;d<V;d++)this.h.h=!0,c+=this.h.i.decode(v[d],{stream:!(U&&d==V-1)});v.length=0,this.h.g+=c,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=m==200,hT(this.i,this.u,this.A,this.l,this.R,St,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,yt=this.g;if((Be=yt.g?yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(Be)){var De=Be;break t}}De=null}if(m=De)Ns(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nu(this,m);else{this.o=!1,this.s=3,Lt(12),Jr(this),Ui(this);break e}}if(this.P){m=!0;let _n;for(;!this.J&&this.C<J.length;)if(_n=pT(this,J),_n==Zl){St==4&&(this.s=4,Lt(14),m=!1),Ns(this.i,this.l,null,"[Incomplete Response]");break}else if(_n==pp){this.s=4,Lt(15),Ns(this.i,this.l,J,"[Invalid Chunk]"),m=!1;break}else Ns(this.i,this.l,_n,null),nu(this,_n);if(gp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||J.length!=0||this.h.h||(this.s=1,Lt(16),m=!1),this.o=this.o&&m,!m)Ns(this.i,this.l,J,"[Invalid Chunked Response]"),Jr(this),Ui(this);else if(0<J.length&&!this.W){this.W=!0;var At=this.j;At.g==this&&At.ba&&!At.M&&(At.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),cu(At),At.M=!0,Lt(11))}}else Ns(this.i,this.l,J,null),nu(this,J);St==4&&Jr(this),this.o&&!this.J&&(St==4?Hp(this.j,this):(this.o=!1,wa(this)))}else kT(this.g),m==400&&0<J.indexOf("Unknown SID")?(this.s=3,Lt(12)):(this.s=0,Lt(13)),Jr(this),Ui(this)}}}catch{}finally{}};function gp(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function pT(c,d){var m=c.C,v=d.indexOf(`
`,m);return v==-1?Zl:(m=Number(d.substring(m,v)),isNaN(m)?pp:(v+=1,v+m>d.length?Zl:(d=d.slice(v,v+m),c.C=v+m,d)))}hr.prototype.cancel=function(){this.J=!0,Jr(this)};function wa(c){c.S=Date.now()+c.I,_p(c,c.I)}function _p(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Li(p(c.ba,c),d)}function tu(c){c.B&&(a.clearTimeout(c.B),c.B=null)}hr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(fT(this.i,this.A),this.L!=2&&(Mi(),Lt(17)),Jr(this),this.s=2,Ui(this)):_p(this,this.S-c)};function Ui(c){c.j.G==0||c.J||Hp(c.j,c)}function Jr(c){tu(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,ur(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function nu(c,d){try{var m=c.j;if(m.G!=0&&(m.g==c||ru(m.h,c))){if(!c.K&&ru(m.h,c)&&m.G==3){try{var v=m.Da.g.parse(d)}catch{v=null}if(Array.isArray(v)&&v.length==3){var V=v;if(V[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<c.F)Pa(m),Ra(m);else break e;au(m),Lt(18)}}else m.za=V[1],0<m.za-m.T&&37500>V[2]&&m.F&&m.v==0&&!m.C&&(m.C=Li(p(m.Za,m),6e3));if(1>=Ep(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Xr(m,11)}else if((c.K||m.g==c)&&Pa(m),!O(d))for(V=m.Da.g.parse(d),d=0;d<V.length;d++){let De=V[d];if(m.T=De[0],De=De[1],m.G==2)if(De[0]=="c"){m.K=De[1],m.ia=De[2];const At=De[3];At!=null&&(m.la=At,m.j.info("VER="+m.la));const St=De[4];St!=null&&(m.Aa=St,m.j.info("SVER="+m.Aa));const Vs=De[5];Vs!=null&&typeof Vs=="number"&&0<Vs&&(v=1.5*Vs,m.L=v,m.j.info("backChannelRequestTimeoutMs_="+v)),v=m;const _n=c.g;if(_n){const ka=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ka){var U=v.h;U.g||ka.indexOf("spdy")==-1&&ka.indexOf("quic")==-1&&ka.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(su(U,U.h),U.h=null))}if(v.D){const lu=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;lu&&(v.ya=lu,Ge(v.I,v.D,lu))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-c.F,m.j.info("Handshake RTT: "+m.R+"ms")),v=m;var J=c;if(v.qa=zp(v,v.J?v.ia:null,v.W),J.K){wp(v.h,J);var Be=J,yt=v.L;yt&&(Be.I=yt),Be.B&&(tu(Be),wa(Be)),v.g=J}else $p(v);0<m.i.length&&Ca(m)}else De[0]!="stop"&&De[0]!="close"||Xr(m,7);else m.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?Xr(m,7):ou(m):De[0]!="noop"&&m.l&&m.l.ta(De),m.v=0)}}Mi(4)}catch{}}var mT=class{constructor(c,d){this.g=c,this.map=d}};function yp(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vp(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ep(c){return c.h?1:c.g?c.g.size:0}function ru(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function su(c,d){c.g?c.g.add(d):c.h=d}function wp(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}yp.prototype.cancel=function(){if(this.i=bp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function bp(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(const m of c.g.values())d=d.concat(m.D);return d}return R(c.i)}function gT(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var d=[],m=c.length,v=0;v<m;v++)d.push(c[v]);return d}d=[],m=0;for(v in c)d[m++]=c[v];return d}function _T(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var d=[];c=c.length;for(var m=0;m<c;m++)d.push(m);return d}d=[],m=0;for(const v in c)d[m++]=v;return d}}}function Tp(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var m=_T(c),v=gT(c),V=v.length,U=0;U<V;U++)d.call(void 0,v[U],m&&m[U],c)}var Ip=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yT(c,d){if(c){c=c.split("&");for(var m=0;m<c.length;m++){var v=c[m].indexOf("="),V=null;if(0<=v){var U=c[m].substring(0,v);V=c[m].substring(v+1)}else U=c[m];d(U,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Yr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Yr){this.h=c.h,ba(this,c.j),this.o=c.o,this.g=c.g,Ta(this,c.s),this.l=c.l;var d=c.i,m=new Bi;m.i=d.i,d.g&&(m.g=new Map(d.g),m.h=d.h),Ap(this,m),this.m=c.m}else c&&(d=String(c).match(Ip))?(this.h=!1,ba(this,d[1]||"",!0),this.o=ji(d[2]||""),this.g=ji(d[3]||"",!0),Ta(this,d[4]),this.l=ji(d[5]||"",!0),Ap(this,d[6]||"",!0),this.m=ji(d[7]||"")):(this.h=!1,this.i=new Bi(null,this.h))}Yr.prototype.toString=function(){var c=[],d=this.j;d&&c.push($i(d,Sp,!0),":");var m=this.g;return(m||d=="file")&&(c.push("//"),(d=this.o)&&c.push($i(d,Sp,!0),"@"),c.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&c.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&c.push("/"),c.push($i(m,m.charAt(0)=="/"?wT:ET,!0))),(m=this.i.toString())&&c.push("?",m),(m=this.m)&&c.push("#",$i(m,TT)),c.join("")};function Hn(c){return new Yr(c)}function ba(c,d,m){c.j=m?ji(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Ta(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function Ap(c,d,m){d instanceof Bi?(c.i=d,IT(c.i,c.h)):(m||(d=$i(d,bT)),c.i=new Bi(d,c.h))}function Ge(c,d,m){c.i.set(d,m)}function Ia(c){return Ge(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ji(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function $i(c,d,m){return typeof c=="string"?(c=encodeURI(c).replace(d,vT),m&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function vT(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Sp=/[#\/\?@]/g,ET=/[#\?:]/g,wT=/[#\?]/g,bT=/[#\?@]/g,TT=/#/g;function Bi(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function fr(c){c.g||(c.g=new Map,c.h=0,c.i&&yT(c.i,function(d,m){c.add(decodeURIComponent(d.replace(/\+/g," ")),m)}))}t=Bi.prototype,t.add=function(c,d){fr(this),this.i=null,c=xs(this,c);var m=this.g.get(c);return m||this.g.set(c,m=[]),m.push(d),this.h+=1,this};function Rp(c,d){fr(c),d=xs(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function Cp(c,d){return fr(c),d=xs(c,d),c.g.has(d)}t.forEach=function(c,d){fr(this),this.g.forEach(function(m,v){m.forEach(function(V){c.call(d,V,v,this)},this)},this)},t.na=function(){fr(this);const c=Array.from(this.g.values()),d=Array.from(this.g.keys()),m=[];for(let v=0;v<d.length;v++){const V=c[v];for(let U=0;U<V.length;U++)m.push(d[v])}return m},t.V=function(c){fr(this);let d=[];if(typeof c=="string")Cp(this,c)&&(d=d.concat(this.g.get(xs(this,c))));else{c=Array.from(this.g.values());for(let m=0;m<c.length;m++)d=d.concat(c[m])}return d},t.set=function(c,d){return fr(this),this.i=null,c=xs(this,c),Cp(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function Pp(c,d,m){Rp(c,d),0<m.length&&(c.i=null,c.g.set(xs(c,d),R(m)),c.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],d=Array.from(this.g.keys());for(var m=0;m<d.length;m++){var v=d[m];const U=encodeURIComponent(String(v)),J=this.V(v);for(v=0;v<J.length;v++){var V=U;J[v]!==""&&(V+="="+encodeURIComponent(String(J[v]))),c.push(V)}}return this.i=c.join("&")};function xs(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function IT(c,d){d&&!c.j&&(fr(c),c.i=null,c.g.forEach(function(m,v){var V=v.toLowerCase();v!=V&&(Rp(this,v),Pp(this,V,m))},c)),c.j=d}function AT(c,d){const m=new Fi;if(a.Image){const v=new Image;v.onload=g(dr,m,"TestLoadImage: loaded",!0,d,v),v.onerror=g(dr,m,"TestLoadImage: error",!1,d,v),v.onabort=g(dr,m,"TestLoadImage: abort",!1,d,v),v.ontimeout=g(dr,m,"TestLoadImage: timeout",!1,d,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=c}else d(!1)}function ST(c,d){const m=new Fi,v=new AbortController,V=setTimeout(()=>{v.abort(),dr(m,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:v.signal}).then(U=>{clearTimeout(V),U.ok?dr(m,"TestPingServer: ok",!0,d):dr(m,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(V),dr(m,"TestPingServer: error",!1,d)})}function dr(c,d,m,v,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),v(m)}catch{}}function RT(){this.g=new an}function CT(c,d,m){const v=m||"";try{Tp(c,function(V,U){let J=V;u(V)&&(J=Os(V)),d.push(v+U+"="+encodeURIComponent(J))})}catch(V){throw d.push(v+"type="+encodeURIComponent("_badmap")),V}}function Hi(c){this.l=c.Ub||null,this.j=c.eb||!1}E(Hi,ks),Hi.prototype.g=function(){return new Aa(this.l,this.j)},Hi.prototype.i=function(c){return function(){return c}}({});function Aa(c,d){oe.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Aa,oe),t=Aa.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Ki(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qi(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ki(this)),this.g&&(this.readyState=3,Ki(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Op(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Op(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?qi(this):Ki(this),this.readyState==3&&Op(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,qi(this))},t.Qa=function(c){this.g&&(this.response=c,qi(this))},t.ga=function(){this.g&&qi(this)};function qi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ki(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],d=this.h.entries();for(var m=d.next();!m.done;)m=m.value,c.push(m[0]+": "+m[1]),m=d.next();return c.join(`\r
`)};function Ki(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Aa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function kp(c){let d="";return F(c,function(m,v){d+=v,d+=":",d+=m,d+=`\r
`}),d}function iu(c,d,m){e:{for(v in m){var v=!1;break e}v=!0}v||(m=kp(m),typeof c=="string"?m!=null&&encodeURIComponent(String(m)):Ge(c,d,m))}function tt(c){oe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(tt,oe);var PT=/^https?$/i,OT=["POST","PUT"];t=tt.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,m,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xl.g(),this.v=this.o?op(this.o):op(Xl),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(U){Np(this,U);return}if(c=m||"",m=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var V in v)m.set(V,v[V]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const U of v.keys())m.set(U,v.get(U));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(m.keys()).find(U=>U.toLowerCase()=="content-type"),V=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(OT,d,void 0))||v||V||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,J]of m)this.g.setRequestHeader(U,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vp(this),this.u=!0,this.g.send(c),this.u=!1}catch(U){Np(this,U)}};function Np(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,xp(c),Sa(c)}function xp(c){c.A||(c.A=!0,fe(c,"complete"),fe(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,fe(this,"complete"),fe(this,"abort"),Sa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sa(this,!0)),tt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Dp(this):this.bb())},t.bb=function(){Dp(this)};function Dp(c){if(c.h&&typeof o<"u"&&(!c.v[1]||qn(c)!=4||c.Z()!=2)){if(c.u&&qn(c)==4)xe(c.Ea,0,c);else if(fe(c,"readystatechange"),qn(c)==4){c.h=!1;try{const J=c.Z();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var m;if(!(m=d)){var v;if(v=J===0){var V=String(c.D).match(Ip)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),v=!PT.test(V?V.toLowerCase():"")}m=v}if(m)fe(c,"complete"),fe(c,"success");else{c.m=6;try{var U=2<qn(c)?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.Z()+"]",xp(c)}}finally{Sa(c)}}}}function Sa(c,d){if(c.g){Vp(c);const m=c.g,v=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||fe(c,"ready");try{m.onreadystatechange=v}catch{}}}function Vp(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function qn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<qn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),Mt(d)}};function Mp(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function kT(c){const d={};c=(c.g&&2<=qn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<c.length;v++){if(O(c[v]))continue;var m=k(c[v]);const V=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const U=d[V]||[];d[V]=U,U.push(m)}T(d,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zi(c,d,m){return m&&m.internalChannelParams&&m.internalChannelParams[c]||d}function Lp(c){this.Aa=0,this.i=[],this.j=new Fi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zi("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zi("baseRetryDelayMs",5e3,c),this.cb=zi("retryDelaySeedMs",1e4,c),this.Wa=zi("forwardChannelMaxRetries",2,c),this.wa=zi("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new yp(c&&c.concurrentRequestLimit),this.Da=new RT,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Lp.prototype,t.la=8,t.G=1,t.connect=function(c,d,m,v){Lt(0),this.W=c,this.H=d||{},m&&v!==void 0&&(this.H.OSID=m,this.H.OAID=v),this.F=this.X,this.I=zp(this,null,this.W),Ca(this)};function ou(c){if(Fp(c),c.G==3){var d=c.U++,m=Hn(c.I);if(Ge(m,"SID",c.K),Ge(m,"RID",d),Ge(m,"TYPE","terminate"),Wi(c,m),d=new hr(c,c.j,d),d.L=2,d.v=Ia(Hn(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=d.v,m=!0),m||(d.g=Wp(d.j,null),d.g.ea(d.v)),d.F=Date.now(),wa(d)}Kp(c)}function Ra(c){c.g&&(cu(c),c.g.cancel(),c.g=null)}function Fp(c){Ra(c),c.u&&(a.clearTimeout(c.u),c.u=null),Pa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Ca(c){if(!vp(c.h)&&!c.s){c.s=!0;var d=c.Ga;pe||gn(),te||(pe(),te=!0),Ye.add(d,c),c.B=0}}function NT(c,d){return Ep(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Li(p(c.Ga,c,d),qp(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const V=new hr(this,this.j,c);let U=this.o;if(this.S&&(U?(U=w(U),b(U,this.S)):U=this.S),this.m!==null||this.O||(V.H=U,U=null),this.P)e:{for(var d=0,m=0;m<this.i.length;m++){t:{var v=this.i[m];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(d+=v,4096<d){d=m;break e}if(d===4096||m===this.i.length-1){d=m+1;break e}}d=1e3}else d=1e3;d=jp(this,V,d),m=Hn(this.I),Ge(m,"RID",c),Ge(m,"CVER",22),this.D&&Ge(m,"X-HTTP-Session-Id",this.D),Wi(this,m),U&&(this.O?d="headers="+encodeURIComponent(String(kp(U)))+"&"+d:this.m&&iu(m,this.m,U)),su(this.h,V),this.Ua&&Ge(m,"TYPE","init"),this.P?(Ge(m,"$req",d),Ge(m,"SID","null"),V.T=!0,eu(V,m,null)):eu(V,m,d),this.G=2}}else this.G==3&&(c?Up(this,c):this.i.length==0||vp(this.h)||Up(this))};function Up(c,d){var m;d?m=d.l:m=c.U++;const v=Hn(c.I);Ge(v,"SID",c.K),Ge(v,"RID",m),Ge(v,"AID",c.T),Wi(c,v),c.m&&c.o&&iu(v,c.m,c.o),m=new hr(c,c.j,m,c.B+1),c.m===null&&(m.H=c.o),d&&(c.i=d.D.concat(c.i)),d=jp(c,m,1e3),m.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),su(c.h,m),eu(m,v,d)}function Wi(c,d){c.H&&F(c.H,function(m,v){Ge(d,v,m)}),c.l&&Tp({},function(m,v){Ge(d,v,m)})}function jp(c,d,m){m=Math.min(c.i.length,m);var v=c.l?p(c.l.Na,c.l,c):null;e:{var V=c.i;let U=-1;for(;;){const J=["count="+m];U==-1?0<m?(U=V[0].g,J.push("ofs="+U)):U=0:J.push("ofs="+U);let Be=!0;for(let yt=0;yt<m;yt++){let De=V[yt].g;const At=V[yt].map;if(De-=U,0>De)U=Math.max(0,V[yt].g-100),Be=!1;else try{CT(At,J,"req"+De+"_")}catch{v&&v(At)}}if(Be){v=J.join("&");break e}}}return c=c.i.splice(0,m),d.D=c,v}function $p(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;pe||gn(),te||(pe(),te=!0),Ye.add(d,c),c.v=0}}function au(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Li(p(c.Fa,c),qp(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Bp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Li(p(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Lt(10),Ra(this),Bp(this))};function cu(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Bp(c){c.g=new hr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Hn(c.qa);Ge(d,"RID","rpc"),Ge(d,"SID",c.K),Ge(d,"AID",c.T),Ge(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ge(d,"TO",c.ja),Ge(d,"TYPE","xmlhttp"),Wi(c,d),c.m&&c.o&&iu(d,c.m,c.o),c.L&&(c.g.I=c.L);var m=c.g;c=c.ia,m.L=1,m.v=Ia(Hn(d)),m.m=null,m.P=!0,mp(m,c)}t.Za=function(){this.C!=null&&(this.C=null,Ra(this),au(this),Lt(19))};function Pa(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Hp(c,d){var m=null;if(c.g==d){Pa(c),cu(c),c.g=null;var v=2}else if(ru(c.h,d))m=d.D,wp(c.h,d),v=1;else return;if(c.G!=0){if(d.o)if(v==1){m=d.m?d.m.length:0,d=Date.now()-d.F;var V=c.B;v=ya(),fe(v,new hp(v,m)),Ca(c)}else $p(c);else if(V=d.s,V==3||V==0&&0<d.X||!(v==1&&NT(c,d)||v==2&&au(c)))switch(m&&0<m.length&&(d=c.h,d.i=d.i.concat(m)),V){case 1:Xr(c,5);break;case 4:Xr(c,10);break;case 3:Xr(c,6);break;default:Xr(c,2)}}}function qp(c,d){let m=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(m*=2),m*d}function Xr(c,d){if(c.j.info("Error code "+d),d==2){var m=p(c.fb,c),v=c.Xa;const V=!v;v=new Yr(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ba(v,"https"),Ia(v),V?AT(v.toString(),m):ST(v.toString(),m)}else Lt(2);c.G=0,c.l&&c.l.sa(d),Kp(c),Fp(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function Kp(c){if(c.G=0,c.ka=[],c.l){const d=bp(c.h);(d.length!=0||c.i.length!=0)&&(S(c.ka,d),S(c.ka,c.i),c.h.i.length=0,R(c.i),c.i.length=0),c.l.ra()}}function zp(c,d,m){var v=m instanceof Yr?Hn(m):new Yr(m);if(v.g!="")d&&(v.g=d+"."+v.g),Ta(v,v.s);else{var V=a.location;v=V.protocol,d=d?d+"."+V.hostname:V.hostname,V=+V.port;var U=new Yr(null);v&&ba(U,v),d&&(U.g=d),V&&Ta(U,V),m&&(U.l=m),v=U}return m=c.D,d=c.ya,m&&d&&Ge(v,m,d),Ge(v,"VER",c.la),Wi(c,v),v}function Wp(c,d,m){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new tt(new Hi({eb:m})):new tt(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gp(){}t=Gp.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Oa(){}Oa.prototype.g=function(c,d){return new nn(c,d)};function nn(c,d){oe.call(this),this.g=new Lp(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!O(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!O(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Ds(this)}E(nn,oe),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){ou(this.g)},nn.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var m={};m.__data__=c,c=m}else this.u&&(m={},m.__data__=Os(c),c=m);d.i.push(new mT(d.Ya++,c)),d.G==3&&Ca(d)},nn.prototype.N=function(){this.g.l=null,delete this.j,ou(this.g),delete this.g,nn.aa.N.call(this)};function Qp(c){Jl.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(const m in d){c=m;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}E(Qp,Jl);function Jp(){Yl.call(this),this.status=1}E(Jp,Yl);function Ds(c){this.g=c}E(Ds,Gp),Ds.prototype.ua=function(){fe(this.g,"a")},Ds.prototype.ta=function(c){fe(this.g,new Qp(c))},Ds.prototype.sa=function(c){fe(this.g,new Jp)},Ds.prototype.ra=function(){fe(this.g,"b")},Oa.prototype.createWebChannel=Oa.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,_0=function(){return new Oa},g0=function(){return ya()},m0=Qr,Ch={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},va.NO_ERROR=0,va.TIMEOUT=8,va.HTTP_ERROR=6,ac=va,fp.COMPLETE="complete",p0=fp,ap.EventType=Vi,Vi.OPEN="a",Vi.CLOSE="b",Vi.ERROR="c",Vi.MESSAGE="d",oe.prototype.listen=oe.prototype.K,no=ap,d0=Hi,tt.prototype.listenOnce=tt.prototype.L,tt.prototype.getLastError=tt.prototype.Ka,tt.prototype.getLastErrorCode=tt.prototype.Ba,tt.prototype.getStatus=tt.prototype.Z,tt.prototype.getResponseJson=tt.prototype.Oa,tt.prototype.getResponseText=tt.prototype.oa,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Ha,f0=tt}).apply(typeof za<"u"?za:typeof self<"u"?self:typeof window<"u"?window:{});const Ng="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ct.UNAUTHENTICATED=new Ct(null),Ct.GOOGLE_CREDENTIALS=new Ct("google-credentials-uid"),Ct.FIRST_PARTY=new Ct("first-party-uid"),Ct.MOCK_USER=new Ct("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ci="10.13.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys=new Qf("@firebase/firestore");function Xi(){return ys.logLevel}function ae(t,...e){if(ys.logLevel<=Oe.DEBUG){const n=e.map(cd);ys.debug(`Firestore (${Ci}): ${t}`,...n)}}function ir(t,...e){if(ys.logLevel<=Oe.ERROR){const n=e.map(cd);ys.error(`Firestore (${Ci}): ${t}`,...n)}}function pi(t,...e){if(ys.logLevel<=Oe.WARN){const n=e.map(cd);ys.warn(`Firestore (${Ci}): ${t}`,...n)}}function cd(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(t="Unexpected state"){const e=`FIRESTORE (${Ci}) INTERNAL ASSERTION FAILED: `+t;throw ir(e),new Error(e)}function qe(t,e){t||Ee()}function be(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends cr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ct.UNAUTHENTICATED))}shutdown(){}}class Ek{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class wk{constructor(e){this.t=e,this.currentUser=Ct.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Ur;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ur,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ur)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qe(typeof r.accessToken=="string"),new y0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string"),new Ct(e)}}class bk{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ct.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Tk{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new bk(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ct.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ik{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ak{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,ae("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(qe(typeof n.token=="string"),this.R=n.token,new Ik(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=Sk(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Ve(t,e){return t<e?-1:t>e?1:0}function mi(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ue(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ht(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.timestamp=e}static fromTimestamp(e){return new we(e)}static min(){return new we(new ht(0,0))}static max(){return new we(new ht(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ee(),r===void 0?r=e.length-n:r>e.length-n&&Ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Mo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Mo?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class nt extends Mo{construct(e,n,r){return new nt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new nt(n)}static emptyPath(){return new nt([])}}const Rk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Et extends Mo{construct(e,n,r){return new Et(e,n,r)}static isValidIdentifier(e){return Rk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Et.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Et(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ue(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new ue(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ue(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new ue(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Et(n)}static emptyPath(){return new Et([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.path=e}static fromPath(e){return new he(nt.fromString(e))}static fromName(e){return new he(nt.fromString(e).popFirst(5))}static empty(){return new he(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new nt(e.slice()))}}function Ck(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=we.fromTimestamp(r===1e9?new ht(n+1,0):new ht(n,r));return new qr(s,he.empty(),e)}function Pk(t){return new qr(t.readTime,t.key,-1)}class qr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new qr(we.min(),he.empty(),-1)}static max(){return new qr(we.max(),he.empty(),-1)}}function Ok(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=he.comparator(t.documentKey,e.documentKey),n!==0?n:Ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Nk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oa(t){if(t.code!==W.FAILED_PRECONDITION||t.message!==kk)throw t;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):q.reject(n)}static resolve(e){return new q((n,r)=>{n(e)})}static reject(e){return new q((n,r)=>{r(e)})}static waitFor(e){return new q((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=q.resolve(!1);for(const r of e)n=n.next(s=>s?q.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new q((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(h=>{o[u]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new q((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function xk(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function aa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ld.oe=-1;function Rl(t){return t==null}function Bc(t){return t===0&&1/t==-1/0}function Dk(t){return typeof t=="number"&&Number.isInteger(t)&&!Bc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Pi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function E0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,n){this.comparator=e,this.root=n||vt.EMPTY}insert(e,n){return new et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vt.BLACK,null,null))}remove(e){return new et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wa(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wa(this.root,e,this.comparator,!0)}}class Wa{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??vt.RED,this.left=s??vt.EMPTY,this.right=i??vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new vt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return vt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}vt.EMPTY=null,vt.RED=!0,vt.BLACK=!1;vt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,n,r,s,i){return this}insert(e,n,r){return new vt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Dg(this.data.getIterator())}getIteratorFrom(e){return new Dg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof wt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new wt(this.comparator);return n.data=e,n}}class Dg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.fields=e,e.sort(Et.comparator)}static empty(){return new En([])}unionWith(e){let n=new wt(Et.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new En(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return mi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new w0("Invalid base64 string: "+i):i}}(e);return new bt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new bt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bt.EMPTY_BYTE_STRING=new bt("");const Vk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kr(t){if(qe(!!t),typeof t=="string"){let e=0;const n=Vk.exec(t);if(qe(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rt(t.seconds),nanos:rt(t.nanos)}}function rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vs(t){return typeof t=="string"?bt.fromBase64String(t):bt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function hd(t){const e=t.mapValue.fields.__previous_value__;return ud(e)?hd(e):e}function Lo(t){const e=Kr(t.mapValue.fields.__local_write_time__.timestampValue);return new ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e,n,r,s,i,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Fo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Fo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Fo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Es(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ud(t)?4:Fk(t)?9007199254740991:Lk(t)?10:11:Ee()}function jn(t,e){if(t===e)return!0;const n=Es(t);if(n!==Es(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Lo(t).isEqual(Lo(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Kr(s.timestampValue),a=Kr(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return vs(s.bytesValue).isEqual(vs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return rt(s.geoPointValue.latitude)===rt(i.geoPointValue.latitude)&&rt(s.geoPointValue.longitude)===rt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return rt(s.integerValue)===rt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=rt(s.doubleValue),a=rt(i.doubleValue);return o===a?Bc(o)===Bc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return mi(t.arrayValue.values||[],e.arrayValue.values||[],jn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(xg(o)!==xg(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!jn(o[l],a[l])))return!1;return!0}(t,e);default:return Ee()}}function Uo(t,e){return(t.values||[]).find(n=>jn(n,e))!==void 0}function gi(t,e){if(t===e)return 0;const n=Es(t),r=Es(e);if(n!==r)return Ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=rt(i.integerValue||i.doubleValue),l=rt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Vg(t.timestampValue,e.timestampValue);case 4:return Vg(Lo(t),Lo(e));case 5:return Ve(t.stringValue,e.stringValue);case 6:return function(i,o){const a=vs(i),l=vs(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=Ve(a[u],l[u]);if(h!==0)return h}return Ve(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Ve(rt(i.latitude),rt(o.latitude));return a!==0?a:Ve(rt(i.longitude),rt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Mg(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,u,h;const f=i.fields||{},p=o.fields||{},g=(a=f.value)===null||a===void 0?void 0:a.arrayValue,E=(l=p.value)===null||l===void 0?void 0:l.arrayValue,R=Ve(((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0,((h=E==null?void 0:E.values)===null||h===void 0?void 0:h.length)||0);return R!==0?R:Mg(g,E)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Ga.mapValue&&o===Ga.mapValue)return 0;if(i===Ga.mapValue)return 1;if(o===Ga.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const p=Ve(l[f],h[f]);if(p!==0)return p;const g=gi(a[l[f]],u[h[f]]);if(g!==0)return g}return Ve(l.length,h.length)}(t.mapValue,e.mapValue);default:throw Ee()}}function Vg(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ve(t,e);const n=Kr(t),r=Kr(e),s=Ve(n.seconds,r.seconds);return s!==0?s:Ve(n.nanos,r.nanos)}function Mg(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=gi(n[s],r[s]);if(i)return i}return Ve(n.length,r.length)}function _i(t){return Ph(t)}function Ph(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Kr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return vs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return he.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Ph(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Ph(n.fields[o])}`;return s+"}"}(t.mapValue):Ee()}function Oh(t){return!!t&&"integerValue"in t}function fd(t){return!!t&&"arrayValue"in t}function Lg(t){return!!t&&"nullValue"in t}function Fg(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function cc(t){return!!t&&"mapValue"in t}function Lk(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function go(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Pi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=go(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=go(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Fk(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!cc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=go(n)}setAll(e){let n=Et.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=go(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());cc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return jn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];cc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Pi(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new ln(go(this.value))}}function b0(t){const e=[];return Pi(t.fields,(n,r)=>{const s=new Et([n]);if(cc(r)){const i=b0(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new En(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ot(e,0,we.min(),we.min(),we.min(),ln.empty(),0)}static newFoundDocument(e,n,r,s){return new Ot(e,1,n,we.min(),r,s,0)}static newNoDocument(e,n){return new Ot(e,2,n,we.min(),we.min(),ln.empty(),0)}static newUnknownDocument(e,n){return new Ot(e,3,n,we.min(),we.min(),ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ot&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ot(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n){this.position=e,this.inclusive=n}}function Ug(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=he.comparator(he.fromName(o.referenceValue),n.key):r=gi(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function jg(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!jn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n="asc"){this.field=e,this.dir=n}}function Uk(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{}class ct extends T0{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new $k(e,n,r):n==="array-contains"?new qk(e,r):n==="in"?new Kk(e,r):n==="not-in"?new zk(e,r):n==="array-contains-any"?new Wk(e,r):new ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Bk(e,r):new Hk(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(gi(n,this.value)):n!==null&&Es(this.value)===Es(n)&&this.matchesComparison(gi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $n extends T0{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new $n(e,n)}matches(e){return I0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function I0(t){return t.op==="and"}function A0(t){return jk(t)&&I0(t)}function jk(t){for(const e of t.filters)if(e instanceof $n)return!1;return!0}function kh(t){if(t instanceof ct)return t.field.canonicalString()+t.op.toString()+_i(t.value);if(A0(t))return t.filters.map(e=>kh(e)).join(",");{const e=t.filters.map(n=>kh(n)).join(",");return`${t.op}(${e})`}}function S0(t,e){return t instanceof ct?function(r,s){return s instanceof ct&&r.op===s.op&&r.field.isEqual(s.field)&&jn(r.value,s.value)}(t,e):t instanceof $n?function(r,s){return s instanceof $n&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&S0(o,s.filters[a]),!0):!1}(t,e):void Ee()}function R0(t){return t instanceof ct?function(n){return`${n.field.canonicalString()} ${n.op} ${_i(n.value)}`}(t):t instanceof $n?function(n){return n.op.toString()+" {"+n.getFilters().map(R0).join(" ,")+"}"}(t):"Filter"}class $k extends ct{constructor(e,n,r){super(e,n,r),this.key=he.fromName(r.referenceValue)}matches(e){const n=he.comparator(e.key,this.key);return this.matchesComparison(n)}}class Bk extends ct{constructor(e,n){super(e,"in",n),this.keys=C0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Hk extends ct{constructor(e,n){super(e,"not-in",n),this.keys=C0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function C0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>he.fromName(r.referenceValue))}class qk extends ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return fd(n)&&Uo(n.arrayValue,this.value)}}class Kk extends ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Uo(this.value.arrayValue,n)}}class zk extends ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(Uo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Uo(this.value.arrayValue,n)}}class Wk extends ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!fd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Uo(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function $g(t,e=null,n=[],r=[],s=null,i=null,o=null){return new Gk(t,e,n,r,s,i,o)}function dd(t){const e=be(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>kh(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Rl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>_i(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>_i(r)).join(",")),e.ue=n}return e.ue}function pd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Uk(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!S0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!jg(t.startAt,e.startAt)&&jg(t.endAt,e.endAt)}function Nh(t){return he.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Qk(t,e,n,r,s,i,o,a){return new Cl(t,e,n,r,s,i,o,a)}function md(t){return new Cl(t)}function Bg(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Jk(t){return t.collectionGroup!==null}function _o(t){const e=be(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new wt(Et.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new qc(i,r))}),n.has(Et.keyField().canonicalString())||e.ce.push(new qc(Et.keyField(),r))}return e.ce}function Dn(t){const e=be(t);return e.le||(e.le=Yk(e,_o(t))),e.le}function Yk(t,e){if(t.limitType==="F")return $g(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new qc(s.field,i)});const n=t.endAt?new Hc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Hc(t.startAt.position,t.startAt.inclusive):null;return $g(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function xh(t,e,n){return new Cl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Pl(t,e){return pd(Dn(t),Dn(e))&&t.limitType===e.limitType}function P0(t){return`${dd(Dn(t))}|lt:${t.limitType}`}function qs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>R0(s)).join(", ")}]`),Rl(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>_i(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>_i(s)).join(",")),`Target(${r})`}(Dn(t))}; limitType=${t.limitType})`}function Ol(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):he.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of _o(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=Ug(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,_o(r),s)||r.endAt&&!function(o,a,l){const u=Ug(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,_o(r),s))}(t,e)}function Xk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function O0(t){return(e,n)=>{let r=!1;for(const s of _o(t)){const i=Zk(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function Zk(t,e,n){const r=t.field.isKeyField()?he.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?gi(l,u):Ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Pi(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return E0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=new et(he.comparator);function or(){return eN}const k0=new et(he.comparator);function ro(...t){let e=k0;for(const n of t)e=e.insert(n.key,n);return e}function N0(t){let e=k0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ss(){return yo()}function x0(){return yo()}function yo(){return new Oi(t=>t.toString(),(t,e)=>t.isEqual(e))}const tN=new et(he.comparator),nN=new wt(he.comparator);function Re(...t){let e=nN;for(const n of t)e=e.add(n);return e}const rN=new wt(Ve);function sN(){return rN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bc(e)?"-0":e}}function D0(t){return{integerValue:""+t}}function iN(t,e){return Dk(e)?D0(e):gd(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(){this._=void 0}}function oN(t,e,n){return t instanceof Kc?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&ud(i)&&(i=hd(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof jo?M0(t,e):t instanceof $o?L0(t,e):function(s,i){const o=V0(s,i),a=Hg(o)+Hg(s.Pe);return Oh(o)&&Oh(s.Pe)?D0(a):gd(s.serializer,a)}(t,e)}function aN(t,e,n){return t instanceof jo?M0(t,e):t instanceof $o?L0(t,e):n}function V0(t,e){return t instanceof zc?function(r){return Oh(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Kc extends kl{}class jo extends kl{constructor(e){super(),this.elements=e}}function M0(t,e){const n=F0(e);for(const r of t.elements)n.some(s=>jn(s,r))||n.push(r);return{arrayValue:{values:n}}}class $o extends kl{constructor(e){super(),this.elements=e}}function L0(t,e){let n=F0(e);for(const r of t.elements)n=n.filter(s=>!jn(s,r));return{arrayValue:{values:n}}}class zc extends kl{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Hg(t){return rt(t.integerValue||t.doubleValue)}function F0(t){return fd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function cN(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof jo&&s instanceof jo||r instanceof $o&&s instanceof $o?mi(r.elements,s.elements,jn):r instanceof zc&&s instanceof zc?jn(r.Pe,s.Pe):r instanceof Kc&&s instanceof Kc}(t.transform,e.transform)}class lN{constructor(e,n){this.version=e,this.transformResults=n}}class Vn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Vn}static exists(e){return new Vn(void 0,e)}static updateTime(e){return new Vn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Nl{}function U0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new _d(t.key,Vn.none()):new ca(t.key,t.data,Vn.none());{const n=t.data,r=ln.empty();let s=new wt(Et.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Rs(t.key,r,new En(s.toArray()),Vn.none())}}function uN(t,e,n){t instanceof ca?function(s,i,o){const a=s.value.clone(),l=Kg(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Rs?function(s,i,o){if(!lc(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Kg(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(j0(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function vo(t,e,n,r){return t instanceof ca?function(i,o,a,l){if(!lc(i.precondition,o))return a;const u=i.value.clone(),h=zg(i.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Rs?function(i,o,a,l){if(!lc(i.precondition,o))return a;const u=zg(i.fieldTransforms,l,o),h=o.data;return h.setAll(j0(i)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return lc(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function hN(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=V0(r.transform,s||null);i!=null&&(n===null&&(n=ln.empty()),n.set(r.field,i))}return n||null}function qg(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&mi(r,s,(i,o)=>cN(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ca extends Nl{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Rs extends Nl{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function j0(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Kg(t,e,n){const r=new Map;qe(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,aN(o,a,n[s]))}return r}function zg(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,oN(i,o,e))}return r}class _d extends Nl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fN extends Nl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&uN(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=vo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=vo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=x0();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=U0(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(we.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Re())}isEqual(e){return this.batchId===e.batchId&&mi(this.mutations,e.mutations,(n,r)=>qg(n,r))&&mi(this.baseMutations,e.baseMutations,(n,r)=>qg(n,r))}}class yd{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){qe(e.mutations.length===r.length);let s=function(){return tN}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new yd(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it,Ne;function gN(t){switch(t){default:return Ee();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}function $0(t){if(t===void 0)return ir("GRPC error has no .code"),W.UNKNOWN;switch(t){case it.OK:return W.OK;case it.CANCELLED:return W.CANCELLED;case it.UNKNOWN:return W.UNKNOWN;case it.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case it.INTERNAL:return W.INTERNAL;case it.UNAVAILABLE:return W.UNAVAILABLE;case it.UNAUTHENTICATED:return W.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case it.NOT_FOUND:return W.NOT_FOUND;case it.ALREADY_EXISTS:return W.ALREADY_EXISTS;case it.PERMISSION_DENIED:return W.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case it.ABORTED:return W.ABORTED;case it.OUT_OF_RANGE:return W.OUT_OF_RANGE;case it.UNIMPLEMENTED:return W.UNIMPLEMENTED;case it.DATA_LOSS:return W.DATA_LOSS;default:return Ee()}}(Ne=it||(it={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=new fs([4294967295,4294967295],0);function Wg(t){const e=_N().encode(t),n=new h0;return n.update(e),new Uint8Array(n.digest())}function Gg(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new fs([n,r],0),new fs([s,i],0)]}class vd{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new so(`Invalid padding: ${n}`);if(r<0)throw new so(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new so(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new so(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=fs.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(fs.fromNumber(r)));return s.compare(yN)===1&&(s=new fs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Wg(e),[r,s]=Gg(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new vd(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=Wg(e),[r,s]=Gg(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class so extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,la.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new xl(we.min(),s,new et(Ve),or(),Re())}}class la{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new la(r,n,Re(),Re(),Re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class B0{constructor(e,n){this.targetId=e,this.me=n}}class H0{constructor(e,n,r=bt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Qg{constructor(){this.fe=0,this.ge=Yg(),this.pe=bt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Re(),n=Re(),r=Re();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ee()}}),new la(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Yg()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class vN{constructor(e){this.Le=e,this.Be=new Map,this.ke=or(),this.qe=Jg(),this.Qe=new et(Ve)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(Nh(i))if(r===0){const o=new he(i.path);this.Ue(n,o,Ot.newNoDocument(o,we.min()))}else qe(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=vs(r).toUint8Array()}catch(l){if(l instanceof w0)return pi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new vd(o,s,i)}catch(l){return pi(l instanceof so?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&Nh(a.target)){const l=new he(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Ot.newNoDocument(l,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=Re();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new xl(e,n,this.Qe,this.ke,r);return this.ke=or(),this.qe=Jg(),this.Qe=new et(Ve),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Qg,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new wt(Ve),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ae("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Qg),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Jg(){return new et(he.comparator)}function Yg(){return new et(he.comparator)}const EN={asc:"ASCENDING",desc:"DESCENDING"},wN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bN={and:"AND",or:"OR"};class TN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dh(t,e){return t.useProto3Json||Rl(e)?e:{value:e}}function Wc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function q0(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function IN(t,e){return Wc(t,e.toTimestamp())}function Mn(t){return qe(!!t),we.fromTimestamp(function(n){const r=Kr(n);return new ht(r.seconds,r.nanos)}(t))}function Ed(t,e){return Vh(t,e).canonicalString()}function Vh(t,e){const n=function(s){return new nt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function K0(t){const e=nt.fromString(t);return qe(J0(e)),e}function Mh(t,e){return Ed(t.databaseId,e.path)}function xu(t,e){const n=K0(e);if(n.get(1)!==t.databaseId.projectId)throw new ue(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ue(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new he(W0(n))}function z0(t,e){return Ed(t.databaseId,e)}function AN(t){const e=K0(t);return e.length===4?nt.emptyPath():W0(e)}function Lh(t){return new nt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function W0(t){return qe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Xg(t,e,n){return{name:Mh(t,e),fields:n.value.mapValue.fields}}function SN(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,h){return u.useProto3Json?(qe(h===void 0||typeof h=="string"),bt.fromBase64String(h||"")):(qe(h===void 0||h instanceof Buffer||h instanceof Uint8Array),bt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?W.UNKNOWN:$0(u.code);return new ue(h,u.message||"")}(o);n=new H0(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=xu(t,r.document.name),i=Mn(r.document.updateTime),o=r.document.createTime?Mn(r.document.createTime):we.min(),a=new ln({mapValue:{fields:r.document.fields}}),l=Ot.newFoundDocument(s,i,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new uc(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=xu(t,r.document),i=r.readTime?Mn(r.readTime):we.min(),o=Ot.newNoDocument(s,i),a=r.removedTargetIds||[];n=new uc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=xu(t,r.document),i=r.removedTargetIds||[];n=new uc([],i,s,null)}else{if(!("filter"in e))return Ee();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new mN(s,i),a=r.targetId;n=new B0(a,o)}}return n}function RN(t,e){let n;if(e instanceof ca)n={update:Xg(t,e.key,e.value)};else if(e instanceof _d)n={delete:Mh(t,e.key)};else if(e instanceof Rs)n={update:Xg(t,e.key,e.data),updateMask:MN(e.fieldMask)};else{if(!(e instanceof fN))return Ee();n={verify:Mh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Kc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof jo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof $o)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof zc)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:IN(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ee()}(t,e.precondition)),n}function CN(t,e){return t&&t.length>0?(qe(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Mn(s.updateTime):Mn(i);return o.isEqual(we.min())&&(o=Mn(i)),new lN(o,s.transformResults||[])}(n,e))):[]}function PN(t,e){return{documents:[z0(t,e.path)]}}function ON(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=z0(t,s);const i=function(u){if(u.length!==0)return Q0($n.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(h=>function(p){return{field:Ks(p.field),direction:xN(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Dh(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:s}}function kN(t){let e=AN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){qe(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const p=G0(f);return p instanceof $n&&A0(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(E){return new qc(zs(E.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,Rl(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,g=f.values||[];return new Hc(g,p)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const p=!f.before,g=f.values||[];return new Hc(g,p)}(n.endAt)),Qk(e,s,o,i,a,"F",l,u)}function NN(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function G0(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=zs(n.unaryFilter.field);return ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=zs(n.unaryFilter.field);return ct.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=zs(n.unaryFilter.field);return ct.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=zs(n.unaryFilter.field);return ct.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(t):t.fieldFilter!==void 0?function(n){return ct.create(zs(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return $n.create(n.compositeFilter.filters.map(r=>G0(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ee()}}(n.compositeFilter.op))}(t):Ee()}function xN(t){return EN[t]}function DN(t){return wN[t]}function VN(t){return bN[t]}function Ks(t){return{fieldPath:t.canonicalString()}}function zs(t){return Et.fromServerFormat(t.fieldPath)}function Q0(t){return t instanceof ct?function(n){if(n.op==="=="){if(Fg(n.value))return{unaryFilter:{field:Ks(n.field),op:"IS_NAN"}};if(Lg(n.value))return{unaryFilter:{field:Ks(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Fg(n.value))return{unaryFilter:{field:Ks(n.field),op:"IS_NOT_NAN"}};if(Lg(n.value))return{unaryFilter:{field:Ks(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ks(n.field),op:DN(n.op),value:n.value}}}(t):t instanceof $n?function(n){const r=n.getFilters().map(s=>Q0(s));return r.length===1?r[0]:{compositeFilter:{op:VN(n.op),filters:r}}}(t):Ee()}function MN(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function J0(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e,n,r,s,i=we.min(),o=we.min(),a=bt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new kr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){this.ct=e}}function FN(t){const e=kN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(){this.un=new jN}addToCollectionParentIndex(e,n){return this.un.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(qr.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(qr.min())}updateCollectionGroup(e,n,r){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class jN{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new wt(nt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new wt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new yi(0)}static kn(){return new yi(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(){this.changes=new Oi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ot.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&vo(r.mutation,s,En.empty(),ht.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Re()){const s=ss();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=ro();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ss();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Re()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=or();const o=yo(),a=function(){return yo()}();return n.forEach((l,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof Rs)?i=i.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),vo(h.mutation,u,h.mutation.getFieldMask(),ht.now())):o.set(u.key,En.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>{var f;return a.set(u,new BN(h,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=yo();let s=new et((o,a)=>o-a),i=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||En.empty();h=a.applyToLocalView(u,h),r.set(l,h);const f=(s.get(a.batchId)||Re()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,f=x0();h.forEach(p=>{if(!i.has(p)){const g=U0(n.get(p),r.get(p));g!==null&&f.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return he.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Jk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):q.resolve(ss());let a=-1,l=i;return o.next(u=>q.forEach(u,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?q.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{l=l.insert(h,p)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,Re())).next(h=>({batchId:a,changes:N0(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new he(n)).next(r=>{let s=ro();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=ro();return this.indexManager.getCollectionParents(e,i).next(a=>q.forEach(a,l=>{const u=function(f,p){return new Cl(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,Ot.newInvalidDocument(h)))});let a=ro();return o.forEach((l,u)=>{const h=i.get(l);h!==void 0&&vo(h.mutation,u,En.empty(),ht.now()),Ol(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return q.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Mn(s.createTime)}}(n)),q.resolve()}getNamedQuery(e,n){return q.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:FN(s.bundledQuery),readTime:Mn(s.readTime)}}(n)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(){this.overlays=new et(he.comparator),this.Ir=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ss();return q.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),q.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),q.resolve()}getOverlaysForCollection(e,n,r){const s=ss(),i=n.length+1,o=new he(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return q.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new et((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=ss(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=ss(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=s)););return q.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new pN(n,r));let i=this.Ir.get(n);i===void 0&&(i=Re(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(){this.sessionToken=bt.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(){this.Tr=new wt(pt.Er),this.dr=new wt(pt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new pt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new pt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new he(new nt([])),r=new pt(n,e),s=new pt(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new he(new nt([])),r=new pt(n,e),s=new pt(n,e+1);let i=Re();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new pt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class pt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return he.comparator(e.key,n.key)||Ve(e.wr,n.wr)}static Ar(e,n){return Ve(e.wr,n.wr)||he.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new wt(pt.Er)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new dN(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new pt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return q.resolve(o)}lookupMutationBatch(e,n){return q.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new pt(n,0),s=new pt(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new wt(Ve);return n.forEach(s=>{const i=new pt(s,0),o=new pt(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;he.isDocumentKey(i)||(i=i.child(""));const o=new pt(new he(i),0);let a=new wt(Ve);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.wr)),!0)},o),q.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){qe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return q.forEach(n.mutations,s=>{const i=new pt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new pt(n,0),s=this.br.firstAfterOrEqual(r);return q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e){this.Mr=e,this.docs=function(){return new et(he.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return q.resolve(r?r.document.mutableCopy():Ot.newInvalidDocument(n))}getEntries(e,n){let r=or();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Ot.newInvalidDocument(s))}),q.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=or();const o=n.path,a=new he(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Ok(Pk(h),r)<=0||(s.has(h.key)||Ol(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return q.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Ee()}Or(e,n){return q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new QN(this)}getSize(e){return q.resolve(this.size)}}class QN extends $N{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),q.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e){this.persistence=e,this.Nr=new Oi(n=>dd(n),pd),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.Lr=0,this.Br=new wd,this.targetCount=0,this.kr=yi.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),q.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new yi(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.Kn(n),q.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),q.waitFor(i).next(()=>s)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return q.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),q.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),q.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return q.resolve(r)}containsKey(e,n){return q.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,n){this.qr={},this.overlays={},this.Qr=new ld(0),this.Kr=!1,this.Kr=!0,this.$r=new zN,this.referenceDelegate=e(this),this.Ur=new JN(this),this.indexManager=new UN,this.remoteDocumentCache=function(s){return new GN(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new LN(n),this.Gr=new qN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new KN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new WN(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ae("MemoryPersistence","Starting transaction:",e);const s=new XN(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return q.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class XN extends Nk{constructor(e){super(),this.currentSequenceNumber=e}}class bd{constructor(e){this.persistence=e,this.Jr=new wd,this.Yr=null}static Zr(e){return new bd(e)}get Xr(){if(this.Yr)return this.Yr;throw Ee()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),q.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),q.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.Xr,r=>{const s=he.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,we.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return q.or([()=>q.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=Re(),s=Re();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Td(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return nC()?8:xk(Vt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new ZN;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Xi()<=Oe.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",qs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),q.resolve()):(Xi()<=Oe.DEBUG&&ae("QueryEngine","Query:",qs(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Xi()<=Oe.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",qs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dn(n))):q.resolve())}Yi(e,n){if(Bg(n))return q.resolve(null);let r=Dn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=xh(n,null,"F"),r=Dn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Re(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,xh(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,s){return Bg(n)||s.isEqual(we.min())?q.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?q.resolve(null):(Xi()<=Oe.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),qs(n)),this.rs(e,o,n,Ck(s,-1)).next(a=>a))})}ts(e,n){let r=new wt(O0(e));return n.forEach((s,i)=>{Ol(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return Xi()<=Oe.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",qs(n)),this.Ji.getDocumentsMatchingQuery(e,n,qr.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new et(Ve),this._s=new Oi(i=>dd(i),pd),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HN(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function nx(t,e,n,r){return new tx(t,e,n,r)}async function Y0(t,e){const n=be(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Re();for(const u of s){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of i){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function rx(t,e){const n=be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const f=u.batch,p=f.keys();let g=q.resolve();return p.forEach(E=>{g=g.next(()=>h.getEntry(l,E)).next(R=>{const S=u.docVersions.get(E);qe(S!==null),R.version.compareTo(S)<0&&(f.applyToRemoteDocument(R,u),R.isValidDocument()&&(R.setReadTime(u.commitVersion),h.addEntry(R)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Re();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function X0(t){const e=be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function sx(t,e){const n=be(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;a.push(n.Ur.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(i,h.addedDocuments,f)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(bt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(f,g),function(R,S,x){return R.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(p,g,h)&&a.push(n.Ur.updateTargetData(i,g))});let l=or(),u=Re();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(ix(i,o,e.documentUpdates).next(h=>{l=h.Ps,u=h.Is})),!r.isEqual(we.min())){const h=n.Ur.getLastRemoteSnapshotVersion(i).next(f=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return q.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.os=s,i))}function ix(t,e,n){let r=Re(),s=Re();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=or();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(we.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ae("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:s}})}function ox(t,e){const n=be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ax(t,e){const n=be(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,q.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new kr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Fh(t,e,n){const r=be(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!aa(o))throw o;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function Zg(t,e,n){const r=be(t);let s=we.min(),i=Re();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,h){const f=be(l),p=f._s.get(h);return p!==void 0?q.resolve(f.os.get(p)):f.Ur.getTargetData(u,h)}(r,o,Dn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:we.min(),n?i:Re())).next(a=>(cx(r,Xk(e),a),{documents:a,Ts:i})))}function cx(t,e,n){let r=t.us.get(e)||we.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class e_{constructor(){this.activeTargetIds=sN()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lx{constructor(){this.so=new e_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new e_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qa=null;function Du(){return Qa===null?Qa=function(){return 268435456+Math.round(2147483648*Math.random())}():Qa++,"0x"+Qa.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rt="WebChannelConnection";class dx extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=Du(),l=this.xo(n,r.toUriEncodedString());ae("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,i,o),this.No(n,l,u,s).then(h=>(ae("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw pi("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",s),h})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ci}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=hx[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=Du();return new Promise((o,a)=>{const l=new f0;l.setWithCredentials(!0),l.listenOnce(p0.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ac.NO_ERROR:const h=l.getResponseJson();ae(Rt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case ac.TIMEOUT:ae(Rt,`RPC '${e}' ${i} timed out`),a(new ue(W.DEADLINE_EXCEEDED,"Request time out"));break;case ac.HTTP_ERROR:const f=l.getStatus();if(ae(Rt,`RPC '${e}' ${i} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const E=function(S){const x=S.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(x)>=0?x:W.UNKNOWN}(g.status);a(new ue(E,g.message))}else a(new ue(W.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ue(W.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{ae(Rt,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);ae(Rt,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const s=Du(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=_0(),a=g0(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new d0({})),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");ae(Rt,`Creating RPC '${e}' stream ${s}: ${h}`,l);const f=o.createWebChannel(h,l);let p=!1,g=!1;const E=new fx({Io:S=>{g?ae(Rt,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(p||(ae(Rt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),ae(Rt,`RPC '${e}' stream ${s} sending:`,S),f.send(S))},To:()=>f.close()}),R=(S,x,O)=>{S.listen(x,_=>{try{O(_)}catch(P){setTimeout(()=>{throw P},0)}})};return R(f,no.EventType.OPEN,()=>{g||(ae(Rt,`RPC '${e}' stream ${s} transport opened.`),E.yo())}),R(f,no.EventType.CLOSE,()=>{g||(g=!0,ae(Rt,`RPC '${e}' stream ${s} transport closed`),E.So())}),R(f,no.EventType.ERROR,S=>{g||(g=!0,pi(Rt,`RPC '${e}' stream ${s} transport errored:`,S),E.So(new ue(W.UNAVAILABLE,"The operation could not be completed")))}),R(f,no.EventType.MESSAGE,S=>{var x;if(!g){const O=S.data[0];qe(!!O);const _=O,P=_.error||((x=_[0])===null||x===void 0?void 0:x.error);if(P){ae(Rt,`RPC '${e}' stream ${s} received error:`,P);const D=P.status;let F=function(y){const b=it[y];if(b!==void 0)return $0(b)}(D),T=P.message;F===void 0&&(F=W.INTERNAL,T="Unknown error status: "+D+" with message "+P.message),g=!0,E.So(new ue(F,T)),f.close()}else ae(Rt,`RPC '${e}' stream ${s} received:`,O),E.bo(O)}}),R(a,m0.STAT_EVENT,S=>{S.stat===Ch.PROXY?ae(Rt,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===Ch.NOPROXY&&ae(Rt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.wo()},0),E}}function Vu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(t){return new TN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&ae("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e,n,r,s,i,o,a,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Z0(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(ir(n.toString()),ir("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new ue(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class px extends ew{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=SN(this.serializer,e),r=function(i){if(!("targetChange"in i))return we.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?we.min():o.readTime?Mn(o.readTime):we.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Lh(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Nh(l)?{documents:PN(i,l)}:{query:ON(i,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=q0(i,o.resumeToken);const u=Dh(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(we.min())>0){a.readTime=Wc(i,o.snapshotVersion.toTimestamp());const u=Dh(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=NN(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Lh(this.serializer),n.removeTarget=e,this.a_(n)}}class mx extends ew{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return qe(!!e.streamToken),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=CN(e.writeResults,e.commitTime),r=Mn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Lh(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>RN(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new ue(W.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,Vh(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ue(W.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Vh(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ue(W.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class _x{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ir(n),this.D_=!1):ae("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{Cs(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=be(l);u.L_.add(4),await ua(u),u.q_.set("Unknown"),u.L_.delete(4),await Vl(u)}(this))})}),this.q_=new _x(r,s)}}async function Vl(t){if(Cs(t))for(const e of t.B_)await e(!0)}async function ua(t){for(const e of t.B_)await e(!1)}function tw(t,e){const n=be(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Rd(n)?Sd(n):ki(n).r_()&&Ad(n,e))}function Id(t,e){const n=be(t),r=ki(n);n.N_.delete(e),r.r_()&&nw(n,e),n.N_.size===0&&(r.r_()?r.o_():Cs(n)&&n.q_.set("Unknown"))}function Ad(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ki(t).A_(e)}function nw(t,e){t.Q_.xe(e),ki(t).R_(e)}function Sd(t){t.Q_=new vN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ki(t).start(),t.q_.v_()}function Rd(t){return Cs(t)&&!ki(t).n_()&&t.N_.size>0}function Cs(t){return be(t).L_.size===0}function rw(t){t.Q_=void 0}async function vx(t){t.q_.set("Online")}async function Ex(t){t.N_.forEach((e,n)=>{Ad(t,e)})}async function wx(t,e){rw(t),Rd(t)?(t.q_.M_(e),Sd(t)):t.q_.set("Unknown")}async function bx(t,e,n){if(t.q_.set("Online"),e instanceof H0&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Gc(t,r)}else if(e instanceof uc?t.Q_.Ke(e):e instanceof B0?t.Q_.He(e):t.Q_.We(e),!n.isEqual(we.min()))try{const r=await X0(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.N_.get(u);h&&i.N_.set(u,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const h=i.N_.get(l);if(!h)return;i.N_.set(l,h.withResumeToken(bt.EMPTY_BYTE_STRING,h.snapshotVersion)),nw(i,l);const f=new kr(h.target,l,u,h.sequenceNumber);Ad(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ae("RemoteStore","Failed to raise snapshot:",r),await Gc(t,r)}}async function Gc(t,e,n){if(!aa(e))throw e;t.L_.add(1),await ua(t),t.q_.set("Offline"),n||(n=()=>X0(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ae("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Vl(t)})}function sw(t,e){return e().catch(n=>Gc(t,n,e))}async function Ml(t){const e=be(t),n=zr(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Tx(e);)try{const s=await ox(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,Ix(e,s)}catch(s){await Gc(e,s)}iw(e)&&ow(e)}function Tx(t){return Cs(t)&&t.O_.length<10}function Ix(t,e){t.O_.push(e);const n=zr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function iw(t){return Cs(t)&&!zr(t).n_()&&t.O_.length>0}function ow(t){zr(t).start()}async function Ax(t){zr(t).p_()}async function Sx(t){const e=zr(t);for(const n of t.O_)e.m_(n.mutations)}async function Rx(t,e,n){const r=t.O_.shift(),s=yd.from(r,e,n);await sw(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Ml(t)}async function Cx(t,e){e&&zr(t).V_&&await async function(r,s){if(function(o){return gN(o)&&o!==W.ABORTED}(s.code)){const i=r.O_.shift();zr(r).s_(),await sw(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Ml(r)}}(t,e),iw(t)&&ow(t)}async function n_(t,e){const n=be(t);n.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const r=Cs(n);n.L_.add(3),await ua(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Vl(n)}async function Px(t,e){const n=be(t);e?(n.L_.delete(2),await Vl(n)):e||(n.L_.add(2),await ua(n),n.q_.set("Unknown"))}function ki(t){return t.K_||(t.K_=function(n,r,s){const i=be(n);return i.w_(),new px(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:vx.bind(null,t),Ro:Ex.bind(null,t),mo:wx.bind(null,t),d_:bx.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Rd(t)?Sd(t):t.q_.set("Unknown")):(await t.K_.stop(),rw(t))})),t.K_}function zr(t){return t.U_||(t.U_=function(n,r,s){const i=be(n);return i.w_(),new mx(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Ax.bind(null,t),mo:Cx.bind(null,t),f_:Sx.bind(null,t),g_:Rx.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Ml(t)):(await t.U_.stop(),t.O_.length>0&&(ae("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Cd(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pd(t,e){if(ir("AsyncQueue",`${e}: ${t}`),aa(t))return new ue(W.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this.comparator=e?(n,r)=>e(n,r)||he.comparator(n.key,r.key):(n,r)=>he.comparator(n.key,r.key),this.keyedMap=ro(),this.sortedSet=new et(this.comparator)}static emptySet(e){return new si(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof si)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new si;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(){this.W_=new et(he.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ee():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class vi{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new vi(e,n,si.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class kx{constructor(){this.queries=s_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=be(n),i=s.queries;s.queries=s_(),i.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new ue(W.ABORTED,"Firestore shutting down"))}}function s_(){return new Oi(t=>P0(t),Pl)}async function Nx(t,e){const n=be(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new Ox,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Pd(o,`Initialization of query '${qs(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&Od(n)}async function xx(t,e){const n=be(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Dx(t,e){const n=be(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&Od(n)}function Vx(t,e,n){const r=be(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function Od(t){t.Y_.forEach(e=>{e.next()})}var Uh,i_;(i_=Uh||(Uh={})).ea="default",i_.Cache="cache";class Mx{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new vi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=vi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Uh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e){this.key=e}}class cw{constructor(e){this.key=e}}class Lx{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Re(),this.mutatedKeys=Re(),this.Aa=O0(e),this.Ra=new si(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new r_,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),g=Ol(this.query,f)?f:null,E=!!p&&this.mutatedKeys.has(p.key),R=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let S=!1;p&&g?p.data.isEqual(g.data)?E!==R&&(r.track({type:3,doc:g}),S=!0):this.ga(p,g)||(r.track({type:2,doc:g}),S=!0,(l&&this.Aa(g,l)>0||u&&this.Aa(g,u)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),S=!0):p&&!g&&(r.track({type:1,doc:p}),S=!0,(l||u)&&(a=!0)),S&&(g?(o=o.add(g),i=R?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,f)=>function(g,E){const R=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return R(g)-R(E)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new vi(this.query,e.Ra,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new r_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Re(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new cw(r))}),this.da.forEach(r=>{e.has(r)||n.push(new aw(r))}),n}ba(e){this.Ta=e.Ts,this.da=Re();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return vi.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Fx{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Ux{constructor(e){this.key=e,this.va=!1}}class jx{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Oi(a=>P0(a),Pl),this.Ma=new Map,this.xa=new Set,this.Oa=new et(he.comparator),this.Na=new Map,this.La=new wd,this.Ba={},this.ka=new Map,this.qa=yi.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function $x(t,e,n=!0){const r=pw(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await lw(r,e,n,!0),s}async function Bx(t,e){const n=pw(t);await lw(n,e,!0,!1)}async function lw(t,e,n,r){const s=await ax(t.localStore,Dn(e)),i=s.targetId,o=n?t.sharedClientState.addLocalQueryTarget(i):"not-current";let a;return r&&(a=await Hx(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&tw(t.remoteStore,s),a}async function Hx(t,e,n,r,s){t.Ka=(f,p,g)=>async function(R,S,x,O){let _=S.view.ma(x);_.ns&&(_=await Zg(R.localStore,S.query,!1).then(({documents:T})=>S.view.ma(T,_)));const P=O&&O.targetChanges.get(S.targetId),D=O&&O.targetMismatches.get(S.targetId)!=null,F=S.view.applyChanges(_,R.isPrimaryClient,P,D);return a_(R,S.targetId,F.wa),F.snapshot}(t,f,p,g);const i=await Zg(t.localStore,e,!0),o=new Lx(e,i.Ts),a=o.ma(i.documents),l=la.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);a_(t,n,u.wa);const h=new Fx(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function qx(t,e,n){const r=be(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!Pl(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Fh(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Id(r.remoteStore,s.targetId),jh(r,s.targetId)}).catch(oa)):(jh(r,s.targetId),await Fh(r.localStore,s.targetId,!0))}async function Kx(t,e){const n=be(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Id(n.remoteStore,r.targetId))}async function zx(t,e,n){const r=Zx(t);try{const s=await function(o,a){const l=be(o),u=ht.now(),h=a.reduce((g,E)=>g.add(E.key),Re());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let E=or(),R=Re();return l.cs.getEntries(g,h).next(S=>{E=S,E.forEach((x,O)=>{O.isValidDocument()||(R=R.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,E)).next(S=>{f=S;const x=[];for(const O of a){const _=hN(O,f.get(O.key).overlayedDocument);_!=null&&x.push(new Rs(O.key,_,b0(_.value.mapValue),Vn.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,x,a)}).next(S=>{p=S;const x=S.applyToLocalDocumentSet(f,R);return l.documentOverlayCache.saveOverlays(g,S.batchId,x)})}).then(()=>({batchId:p.batchId,changes:N0(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new et(Ve)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,s.batchId,n),await ha(r,s.changes),await Ml(r.remoteStore)}catch(s){const i=Pd(s,"Failed to persist write");n.reject(i)}}async function uw(t,e){const n=be(t);try{const r=await sx(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(qe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?qe(o.va):s.removedDocuments.size>0&&(qe(o.va),o.va=!1))}),await ha(n,r,e)}catch(r){await oa(r)}}function o_(t,e,n){const r=be(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=be(o);l.onlineState=a;let u=!1;l.queries.forEach((h,f)=>{for(const p of f.j_)p.Z_(a)&&(u=!0)}),u&&Od(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Wx(t,e,n){const r=be(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new et(he.comparator);o=o.insert(i,Ot.newNoDocument(i,we.min()));const a=Re().add(i),l=new xl(we.min(),new Map,new et(Ve),o,a);await uw(r,l),r.Oa=r.Oa.remove(i),r.Na.delete(e),kd(r)}else await Fh(r.localStore,e,!1).then(()=>jh(r,e,n)).catch(oa)}async function Gx(t,e){const n=be(t),r=e.batch.batchId;try{const s=await rx(n.localStore,e);fw(n,r,null),hw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ha(n,s)}catch(s){await oa(s)}}async function Qx(t,e,n){const r=be(t);try{const s=await function(o,a){const l=be(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(qe(f!==null),h=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);fw(r,e,n),hw(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ha(r,s)}catch(s){await oa(s)}}function hw(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function fw(t,e,n){const r=be(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function jh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||dw(t,r)})}function dw(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Id(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),kd(t))}function a_(t,e,n){for(const r of n)r instanceof aw?(t.La.addReference(r.key,e),Jx(t,r)):r instanceof cw?(ae("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||dw(t,r.key)):Ee()}function Jx(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ae("SyncEngine","New document in limbo: "+n),t.xa.add(r),kd(t))}function kd(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new he(nt.fromString(e)),r=t.qa.next();t.Na.set(r,new Ux(n)),t.Oa=t.Oa.insert(n,r),tw(t.remoteStore,new kr(Dn(md(n.path)),r,"TargetPurposeLimboResolution",ld.oe))}}async function ha(t,e,n){const r=be(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){s.push(u);const f=Td.Wi(l.targetId,u);i.push(f)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(l,u){const h=be(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>q.forEach(u,p=>q.forEach(p.$i,g=>h.persistence.referenceDelegate.addReference(f,p.targetId,g)).next(()=>q.forEach(p.Ui,g=>h.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))}catch(f){if(!aa(f))throw f;ae("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const p=f.targetId;if(!f.fromCache){const g=h.os.get(p),E=g.snapshotVersion,R=g.withLastLimboFreeSnapshotVersion(E);h.os=h.os.insert(p,R)}}}(r.localStore,i))}async function Yx(t,e){const n=be(t);if(!n.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());const r=await Y0(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new ue(W.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ha(n,r.hs)}}function Xx(t,e){const n=be(t),r=n.Na.get(e);if(r&&r.va)return Re().add(r.key);{let s=Re();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function pw(t){const e=be(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=uw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Xx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Wx.bind(null,e),e.Ca.d_=Dx.bind(null,e.eventManager),e.Ca.$a=Vx.bind(null,e.eventManager),e}function Zx(t){const e=be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Gx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Qx.bind(null,e),e}class c_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Dl(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return nx(this.persistence,new ex,e.initialUser,this.serializer)}createPersistence(e){return new YN(bd.Zr,this.serializer)}createSharedClientState(e){return new lx}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class eD{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>o_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Yx.bind(null,this.syncEngine),await Px(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new kx}()}createDatastore(e){const n=Dl(e.databaseInfo.databaseId),r=function(i){return new dx(i)}(e.databaseInfo);return function(i,o,a,l){return new gx(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new yx(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>o_(this.syncEngine,n,0),function(){return t_.D()?new t_:new ux}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,h){const f=new jx(s,i,o,a,l,u);return h&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=be(s);ae("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await ua(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):ir("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ct.UNAUTHENTICATED,this.clientId=v0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{ae("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(ae("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ue(W.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Pd(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Mu(t,e){t.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Y0(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function l_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await sD(t);ae("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>n_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>n_(e.remoteStore,s)),t._onlineComponents=e}function rD(t){return t.name==="FirebaseError"?t.code===W.FAILED_PRECONDITION||t.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function sD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{await Mu(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!rD(n))throw n;pi("Error using user provided cache. Falling back to memory cache: "+n),await Mu(t,new c_)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),await Mu(t,new c_);return t._offlineComponents}async function mw(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),await l_(t,t._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),await l_(t,new eD))),t._onlineComponents}function iD(t){return mw(t).then(e=>e.syncEngine)}async function oD(t){const e=await mw(t),n=e.eventManager;return n.onListen=$x.bind(null,e.syncEngine),n.onUnlisten=qx.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Bx.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Kx.bind(null,e.syncEngine),n}function aD(t,e,n={}){const r=new Ur;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const h=new tD({next:p=>{o.enqueueAndForget(()=>xx(i,f));const g=p.docs.has(a);!g&&p.fromCache?u.reject(new ue(W.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?u.reject(new ue(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new Mx(md(a.path),h,{includeMetadataChanges:!0,_a:!0});return Nx(i,f)}(await oD(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(t,e,n){if(!n)throw new ue(W.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function lD(t,e,n,r){if(e===!0&&r===!0)throw new ue(W.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function h_(t){if(!he.isDocumentKey(t))throw new ue(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Nd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ee()}function Ei(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ue(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nd(t);throw new ue(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ue(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gw((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ue(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ue(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ue(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xd{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ue(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ue(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new vk;switch(r.type){case"firstParty":return new Tk(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=u_.get(n);r&&(ae("ComponentProvider","Removing Datastore"),u_.delete(n),r.terminate())}(this),Promise.resolve()}}function uD(t,e,n,r={}){var s;const i=(t=Ei(t,xd))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&pi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Ct.MOCK_USER;else{a=J1(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ue(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ct(u)}t._authCredentials=new Ek(new y0(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Dd(this.firestore,e,this._query)}}class hn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}}class Bo extends Dd{constructor(e,n,r){super(e,n,md(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new he(e))}withConverter(e){return new Bo(this.firestore,e,this._path)}}function d_(t,e,...n){if(t=dn(t),arguments.length===1&&(e=v0.newId()),cD("doc","path",e),t instanceof xd){const r=nt.fromString(e,...n);return h_(r),new hn(t,null,new he(r))}{if(!(t instanceof hn||t instanceof Bo))throw new ue(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(nt.fromString(e,...n));return h_(r),new hn(t.firestore,t instanceof Bo?t.converter:null,new he(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new Z0(this,"async_queue_retry"),this.Eu=()=>{const n=Vu();n&&ae("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=Vu();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=Vu();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new Ur;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!aa(e))throw e;ae("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ir("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const s=Cd.createAndSchedule(this,e,n,r,i=>this.Vu(i));return this.lu.push(s),s}du(){this.hu&&Ee()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}class Ll extends xd{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new hD}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||yw(this),this._firestoreClient.terminate()}}function fD(t,e){const n=typeof t=="object"?t:OE(),r=typeof t=="string"?t:"(default)",s=Yf(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=G1("firestore");i&&uD(s,...i)}return s}function _w(t){return t._firestoreClient||yw(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function yw(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,u,h){return new Mk(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,gw(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new nD(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wi(bt.fromBase64String(e))}catch(n){throw new ue(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new wi(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=/^__.*__$/;class pD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Rs(e,this.data,this.fieldMask,n,this.fieldTransforms):new ca(e,this.data,n,this.fieldTransforms)}}function Ew(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class Fd{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.yu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new Fd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Su({path:r,Du:!1});return s.vu(e),s}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Su({path:r,Du:!1});return s.yu(),s}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Qc(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(Ew(this.wu)&&dD.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class mD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Dl(e)}Nu(e,n,r,s=!1){return new Fd({wu:e,methodName:n,Ou:r,path:Et.emptyPath(),Du:!1,xu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gD(t){const e=t._freezeSettings(),n=Dl(t._databaseId);return new mD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function _D(t,e,n,r,s,i={}){const o=t.Nu(i.merge||i.mergeFields?2:0,e,n,s);Iw("Data must be an object, but it was:",o,r);const a=bw(r,o);let l,u;if(i.merge)l=new En(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const p=yD(e,f,n);if(!o.contains(p))throw new ue(W.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);ED(h,p)||h.push(p)}l=new En(h),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new pD(new ln(a),l,u)}function ww(t,e){if(Tw(t=dn(t)))return Iw("Unsupported field value:",e,t),bw(t,e);if(t instanceof vw)return function(r,s){if(!Ew(s.wu))throw s.Mu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Mu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=ww(a,s.Fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=dn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return iN(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=ht.fromDate(r);return{timestampValue:Wc(s.serializer,i)}}if(r instanceof ht){const i=new ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wc(s.serializer,i)}}if(r instanceof Md)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wi)return{bytesValue:q0(s.serializer,r._byteString)};if(r instanceof hn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Ed(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Ld)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return gd(a.serializer,l)})}}}}}}(r,s);throw s.Mu(`Unsupported field value: ${Nd(r)}`)}(t,e)}function bw(t,e){const n={};return E0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pi(t,(r,s)=>{const i=ww(s,e.bu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function Tw(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ht||t instanceof Md||t instanceof wi||t instanceof hn||t instanceof vw||t instanceof Ld)}function Iw(t,e,n){if(!Tw(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Nd(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function yD(t,e,n){if((e=dn(e))instanceof Vd)return e._internalPath;if(typeof e=="string")return Aw(t,e);throw Qc("Field path arguments must be of type string or ",t,!1,void 0,n)}const vD=new RegExp("[~\\*/\\[\\]]");function Aw(t,e,n){if(e.search(vD)>=0)throw Qc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Vd(...e.split("."))._internalPath}catch{throw Qc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Qc(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new ue(W.INVALID_ARGUMENT,a+t+l)}function ED(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Rw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class wD extends Sw{data(){return super.data()}}function Rw(t,e){return typeof e=="string"?Aw(t,e):e instanceof Vd?e._internalPath:e._delegate._internalPath}class bD{convertValue(e,n="none"){switch(Es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Pi(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>rt(o.doubleValue));return new Ld(i)}convertGeoPoint(e){return new Md(rt(e.latitude),rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=hd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Lo(e));default:return null}}convertTimestamp(e){const n=Kr(e);return new ht(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=nt.fromString(e);qe(J0(r));const s=new Fo(r.get(1),r.get(3)),i=new he(r.popFirst(5));return s.isEqual(n)||ir(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cw extends Sw{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new AD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Rw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class AD extends Cw{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(t){t=Ei(t,hn);const e=Ei(t.firestore,Ll);return aD(_w(e),t._key).then(n=>OD(e,t,n))}class RD extends bD{constructor(e){super(),this.firestore=e}convertBytes(e){return new wi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,n)}}function CD(t,e,n){t=Ei(t,hn);const r=Ei(t.firestore,Ll),s=TD(t.converter,e);return Pw(r,[_D(gD(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Vn.none())])}function PD(t){return Pw(Ei(t.firestore,Ll),[new _d(t._key,Vn.none())])}function Pw(t,e){return function(r,s){const i=new Ur;return r.asyncQueue.enqueueAndForget(async()=>zx(await iD(r),s,i)),i.promise}(_w(t),e)}function OD(t,e,n){const r=n.docs.get(e._key),s=new RD(t);return new Cw(t,s,e._key,r,new ID(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Ci=s})(Si),fi(new gs("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Ll(new wk(r.getProvider("auth-internal")),new Ak(r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ue(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fo(u.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Fr(Ng,"4.7.1",e),Fr(Ng,"4.7.1","esm2017")})();const kD={apiKey:"AIzaSyAMBXbCVYqCAxFvEtj1q46wHYQdMNp2D8A",authDomain:"samle-48b27.firebaseapp.com",projectId:"samle-48b27",storageBucket:"samle-48b27.appspot.com",messagingSenderId:"33990985691",appId:"1:33990985691:web:1c428e46b0908c2ac5c9fe"},Ow=PE(kD),$h=_k(Ow),p_=fD(Ow),mn=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},ND={class:"navbar"},xD={class:"container"},DD={class:"nav-right"},VD={class:"user-dropdown"},MD={__name:"Navbar",setup(t){const e=_e(!1),n=_e(!1),r=_e(null),s=U1(),i=_e(null),o=()=>{e.value=!e.value},a=()=>{n.value=!n.value},l=async()=>{try{await oO($h),s.push("/"),n.value=!1}catch(f){console.error("Error signing out:",f)}},u=f=>{i.value&&!i.value.contains(f.target)&&(n.value=!1)};let h;return pn(()=>{h=iO($h,f=>{r.value=f}),document.addEventListener("click",u)}),As(()=>{h&&h(),document.removeEventListener("click",u)}),(f,p)=>{const g=Yo("router-link");return se(),ge("nav",ND,[M("div",xD,[ve(g,{to:"/",class:"logo"},{default:Je(()=>p[0]||(p[0]=[M("img",{src:VR,alt:"Logo"},null,-1)])),_:1}),M("div",DD,[M("div",{class:"user-menu",ref_key:"userMenu",ref:i},[M("button",{onClick:a,class:"user-icon","aria-label":"User menu"},p[1]||(p[1]=[M("svg",{xmlns:"http://www.w3.org/2000/svg",height:"32",width:"32",viewBox:"0 0 512 512"},[M("path",{d:"M406.5 399.6C387.4 352.9 341.5 320 288 320l-64 0c-53.5 0-99.4 32.9-118.5 79.6C69.9 362.2 48 311.7 48 256C48 141.1 141.1 48 256 48s208 93.1 208 208c0 55.7-21.9 106.2-57.5 143.6zm-40.1 32.7C334.4 452.4 296.6 464 256 464s-78.4-11.6-110.5-31.7c7.3-36.7 39.7-64.3 78.5-64.3l64 0c38.8 0 71.2 27.6 78.5 64.3zM256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-272a40 40 0 1 1 0-80 40 40 0 1 1 0 80zm-88-40a88 88 0 1 0 176 0 88 88 0 1 0 -176 0z"})],-1)])),Qt(M("div",VD,[r.value?gt("",!0):(se(),Bt(g,{key:0,to:"/signin"},{default:Je(()=>p[2]||(p[2]=[mt("Sign In")])),_:1})),r.value?gt("",!0):(se(),Bt(g,{key:1,to:"/signup"},{default:Je(()=>p[3]||(p[3]=[mt("Sign Up")])),_:1})),r.value?(se(),Bt(g,{key:2,to:"/favorites"},{default:Je(()=>p[4]||(p[4]=[mt("Favorites")])),_:1})):gt("",!0),r.value?(se(),ge("a",{key:3,onClick:l,href:"#"},"Sign Out")):gt("",!0)],512),[[jf,n.value]])],512),M("div",{class:Fn(["menu-icon",{open:e.value}]),onClick:o},p[5]||(p[5]=[M("span",null,null,-1),M("span",null,null,-1),M("span",null,null,-1)]),2)]),M("ul",{class:Fn(["nav-links",{open:e.value}])},[M("li",null,[ve(g,{to:"/"},{default:Je(()=>p[6]||(p[6]=[mt("Home")])),_:1})]),M("li",null,[ve(g,{to:"/about"},{default:Je(()=>p[7]||(p[7]=[mt("About")])),_:1})]),M("li",null,[ve(g,{to:"/contact"},{default:Je(()=>p[8]||(p[8]=[mt("Contact")])),_:1})])],2)])])}}},LD=mn(MD,[["__scopeId","data-v-f7609e03"]]),FD={class:"footer"},UD={class:"container"},jD={class:"footer-content"},$D={class:"footer-section fade-in"},BD={class:"footer-bottom slide-in-left"},HD={__name:"Footer",setup(t){const e=_e(new Date().getFullYear());return pn(()=>{}),(n,r)=>{const s=Yo("router-link");return se(),ge("footer",FD,[M("div",UD,[M("div",jD,[r[5]||(r[5]=M("div",{class:"footer-section fade-in"},[M("h3",null,"About Cook Castle"),M("p",null,"Discover delicious recipes and culinary inspiration at Cook Castle. Our mission is to make cooking fun and accessible for everyone.")],-1)),M("div",$D,[r[4]||(r[4]=M("h3",null,"Quick Links",-1)),M("ul",null,[M("li",null,[ve(s,{to:"/"},{default:Je(()=>r[0]||(r[0]=[mt("Home")])),_:1})]),M("li",null,[ve(s,{to:"/about"},{default:Je(()=>r[1]||(r[1]=[mt("About")])),_:1})]),M("li",null,[ve(s,{to:"/contact"},{default:Je(()=>r[2]||(r[2]=[mt("Contact")])),_:1})]),M("li",null,[ve(s,{to:"/privacy"},{default:Je(()=>r[3]||(r[3]=[mt("Privacy Policy")])),_:1})])])]),r[6]||(r[6]=Ff('<div class="footer-section fade-in" data-v-a394e377><h3 data-v-a394e377>Connect With Us</h3><div class="social-icons" data-v-a394e377><a href="#" aria-label="Facebook" data-v-a394e377><i class="fab fa-facebook" data-v-a394e377></i></a><a href="#" aria-label="Twitter" data-v-a394e377><i class="fab fa-twitter" data-v-a394e377></i></a><a href="#" aria-label="Instagram" data-v-a394e377><i class="fab fa-instagram" data-v-a394e377></i></a><a href="#" aria-label="Pinterest" data-v-a394e377><i class="fab fa-pinterest" data-v-a394e377></i></a></div></div>',1))]),M("div",BD,[M("p",null," "+Qe(e.value)+" Cook Castle. All rights reserved.",1)])])])}}},qD=mn(HD,[["__scopeId","data-v-a394e377"]]),KD={id:"app"},zD={__name:"App",setup(t){const e=Hf(),n=Ae(()=>e.getters.areRecipesVisible);return(r,s)=>{const i=Yo("router-view");return se(),ge("div",KD,[ve(LD),ve(i,null,{default:Je(({Component:o})=>[ve(Pr,{name:"fade",mode:"out-in"},{default:Je(()=>[(se(),Bt($y(o)))]),_:2},1024)]),_:1}),n.value?(se(),Bt(qD,{key:0})):gt("",!0)])}}},WD={class:"recipe-card"},GD=["src","alt"],QD={class:"recipe-content"},JD=["title"],YD=["title"],XD={__name:"RecipeCard",props:{recipe:{type:Object,required:!0}},setup(t){return(e,n)=>{const r=Yo("router-link");return se(),Bt(Pr,{appear:"",name:"card",mode:"out-in"},{default:Je(()=>[M("div",WD,[M("img",{src:t.recipe.strMealThumb,alt:t.recipe.strMeal},null,8,GD),M("div",QD,[M("h3",{title:t.recipe.strMeal},Qe(t.recipe.strMeal),9,JD),n[1]||(n[1]=M("hr",null,null,-1)),M("p",{title:"Category: "+t.recipe.strCategory},"Category: "+Qe(t.recipe.strCategory),9,YD),ve(r,{to:"/recipe/"+t.recipe.idMeal,class:"btn"},{default:Je(()=>n[0]||(n[0]=[mt("View Recipe")])),_:1},8,["to"])])])]),_:1})}}},kw=mn(XD,[["__scopeId","data-v-2881ed75"]]),ZD="/Cook-Castle/assets/pot.CU0_HBx-.gif",eV={class:"loading-spinner"},tV={__name:"LoadingSpinner",setup(t){return(e,n)=>(se(),ge("div",eV,n[0]||(n[0]=[M("div",{class:"spinner"},[M("img",{src:ZD,alt:""})],-1),M("p",null,"Loading recipes...",-1)])))}},Jc=mn(tV,[["__scopeId","data-v-a355a6e3"]]);function Nw(t,e){return function(){return t.apply(e,arguments)}}const{toString:nV}=Object.prototype,{getPrototypeOf:Ud}=Object,Fl=(t=>e=>{const n=nV.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),An=t=>(t=t.toLowerCase(),e=>Fl(e)===t),Ul=t=>e=>typeof e===t,{isArray:Ni}=Array,Ho=Ul("undefined");function rV(t){return t!==null&&!Ho(t)&&t.constructor!==null&&!Ho(t.constructor)&&sn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const xw=An("ArrayBuffer");function sV(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&xw(t.buffer),e}const iV=Ul("string"),sn=Ul("function"),Dw=Ul("number"),jl=t=>t!==null&&typeof t=="object",oV=t=>t===!0||t===!1,hc=t=>{if(Fl(t)!=="object")return!1;const e=Ud(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},aV=An("Date"),cV=An("File"),lV=An("Blob"),uV=An("FileList"),hV=t=>jl(t)&&sn(t.pipe),fV=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||sn(t.append)&&((e=Fl(t))==="formdata"||e==="object"&&sn(t.toString)&&t.toString()==="[object FormData]"))},dV=An("URLSearchParams"),[pV,mV,gV,_V]=["ReadableStream","Request","Response","Headers"].map(An),yV=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function fa(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Ni(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,t[a],a,t)}}function Vw(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const is=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Mw=t=>!Ho(t)&&t!==is;function Bh(){const{caseless:t}=Mw(this)&&this||{},e={},n=(r,s)=>{const i=t&&Vw(e,s)||s;hc(e[i])&&hc(r)?e[i]=Bh(e[i],r):hc(r)?e[i]=Bh({},r):Ni(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&fa(arguments[r],n);return e}const vV=(t,e,n,{allOwnKeys:r}={})=>(fa(e,(s,i)=>{n&&sn(s)?t[i]=Nw(s,n):t[i]=s},{allOwnKeys:r}),t),EV=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),wV=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},bV=(t,e,n,r)=>{let s,i,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&Ud(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},TV=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},IV=t=>{if(!t)return null;if(Ni(t))return t;let e=t.length;if(!Dw(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},AV=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Ud(Uint8Array)),SV=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},RV=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},CV=An("HTMLFormElement"),PV=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),m_=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),OV=An("RegExp"),Lw=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};fa(n,(s,i)=>{let o;(o=e(s,i,t))!==!1&&(r[i]=o||s)}),Object.defineProperties(t,r)},kV=t=>{Lw(t,(e,n)=>{if(sn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(sn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},NV=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Ni(t)?r(t):r(String(t).split(e)),n},xV=()=>{},DV=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Lu="abcdefghijklmnopqrstuvwxyz",g_="0123456789",Fw={DIGIT:g_,ALPHA:Lu,ALPHA_DIGIT:Lu+Lu.toUpperCase()+g_},VV=(t=16,e=Fw.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function MV(t){return!!(t&&sn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const LV=t=>{const e=new Array(10),n=(r,s)=>{if(jl(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=Ni(r)?[]:{};return fa(r,(o,a)=>{const l=n(o,s+1);!Ho(l)&&(i[a]=l)}),e[s]=void 0,i}}return r};return n(t,0)},FV=An("AsyncFunction"),UV=t=>t&&(jl(t)||sn(t))&&sn(t.then)&&sn(t.catch),Uw=((t,e)=>t?setImmediate:e?((n,r)=>(is.addEventListener("message",({source:s,data:i})=>{s===is&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),is.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",sn(is.postMessage)),jV=typeof queueMicrotask<"u"?queueMicrotask.bind(is):typeof process<"u"&&process.nextTick||Uw,j={isArray:Ni,isArrayBuffer:xw,isBuffer:rV,isFormData:fV,isArrayBufferView:sV,isString:iV,isNumber:Dw,isBoolean:oV,isObject:jl,isPlainObject:hc,isReadableStream:pV,isRequest:mV,isResponse:gV,isHeaders:_V,isUndefined:Ho,isDate:aV,isFile:cV,isBlob:lV,isRegExp:OV,isFunction:sn,isStream:hV,isURLSearchParams:dV,isTypedArray:AV,isFileList:uV,forEach:fa,merge:Bh,extend:vV,trim:yV,stripBOM:EV,inherits:wV,toFlatObject:bV,kindOf:Fl,kindOfTest:An,endsWith:TV,toArray:IV,forEachEntry:SV,matchAll:RV,isHTMLForm:CV,hasOwnProperty:m_,hasOwnProp:m_,reduceDescriptors:Lw,freezeMethods:kV,toObjectSet:NV,toCamelCase:PV,noop:xV,toFiniteNumber:DV,findKey:Vw,global:is,isContextDefined:Mw,ALPHABET:Fw,generateString:VV,isSpecCompliantForm:MV,toJSONObject:LV,isAsyncFn:FV,isThenable:UV,setImmediate:Uw,asap:jV};function Te(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}j.inherits(Te,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:j.toJSONObject(this.config),code:this.code,status:this.status}}});const jw=Te.prototype,$w={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{$w[t]={value:t}});Object.defineProperties(Te,$w);Object.defineProperty(jw,"isAxiosError",{value:!0});Te.from=(t,e,n,r,s,i)=>{const o=Object.create(jw);return j.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Te.call(o,t.message,e,n,r,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const $V=null;function Hh(t){return j.isPlainObject(t)||j.isArray(t)}function Bw(t){return j.endsWith(t,"[]")?t.slice(0,-2):t}function __(t,e,n){return t?t.concat(e).map(function(s,i){return s=Bw(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function BV(t){return j.isArray(t)&&!t.some(Hh)}const HV=j.toFlatObject(j,{},null,function(e){return/^is[A-Z]/.test(e)});function $l(t,e,n){if(!j.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=j.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,S){return!j.isUndefined(S[R])});const r=n.metaTokens,s=n.visitor||h,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&j.isSpecCompliantForm(e);if(!j.isFunction(s))throw new TypeError("visitor must be a function");function u(E){if(E===null)return"";if(j.isDate(E))return E.toISOString();if(!l&&j.isBlob(E))throw new Te("Blob is not supported. Use a Buffer instead.");return j.isArrayBuffer(E)||j.isTypedArray(E)?l&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function h(E,R,S){let x=E;if(E&&!S&&typeof E=="object"){if(j.endsWith(R,"{}"))R=r?R:R.slice(0,-2),E=JSON.stringify(E);else if(j.isArray(E)&&BV(E)||(j.isFileList(E)||j.endsWith(R,"[]"))&&(x=j.toArray(E)))return R=Bw(R),x.forEach(function(_,P){!(j.isUndefined(_)||_===null)&&e.append(o===!0?__([R],P,i):o===null?R:R+"[]",u(_))}),!1}return Hh(E)?!0:(e.append(__(S,R,i),u(E)),!1)}const f=[],p=Object.assign(HV,{defaultVisitor:h,convertValue:u,isVisitable:Hh});function g(E,R){if(!j.isUndefined(E)){if(f.indexOf(E)!==-1)throw Error("Circular reference detected in "+R.join("."));f.push(E),j.forEach(E,function(x,O){(!(j.isUndefined(x)||x===null)&&s.call(e,x,j.isString(O)?O.trim():O,R,p))===!0&&g(x,R?R.concat(O):[O])}),f.pop()}}if(!j.isObject(t))throw new TypeError("data must be an object");return g(t),e}function y_(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function jd(t,e){this._pairs=[],t&&$l(t,this,e)}const Hw=jd.prototype;Hw.append=function(e,n){this._pairs.push([e,n])};Hw.toString=function(e){const n=e?function(r){return e.call(this,r,y_)}:y_;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function qV(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function qw(t,e,n){if(!e)return t;const r=n&&n.encode||qV,s=n&&n.serialize;let i;if(s?i=s(e,n):i=j.isURLSearchParams(e)?e.toString():new jd(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class v_{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){j.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Kw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},KV=typeof URLSearchParams<"u"?URLSearchParams:jd,zV=typeof FormData<"u"?FormData:null,WV=typeof Blob<"u"?Blob:null,GV={isBrowser:!0,classes:{URLSearchParams:KV,FormData:zV,Blob:WV},protocols:["http","https","file","blob","url","data"]},$d=typeof window<"u"&&typeof document<"u",qh=typeof navigator=="object"&&navigator||void 0,QV=$d&&(!qh||["ReactNative","NativeScript","NS"].indexOf(qh.product)<0),JV=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",YV=$d&&window.location.href||"http://localhost",XV=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:$d,hasStandardBrowserEnv:QV,hasStandardBrowserWebWorkerEnv:JV,navigator:qh,origin:YV},Symbol.toStringTag,{value:"Module"})),Xt={...XV,...GV};function ZV(t,e){return $l(t,new Xt.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return Xt.isNode&&j.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function eM(t){return j.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function tM(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function zw(t){function e(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&j.isArray(s)?s.length:o,l?(j.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!j.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],i)&&j.isArray(s[o])&&(s[o]=tM(s[o])),!a)}if(j.isFormData(t)&&j.isFunction(t.entries)){const n={};return j.forEachEntry(t,(r,s)=>{e(eM(r),s,n,0)}),n}return null}function nM(t,e,n){if(j.isString(t))try{return(e||JSON.parse)(t),j.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const da={transitional:Kw,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=j.isObject(e);if(i&&j.isHTMLForm(e)&&(e=new FormData(e)),j.isFormData(e))return s?JSON.stringify(zw(e)):e;if(j.isArrayBuffer(e)||j.isBuffer(e)||j.isStream(e)||j.isFile(e)||j.isBlob(e)||j.isReadableStream(e))return e;if(j.isArrayBufferView(e))return e.buffer;if(j.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return ZV(e,this.formSerializer).toString();if((a=j.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return $l(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),nM(e)):e}],transformResponse:[function(e){const n=this.transitional||da.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(j.isResponse(e)||j.isReadableStream(e))return e;if(e&&j.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Te.from(a,Te.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xt.classes.FormData,Blob:Xt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};j.forEach(["delete","get","head","post","put","patch"],t=>{da.headers[t]={}});const rM=j.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),sM=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&rM[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},E_=Symbol("internals");function Zi(t){return t&&String(t).trim().toLowerCase()}function fc(t){return t===!1||t==null?t:j.isArray(t)?t.map(fc):String(t)}function iM(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const oM=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Fu(t,e,n,r,s){if(j.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!j.isString(e)){if(j.isString(r))return e.indexOf(r)!==-1;if(j.isRegExp(r))return r.test(e)}}function aM(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function cM(t,e){const n=j.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}class Zt{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(a,l,u){const h=Zi(l);if(!h)throw new Error("header name must be a non-empty string");const f=j.findKey(s,h);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||l]=fc(a))}const o=(a,l)=>j.forEach(a,(u,h)=>i(u,h,l));if(j.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(j.isString(e)&&(e=e.trim())&&!oM(e))o(sM(e),n);else if(j.isHeaders(e))for(const[a,l]of e.entries())i(l,a,r);else e!=null&&i(n,e,r);return this}get(e,n){if(e=Zi(e),e){const r=j.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return iM(s);if(j.isFunction(n))return n.call(this,s,r);if(j.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Zi(e),e){const r=j.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Fu(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(o){if(o=Zi(o),o){const a=j.findKey(r,o);a&&(!n||Fu(r,r[a],a,n))&&(delete r[a],s=!0)}}return j.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||Fu(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return j.forEach(this,(s,i)=>{const o=j.findKey(r,i);if(o){n[o]=fc(s),delete n[i];return}const a=e?aM(i):String(i).trim();a!==i&&delete n[i],n[a]=fc(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return j.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&j.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[E_]=this[E_]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=Zi(o);r[a]||(cM(s,o),r[a]=!0)}return j.isArray(e)?e.forEach(i):i(e),this}}Zt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);j.reduceDescriptors(Zt.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});j.freezeMethods(Zt);function Uu(t,e){const n=this||da,r=e||n,s=Zt.from(r.headers);let i=r.data;return j.forEach(t,function(a){i=a.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function Ww(t){return!!(t&&t.__CANCEL__)}function xi(t,e,n){Te.call(this,t??"canceled",Te.ERR_CANCELED,e,n),this.name="CanceledError"}j.inherits(xi,Te,{__CANCEL__:!0});function Gw(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Te("Request failed with status code "+n.status,[Te.ERR_BAD_REQUEST,Te.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function lM(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function uM(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),h=r[i];o||(o=u),n[s]=l,r[s]=u;let f=i,p=0;for(;f!==s;)p+=n[f++],f=f%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),u-o<e)return;const g=h&&u-h;return g?Math.round(p*1e3/g):void 0}}function hM(t,e){let n=0,r=1e3/e,s,i;const o=(u,h=Date.now())=>{n=h,s=null,i&&(clearTimeout(i),i=null),t.apply(null,u)};return[(...u)=>{const h=Date.now(),f=h-n;f>=r?o(u,h):(s=u,i||(i=setTimeout(()=>{i=null,o(s)},r-f)))},()=>s&&o(s)]}const Yc=(t,e,n=3)=>{let r=0;const s=uM(50,250);return hM(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-r,u=s(l),h=o<=a;r=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&h?(a-o)/u:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(f)},n)},w_=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},b_=t=>(...e)=>j.asap(()=>t(...e)),fM=Xt.hasStandardBrowserEnv?function(){const e=Xt.navigator&&/(msie|trident)/i.test(Xt.navigator.userAgent),n=document.createElement("a");let r;function s(i){let o=i;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(o){const a=j.isString(o)?s(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),dM=Xt.hasStandardBrowserEnv?{write(t,e,n,r,s,i){const o=[t+"="+encodeURIComponent(e)];j.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),j.isString(r)&&o.push("path="+r),j.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function pM(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function mM(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Qw(t,e){return t&&!pM(e)?mM(t,e):e}const T_=t=>t instanceof Zt?{...t}:t;function ws(t,e){e=e||{};const n={};function r(u,h,f){return j.isPlainObject(u)&&j.isPlainObject(h)?j.merge.call({caseless:f},u,h):j.isPlainObject(h)?j.merge({},h):j.isArray(h)?h.slice():h}function s(u,h,f){if(j.isUndefined(h)){if(!j.isUndefined(u))return r(void 0,u,f)}else return r(u,h,f)}function i(u,h){if(!j.isUndefined(h))return r(void 0,h)}function o(u,h){if(j.isUndefined(h)){if(!j.isUndefined(u))return r(void 0,u)}else return r(void 0,h)}function a(u,h,f){if(f in e)return r(u,h);if(f in t)return r(void 0,u)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,h)=>s(T_(u),T_(h),!0)};return j.forEach(Object.keys(Object.assign({},t,e)),function(h){const f=l[h]||s,p=f(t[h],e[h],h);j.isUndefined(p)&&f!==a||(n[h]=p)}),n}const Jw=t=>{const e=ws({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=e;e.headers=o=Zt.from(o),e.url=qw(Qw(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(j.isFormData(n)){if(Xt.hasStandardBrowserEnv||Xt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...h]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...h].join("; "))}}if(Xt.hasStandardBrowserEnv&&(r&&j.isFunction(r)&&(r=r(e)),r||r!==!1&&fM(e.url))){const u=s&&i&&dM.read(i);u&&o.set(s,u)}return e},gM=typeof XMLHttpRequest<"u",_M=gM&&function(t){return new Promise(function(n,r){const s=Jw(t);let i=s.data;const o=Zt.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=s,h,f,p,g,E;function R(){g&&g(),E&&E(),s.cancelToken&&s.cancelToken.unsubscribe(h),s.signal&&s.signal.removeEventListener("abort",h)}let S=new XMLHttpRequest;S.open(s.method.toUpperCase(),s.url,!0),S.timeout=s.timeout;function x(){if(!S)return;const _=Zt.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),D={data:!a||a==="text"||a==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:_,config:t,request:S};Gw(function(T){n(T),R()},function(T){r(T),R()},D),S=null}"onloadend"in S?S.onloadend=x:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(x)},S.onabort=function(){S&&(r(new Te("Request aborted",Te.ECONNABORTED,t,S)),S=null)},S.onerror=function(){r(new Te("Network Error",Te.ERR_NETWORK,t,S)),S=null},S.ontimeout=function(){let P=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const D=s.transitional||Kw;s.timeoutErrorMessage&&(P=s.timeoutErrorMessage),r(new Te(P,D.clarifyTimeoutError?Te.ETIMEDOUT:Te.ECONNABORTED,t,S)),S=null},i===void 0&&o.setContentType(null),"setRequestHeader"in S&&j.forEach(o.toJSON(),function(P,D){S.setRequestHeader(D,P)}),j.isUndefined(s.withCredentials)||(S.withCredentials=!!s.withCredentials),a&&a!=="json"&&(S.responseType=s.responseType),u&&([p,E]=Yc(u,!0),S.addEventListener("progress",p)),l&&S.upload&&([f,g]=Yc(l),S.upload.addEventListener("progress",f),S.upload.addEventListener("loadend",g)),(s.cancelToken||s.signal)&&(h=_=>{S&&(r(!_||_.type?new xi(null,t,S):_),S.abort(),S=null)},s.cancelToken&&s.cancelToken.subscribe(h),s.signal&&(s.signal.aborted?h():s.signal.addEventListener("abort",h)));const O=lM(s.url);if(O&&Xt.protocols.indexOf(O)===-1){r(new Te("Unsupported protocol "+O+":",Te.ERR_BAD_REQUEST,t));return}S.send(i||null)})},yM=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const i=function(u){if(!s){s=!0,a();const h=u instanceof Error?u:this.reason;r.abort(h instanceof Te?h:new xi(h instanceof Error?h.message:h))}};let o=e&&setTimeout(()=>{o=null,i(new Te(`timeout ${e} of ms exceeded`,Te.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),t=null)};t.forEach(u=>u.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>j.asap(a),l}},vM=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},EM=async function*(t,e){for await(const n of wM(t))yield*vM(n,e)},wM=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},I_=(t,e,n,r)=>{const s=EM(t,e);let i=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:h}=await s.next();if(u){a(),l.close();return}let f=h.byteLength;if(n){let p=i+=f;n(p)}l.enqueue(new Uint8Array(h))}catch(u){throw a(u),u}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},Bl=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Yw=Bl&&typeof ReadableStream=="function",bM=Bl&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Xw=(t,...e)=>{try{return!!t(...e)}catch{return!1}},TM=Yw&&Xw(()=>{let t=!1;const e=new Request(Xt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),A_=64*1024,Kh=Yw&&Xw(()=>j.isReadableStream(new Response("").body)),Xc={stream:Kh&&(t=>t.body)};Bl&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Xc[e]&&(Xc[e]=j.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Te(`Response type '${e}' is not supported`,Te.ERR_NOT_SUPPORT,r)})})})(new Response);const IM=async t=>{if(t==null)return 0;if(j.isBlob(t))return t.size;if(j.isSpecCompliantForm(t))return(await new Request(Xt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(j.isArrayBufferView(t)||j.isArrayBuffer(t))return t.byteLength;if(j.isURLSearchParams(t)&&(t=t+""),j.isString(t))return(await bM(t)).byteLength},AM=async(t,e)=>{const n=j.toFiniteNumber(t.getContentLength());return n??IM(e)},SM=Bl&&(async t=>{let{url:e,method:n,data:r,signal:s,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:h,withCredentials:f="same-origin",fetchOptions:p}=Jw(t);u=u?(u+"").toLowerCase():"text";let g=yM([s,i&&i.toAbortSignal()],o),E;const R=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let S;try{if(l&&TM&&n!=="get"&&n!=="head"&&(S=await AM(h,r))!==0){let D=new Request(e,{method:"POST",body:r,duplex:"half"}),F;if(j.isFormData(r)&&(F=D.headers.get("content-type"))&&h.setContentType(F),D.body){const[T,w]=w_(S,Yc(b_(l)));r=I_(D.body,A_,T,w)}}j.isString(f)||(f=f?"include":"omit");const x="credentials"in Request.prototype;E=new Request(e,{...p,signal:g,method:n.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:x?f:void 0});let O=await fetch(E);const _=Kh&&(u==="stream"||u==="response");if(Kh&&(a||_&&R)){const D={};["status","statusText","headers"].forEach(y=>{D[y]=O[y]});const F=j.toFiniteNumber(O.headers.get("content-length")),[T,w]=a&&w_(F,Yc(b_(a),!0))||[];O=new Response(I_(O.body,A_,T,()=>{w&&w(),R&&R()}),D)}u=u||"text";let P=await Xc[j.findKey(Xc,u)||"text"](O,t);return!_&&R&&R(),await new Promise((D,F)=>{Gw(D,F,{data:P,headers:Zt.from(O.headers),status:O.status,statusText:O.statusText,config:t,request:E})})}catch(x){throw R&&R(),x&&x.name==="TypeError"&&/fetch/i.test(x.message)?Object.assign(new Te("Network Error",Te.ERR_NETWORK,t,E),{cause:x.cause||x}):Te.from(x,x&&x.code,t,E)}}),zh={http:$V,xhr:_M,fetch:SM};j.forEach(zh,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const S_=t=>`- ${t}`,RM=t=>j.isFunction(t)||t===null||t===!1,Zw={getAdapter:t=>{t=j.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let i=0;i<e;i++){n=t[i];let o;if(r=n,!RM(n)&&(r=zh[(o=String(n)).toLowerCase()],r===void 0))throw new Te(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+i]=r}if(!r){const i=Object.entries(s).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(S_).join(`
`):" "+S_(i[0]):"as no adapter specified";throw new Te("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:zh};function ju(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new xi(null,t)}function R_(t){return ju(t),t.headers=Zt.from(t.headers),t.data=Uu.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Zw.getAdapter(t.adapter||da.adapter)(t).then(function(r){return ju(t),r.data=Uu.call(t,t.transformResponse,r),r.headers=Zt.from(r.headers),r},function(r){return Ww(r)||(ju(t),r&&r.response&&(r.response.data=Uu.call(t,t.transformResponse,r.response),r.response.headers=Zt.from(r.response.headers))),Promise.reject(r)})}const eb="1.7.7",Bd={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Bd[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const C_={};Bd.transitional=function(e,n,r){function s(i,o){return"[Axios v"+eb+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(e===!1)throw new Te(s(o," has been removed"+(n?" in "+n:"")),Te.ERR_DEPRECATED);return n&&!C_[o]&&(C_[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,a):!0}};function CM(t,e,n){if(typeof t!="object")throw new Te("options must be an object",Te.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const a=t[i],l=a===void 0||o(a,i,t);if(l!==!0)throw new Te("option "+i+" must be "+l,Te.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Te("Unknown option "+i,Te.ERR_BAD_OPTION)}}const Wh={assertOptions:CM,validators:Bd},yr=Wh.validators;class ds{constructor(e){this.defaults=e,this.interceptors={request:new v_,response:new v_}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ws(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Wh.assertOptions(r,{silentJSONParsing:yr.transitional(yr.boolean),forcedJSONParsing:yr.transitional(yr.boolean),clarifyTimeoutError:yr.transitional(yr.boolean)},!1),s!=null&&(j.isFunction(s)?n.paramsSerializer={serialize:s}:Wh.assertOptions(s,{encode:yr.function,serialize:yr.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&j.merge(i.common,i[n.method]);i&&j.forEach(["delete","get","head","post","put","patch","common"],E=>{delete i[E]}),n.headers=Zt.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(n)===!1||(l=l&&R.synchronous,a.unshift(R.fulfilled,R.rejected))});const u=[];this.interceptors.response.forEach(function(R){u.push(R.fulfilled,R.rejected)});let h,f=0,p;if(!l){const E=[R_.bind(this),void 0];for(E.unshift.apply(E,a),E.push.apply(E,u),p=E.length,h=Promise.resolve(n);f<p;)h=h.then(E[f++],E[f++]);return h}p=a.length;let g=n;for(f=0;f<p;){const E=a[f++],R=a[f++];try{g=E(g)}catch(S){R.call(this,S);break}}try{h=R_.call(this,g)}catch(E){return Promise.reject(E)}for(f=0,p=u.length;f<p;)h=h.then(u[f++],u[f++]);return h}getUri(e){e=ws(this.defaults,e);const n=Qw(e.baseURL,e.url);return qw(n,e.params,e.paramsSerializer)}}j.forEach(["delete","get","head","options"],function(e){ds.prototype[e]=function(n,r){return this.request(ws(r||{},{method:e,url:n,data:(r||{}).data}))}});j.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,a){return this.request(ws(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}ds.prototype[e]=n(),ds.prototype[e+"Form"]=n(!0)});class Hd{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,a){r.reason||(r.reason=new xi(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Hd(function(s){e=s}),cancel:e}}}function PM(t){return function(n){return t.apply(null,n)}}function OM(t){return j.isObject(t)&&t.isAxiosError===!0}const Gh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Gh).forEach(([t,e])=>{Gh[e]=t});function tb(t){const e=new ds(t),n=Nw(ds.prototype.request,e);return j.extend(n,ds.prototype,e,{allOwnKeys:!0}),j.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return tb(ws(t,s))},n}const Ke=tb(da);Ke.Axios=ds;Ke.CanceledError=xi;Ke.CancelToken=Hd;Ke.isCancel=Ww;Ke.VERSION=eb;Ke.toFormData=$l;Ke.AxiosError=Te;Ke.Cancel=Ke.CanceledError;Ke.all=function(e){return Promise.all(e)};Ke.spread=PM;Ke.isAxiosError=OM;Ke.mergeConfig=ws;Ke.AxiosHeaders=Zt;Ke.formToJSON=t=>zw(j.isHTMLForm(t)?new FormData(t):t);Ke.getAdapter=Zw.getAdapter;Ke.HttpStatusCode=Gh;Ke.default=Ke;const kM={class:"search-bar"},NM={key:0,class:"results-list"},xM={key:0},DM=["onClick"],VM={key:1},MM=["onClick"],LM={key:2},FM={__name:"SearchBar",props:{modelValue:String},emits:["update:modelValue","search"],setup(t,{emit:e}){const n=t,r=e,s=Ae({get:()=>n.modelValue,set:x=>r("update:modelValue",x)}),i=_e([]),o=_e([]),a=_e(!1),l=_e(-1),u=_e("");let h;const f=()=>{clearTimeout(h),h=setTimeout(p,300)},p=async()=>{if(s.value.length<2){i.value=[],o.value=[],a.value=!1;return}try{const[x,O]=await Promise.all([Ke.get(`https://www.themealdb.com/api/json/v1/1/search.php?s=${s.value}`),Ke.get(`https://www.themealdb.com/api/json/v1/1/filter.php?i=${s.value}`)]);i.value=x.data.meals||[],o.value=O.data.meals||[],a.value=i.value.length>0||o.value.length>0,l.value=-1,u.value=""}catch(x){console.error("Error fetching suggestions and results:",x),i.value=[],o.value=[],a.value=!1}},g=x=>{a.value&&(u.value===""&&(u.value=i.value.length>0?"suggestions":"results"),u.value==="suggestions"?(l.value+=x,l.value<0?(u.value="results",l.value=o.value.length-1):l.value>=i.value.length&&(u.value="results",l.value=0)):(l.value+=x,l.value<0?(u.value="suggestions",l.value=i.value.length-1):l.value>=o.value.length&&(u.value="suggestions",l.value=0)))},E=x=>{if(x&&typeof x=="object")s.value=x.strMeal;else if(l.value!==-1){const O=u.value==="suggestions"?i.value[l.value]:o.value[l.value];s.value=O.strMeal}R()},R=()=>{r("search",s.value),a.value=!1},S=()=>{setTimeout(()=>{a.value=!1},200)};return pn(()=>{document.addEventListener("click",S)}),As(()=>{document.removeEventListener("click",S),clearTimeout(h)}),(x,O)=>(se(),ge("div",kM,[M("form",{onSubmit:us(R,["prevent"]),class:"search-form"},[Qt(M("input",{"onUpdate:modelValue":O[0]||(O[0]=_=>s.value=_),type:"text",placeholder:"Enter a recipe name",class:"search-input",onInput:f,onKeydown:[O[1]||(O[1]=ph(us(_=>g(1),["prevent"]),["down"])),O[2]||(O[2]=ph(us(_=>g(-1),["prevent"]),["up"]))],onBlur:S},null,544),[[Jt,s.value]]),O[3]||(O[3]=M("button",{type:"submit",class:"search-button","aria-label":"Search"},[M("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"icon"},[M("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})])],-1))],32),a.value?(se(),ge("ul",NM,[i.value.length>0?(se(),ge("li",xM,[M("ul",null,[(se(!0),ge(Ue,null,vn(i.value,(_,P)=>(se(),ge("li",{key:"suggestion-"+_.idMeal,onClick:D=>E(_),class:Fn({active:P===l.value&&u.value==="suggestions"})},Qe(_.strMeal),11,DM))),128))])])):gt("",!0),o.value.length>0?(se(),ge("li",VM,[M("ul",null,[(se(!0),ge(Ue,null,vn(o.value,(_,P)=>(se(),ge("li",{key:"result-"+_.idMeal,onClick:D=>E(_),class:Fn({active:P===l.value&&u.value==="results"})},Qe(_.strMeal),11,MM))),128))])])):gt("",!0),i.value.length===0&&o.value.length===0?(se(),ge("li",LM," No results found ")):gt("",!0)])):gt("",!0)]))}},UM=mn(FM,[["__scopeId","data-v-680d9425"]]),jM={class:"home"},$M={class:"hero"},BM={class:"container"},HM={class:"search-container"},qM={class:"filters"},KM=["value"],zM=["value"],WM={class:"recipes-section slide-in-right"},GM={class:"container"},QM={key:0},JM={key:1,class:"error-message"},YM={key:2,class:"no-results"},XM={key:3,class:"loading-more"},ZM={__name:"Home",setup(t){const e=Hf(),n=_e(""),r=_e(""),s=_e(""),i=_e(1),o=_e(null),a=Ae(()=>e.getters.getSearchResults),l=Ae(()=>e.getters.getPopularRecipes),u=Ae(()=>e.getters.getCategories),h=Ae(()=>e.getters.getAreas),f=Ae(()=>e.getters.isLoading),p=Ae(()=>e.getters.getError),g=Ae(()=>n.value?a.value:l.value),E=()=>{i.value=1,e.dispatch("searchRecipes",{query:n.value,category:r.value,area:s.value,page:i.value})},R=()=>{f.value||(i.value++,n.value?e.dispatch("searchRecipes",{query:n.value,category:r.value,area:s.value,page:i.value}):e.dispatch("fetchPopularRecipes",{page:i.value}))},S=()=>{const x={root:null,rootMargin:"0px",threshold:.1},O=new IntersectionObserver(_=>{_[0].isIntersecting&&R()},x);o.value&&O.observe(o.value)};return pn(async()=>{await e.dispatch("fetchCategories"),await e.dispatch("fetchAreas"),await e.dispatch("fetchPopularRecipes",{page:i.value}),S()}),st([n,r,s],()=>{E()}),(x,O)=>(se(),ge("div",jM,[M("section",$M,[M("div",BM,[ve(Pr,{appear:"",name:"fade-in-down"},{default:Je(()=>O[3]||(O[3]=[M("h1",null,"Discover Delicious Recipes",-1)])),_:1}),ve(Pr,{appear:"",name:"fade-in-up"},{default:Je(()=>O[4]||(O[4]=[M("p",null,"Find your next favorite meal....",-1)])),_:1}),M("div",HM,[ve(Pr,{appear:"",name:"fade-in-left"},{default:Je(()=>[ve(UM,{modelValue:n.value,"onUpdate:modelValue":O[0]||(O[0]=_=>n.value=_),onSearch:E},null,8,["modelValue"])]),_:1}),ve(Pr,{appear:"",name:"fade-in-right"},{default:Je(()=>[M("div",qM,[Qt(M("select",{"onUpdate:modelValue":O[1]||(O[1]=_=>r.value=_),onChange:E},[O[5]||(O[5]=M("option",{value:""},"All Categories",-1)),(se(!0),ge(Ue,null,vn(u.value,_=>(se(),ge("option",{key:_,value:_},Qe(_),9,KM))),128))],544),[[kc,r.value]]),Qt(M("select",{"onUpdate:modelValue":O[2]||(O[2]=_=>s.value=_),onChange:E},[O[6]||(O[6]=M("option",{value:""},"All Areas",-1)),(se(!0),ge(Ue,null,vn(h.value,_=>(se(),ge("option",{key:_,value:_},Qe(_),9,zM))),128))],544),[[kc,s.value]])])]),_:1})])])]),M("section",WM,[M("div",GM,[M("h2",null,Qe(n.value?"Search Results":"Popular Recipes"),1),f.value&&!g.value.length?(se(),ge("div",QM,[ve(Jc)])):p.value?(se(),ge("div",JM,Qe(p.value),1)):g.value.length===0?(se(),ge("div",YM,[M("p",null,Qe(n.value?"No recipes found. Try a different search term or filters.":"No popular recipes available at the moment. Please try again later."),1)])):gt("",!0),ve(Fv,{name:"recipe-list",tag:"div",class:"results-grid"},{default:Je(()=>[(se(!0),ge(Ue,null,vn(g.value,_=>(se(),Bt(kw,{key:_.idMeal,recipe:_},null,8,["recipe"]))),128))]),_:1}),f.value&&g.value.length?(se(),ge("div",XM,[ve(Jc)])):gt("",!0),M("div",{ref_key:"infiniteScrollTrigger",ref:o,class:"infinite-scroll-trigger"},null,512)])])]))}},eL=mn(ZM,[["__scopeId","data-v-073b80ac"]]),tL={__name:"About",setup(t){return(e,n)=>(se(),Bt(Pr,{name:"about",appear:""},{default:Je(()=>n[0]||(n[0]=[M("div",{class:"about"},[M("div",{class:"container"},[M("h1",null,"About Us"),M("p",null,"Welcome to our Recipe App! We're passionate about bringing delicious recipes from around the world to your kitchen. Our mission is to inspire home cooks and make cooking fun and accessible for everyone."),M("p",null,"Whether you're a beginner or an experienced chef, you'll find a wide variety of recipes to suit your taste and skill level. From quick and easy weeknight dinners to impressive dishes for special occasions, we've got you covered."),M("p",null,"Happy cooking!")])],-1)])),_:1}))}},nL=mn(tL,[["__scopeId","data-v-a8e3b611"]]),rL={class:"contact"},sL={class:"container"},iL={class:"form-group"},oL={class:"form-group"},aL={class:"form-group"},cL={__name:"Contact",setup(t){const e=_e(""),n=_e(""),r=_e(""),s=()=>{console.log("Form submitted:",{name:e.value,email:n.value,message:r.value}),e.value="",n.value="",r.value="",alert("Thank you for your message. We will get back to you soon!")};return(i,o)=>(se(),ge("div",rL,[M("div",sL,[o[7]||(o[7]=M("h1",null,"Contact Us",-1)),M("form",{onSubmit:us(s,["prevent"]),class:"contact-form"},[M("div",iL,[o[3]||(o[3]=M("label",{for:"name"},"Name:",-1)),Qt(M("input",{type:"text",id:"name","onUpdate:modelValue":o[0]||(o[0]=a=>e.value=a),required:""},null,512),[[Jt,e.value]])]),M("div",oL,[o[4]||(o[4]=M("label",{for:"email"},"Email:",-1)),Qt(M("input",{type:"email",id:"email","onUpdate:modelValue":o[1]||(o[1]=a=>n.value=a),required:""},null,512),[[Jt,n.value]])]),M("div",aL,[o[5]||(o[5]=M("label",{for:"message"},"Message:",-1)),Qt(M("textarea",{id:"message","onUpdate:modelValue":o[2]||(o[2]=a=>r.value=a),required:""},null,512),[[Jt,r.value]])]),o[6]||(o[6]=M("button",{type:"submit",class:"btn"},"Send Message",-1))],32)])]))}},lL=mn(cL,[["__scopeId","data-v-11888beb"]]);function nb(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}const uL=nb(hR),hL=nb(_R);/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var ii=uL,fL=hL,qd="store";function dL(t){return t===void 0&&(t=null),ii.inject(t!==null?t:qd)}function pL(t,e){return t.filter(e)[0]}function Qh(t,e){if(e===void 0&&(e=[]),t===null||typeof t!="object")return t;var n=pL(e,function(s){return s.original===t});if(n)return n.copy;var r=Array.isArray(t)?[]:{};return e.push({original:t,copy:r}),Object.keys(t).forEach(function(s){r[s]=Qh(t[s],e)}),r}function Di(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function rb(t){return t!==null&&typeof t=="object"}function mL(t){return t&&typeof t.then=="function"}function gL(t,e){return function(){return t(e)}}function sb(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var r=e.indexOf(t);r>-1&&e.splice(r,1)}}function ib(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;Hl(t,n,[],t._modules.root,!0),Kd(t,n,e)}function Kd(t,e,n){var r=t._state,s=t._scope;t.getters={},t._makeLocalGettersCache=Object.create(null);var i=t._wrappedGetters,o={},a={},l=ii.effectScope(!0);l.run(function(){Di(i,function(u,h){o[h]=gL(u,t),a[h]=ii.computed(function(){return o[h]()}),Object.defineProperty(t.getters,h,{get:function(){return a[h].value},enumerable:!0})})}),t._state=ii.reactive({data:e}),t._scope=l,t.strict&&wL(t),r&&n&&t._withCommit(function(){r.data=null}),s&&s.stop()}function Hl(t,e,n,r,s){var i=!n.length,o=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[o],t._modulesNamespaceMap[o]=r),!i&&!s){var a=zd(e,n.slice(0,-1)),l=n[n.length-1];t._withCommit(function(){a[l]=r.state})}var u=r.context=_L(t,o,n);r.forEachMutation(function(h,f){var p=o+f;yL(t,p,h,u)}),r.forEachAction(function(h,f){var p=h.root?f:o+f,g=h.handler||h;vL(t,p,g,u)}),r.forEachGetter(function(h,f){var p=o+f;EL(t,p,h,u)}),r.forEachChild(function(h,f){Hl(t,e,n.concat(f),h,s)})}function _L(t,e,n){var r=e==="",s={dispatch:r?t.dispatch:function(i,o,a){var l=Zc(i,o,a),u=l.payload,h=l.options,f=l.type;return(!h||!h.root)&&(f=e+f),t.dispatch(f,u)},commit:r?t.commit:function(i,o,a){var l=Zc(i,o,a),u=l.payload,h=l.options,f=l.type;(!h||!h.root)&&(f=e+f),t.commit(f,u,h)}};return Object.defineProperties(s,{getters:{get:r?function(){return t.getters}:function(){return ob(t,e)}},state:{get:function(){return zd(t.state,n)}}}),s}function ob(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach(function(s){if(s.slice(0,r)===e){var i=s.slice(r);Object.defineProperty(n,i,{get:function(){return t.getters[s]},enumerable:!0})}}),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function yL(t,e,n,r){var s=t._mutations[e]||(t._mutations[e]=[]);s.push(function(o){n.call(t,r.state,o)})}function vL(t,e,n,r){var s=t._actions[e]||(t._actions[e]=[]);s.push(function(o){var a=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},o);return mL(a)||(a=Promise.resolve(a)),t._devtoolHook?a.catch(function(l){throw t._devtoolHook.emit("vuex:error",l),l}):a})}function EL(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(i){return n(r.state,r.getters,i.state,i.getters)})}function wL(t){ii.watch(function(){return t._state.data},function(){},{deep:!0,flush:"sync"})}function zd(t,e){return e.reduce(function(n,r){return n[r]},t)}function Zc(t,e,n){return rb(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}var bL="vuex bindings",P_="vuex:mutations",$u="vuex:actions",js="vuex",TL=0;function IL(t,e){fL.setupDevtoolsPlugin({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[bL]},function(n){n.addTimelineLayer({id:P_,label:"Vuex Mutations",color:O_}),n.addTimelineLayer({id:$u,label:"Vuex Actions",color:O_}),n.addInspector({id:js,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===t&&r.inspectorId===js)if(r.filter){var s=[];ub(s,e._modules.root,r.filter,""),r.rootNodes=s}else r.rootNodes=[lb(e._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===t&&r.inspectorId===js){var s=r.nodeId;ob(e,s),r.state=RL(PL(e._modules,s),s==="root"?e.getters:e._makeLocalGettersCache,s)}}),n.on.editInspectorState(function(r){if(r.app===t&&r.inspectorId===js){var s=r.nodeId,i=r.path;s!=="root"&&(i=s.split("/").filter(Boolean).concat(i)),e._withCommit(function(){r.set(e._state.data,i,r.state.value)})}}),e.subscribe(function(r,s){var i={};r.payload&&(i.payload=r.payload),i.state=s,n.notifyComponentUpdate(),n.sendInspectorTree(js),n.sendInspectorState(js),n.addTimelineEvent({layerId:P_,event:{time:Date.now(),title:r.type,data:i}})}),e.subscribeAction({before:function(r,s){var i={};r.payload&&(i.payload=r.payload),r._id=TL++,r._time=Date.now(),i.state=s,n.addTimelineEvent({layerId:$u,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:i}})},after:function(r,s){var i={},o=Date.now()-r._time;i.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},r.payload&&(i.payload=r.payload),i.state=s,n.addTimelineEvent({layerId:$u,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:i}})}})})}var O_=8702998,AL=6710886,SL=16777215,ab={label:"namespaced",textColor:SL,backgroundColor:AL};function cb(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function lb(t,e){return{id:e||"root",label:cb(e),tags:t.namespaced?[ab]:[],children:Object.keys(t._children).map(function(n){return lb(t._children[n],e+n+"/")})}}function ub(t,e,n,r){r.includes(n)&&t.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:e.namespaced?[ab]:[]}),Object.keys(e._children).forEach(function(s){ub(t,e._children[s],n,r+s+"/")})}function RL(t,e,n){e=n==="root"?e:e[n];var r=Object.keys(e),s={state:Object.keys(t.state).map(function(o){return{key:o,editable:!0,value:t.state[o]}})};if(r.length){var i=CL(e);s.getters=Object.keys(i).map(function(o){return{key:o.endsWith("/")?cb(o):o,editable:!1,value:Jh(function(){return i[o]})}})}return s}function CL(t){var e={};return Object.keys(t).forEach(function(n){var r=n.split("/");if(r.length>1){var s=e,i=r.pop();r.forEach(function(o){s[o]||(s[o]={_custom:{value:{},display:o,tooltip:"Module",abstract:!0}}),s=s[o]._custom.value}),s[i]=Jh(function(){return t[n]})}else e[n]=Jh(function(){return t[n]})}),e}function PL(t,e){var n=e.split("/").filter(function(r){return r});return n.reduce(function(r,s,i){var o=r[s];if(!o)throw new Error('Missing module "'+s+'" for path "'+e+'".');return i===n.length-1?o:o._children},e==="root"?t:t.root._children)}function Jh(t){try{return t()}catch(e){return e}}var Sn=function(e,n){this.runtime=n,this._children=Object.create(null),this._rawModule=e;var r=e.state;this.state=(typeof r=="function"?r():r)||{}},hb={namespaced:{configurable:!0}};hb.namespaced.get=function(){return!!this._rawModule.namespaced};Sn.prototype.addChild=function(e,n){this._children[e]=n};Sn.prototype.removeChild=function(e){delete this._children[e]};Sn.prototype.getChild=function(e){return this._children[e]};Sn.prototype.hasChild=function(e){return e in this._children};Sn.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};Sn.prototype.forEachChild=function(e){Di(this._children,e)};Sn.prototype.forEachGetter=function(e){this._rawModule.getters&&Di(this._rawModule.getters,e)};Sn.prototype.forEachAction=function(e){this._rawModule.actions&&Di(this._rawModule.actions,e)};Sn.prototype.forEachMutation=function(e){this._rawModule.mutations&&Di(this._rawModule.mutations,e)};Object.defineProperties(Sn.prototype,hb);var Ps=function(e){this.register([],e,!1)};Ps.prototype.get=function(e){return e.reduce(function(n,r){return n.getChild(r)},this.root)};Ps.prototype.getNamespace=function(e){var n=this.root;return e.reduce(function(r,s){return n=n.getChild(s),r+(n.namespaced?s+"/":"")},"")};Ps.prototype.update=function(e){fb([],this.root,e)};Ps.prototype.register=function(e,n,r){var s=this;r===void 0&&(r=!0);var i=new Sn(n,r);if(e.length===0)this.root=i;else{var o=this.get(e.slice(0,-1));o.addChild(e[e.length-1],i)}n.modules&&Di(n.modules,function(a,l){s.register(e.concat(l),a,r)})};Ps.prototype.unregister=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1],s=n.getChild(r);s&&s.runtime&&n.removeChild(r)};Ps.prototype.isRegistered=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1];return n?n.hasChild(r):!1};function fb(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return;fb(t.concat(r),e.getChild(r),n.modules[r])}}function OL(t){return new Ht(t)}var Ht=function(e){var n=this;e===void 0&&(e={});var r=e.plugins;r===void 0&&(r=[]);var s=e.strict;s===void 0&&(s=!1);var i=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Ps(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=i;var o=this,a=this,l=a.dispatch,u=a.commit;this.dispatch=function(p,g){return l.call(o,p,g)},this.commit=function(p,g,E){return u.call(o,p,g,E)},this.strict=s;var h=this._modules.root.state;Hl(this,h,[],this._modules.root),Kd(this,h),r.forEach(function(f){return f(n)})},Wd={state:{configurable:!0}};Ht.prototype.install=function(e,n){e.provide(n||qd,this),e.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&IL(e,this)};Wd.state.get=function(){return this._state.data};Wd.state.set=function(t){};Ht.prototype.commit=function(e,n,r){var s=this,i=Zc(e,n,r),o=i.type,a=i.payload,l={type:o,payload:a},u=this._mutations[o];u&&(this._withCommit(function(){u.forEach(function(f){f(a)})}),this._subscribers.slice().forEach(function(h){return h(l,s.state)}))};Ht.prototype.dispatch=function(e,n){var r=this,s=Zc(e,n),i=s.type,o=s.payload,a={type:i,payload:o},l=this._actions[i];if(l){try{this._actionSubscribers.slice().filter(function(h){return h.before}).forEach(function(h){return h.before(a,r.state)})}catch{}var u=l.length>1?Promise.all(l.map(function(h){return h(o)})):l[0](o);return new Promise(function(h,f){u.then(function(p){try{r._actionSubscribers.filter(function(g){return g.after}).forEach(function(g){return g.after(a,r.state)})}catch{}h(p)},function(p){try{r._actionSubscribers.filter(function(g){return g.error}).forEach(function(g){return g.error(a,r.state,p)})}catch{}f(p)})})}};Ht.prototype.subscribe=function(e,n){return sb(e,this._subscribers,n)};Ht.prototype.subscribeAction=function(e,n){var r=typeof e=="function"?{before:e}:e;return sb(r,this._actionSubscribers,n)};Ht.prototype.watch=function(e,n,r){var s=this;return ii.watch(function(){return e(s.state,s.getters)},n,Object.assign({},r))};Ht.prototype.replaceState=function(e){var n=this;this._withCommit(function(){n._state.data=e})};Ht.prototype.registerModule=function(e,n,r){r===void 0&&(r={}),typeof e=="string"&&(e=[e]),this._modules.register(e,n),Hl(this,this.state,e,this._modules.get(e),r.preserveState),Kd(this,this.state)};Ht.prototype.unregisterModule=function(e){var n=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var r=zd(n.state,e.slice(0,-1));delete r[e[e.length-1]]}),ib(this)};Ht.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};Ht.prototype.hotUpdate=function(e){this._modules.update(e),ib(this,!0)};Ht.prototype._withCommit=function(e){var n=this._committing;this._committing=!0,e(),this._committing=n};Object.defineProperties(Ht.prototype,Wd);var db=Kl(function(t,e){var n={};return ql(e).forEach(function(r){var s=r.key,i=r.val;n[s]=function(){var a=this.$store.state,l=this.$store.getters;if(t){var u=zl(this.$store,"mapState",t);if(!u)return;a=u.context.state,l=u.context.getters}return typeof i=="function"?i.call(this,a,l):a[i]},n[s].vuex=!0}),n}),pb=Kl(function(t,e){var n={};return ql(e).forEach(function(r){var s=r.key,i=r.val;n[s]=function(){for(var a=[],l=arguments.length;l--;)a[l]=arguments[l];var u=this.$store.commit;if(t){var h=zl(this.$store,"mapMutations",t);if(!h)return;u=h.context.commit}return typeof i=="function"?i.apply(this,[u].concat(a)):u.apply(this.$store,[i].concat(a))}}),n}),mb=Kl(function(t,e){var n={};return ql(e).forEach(function(r){var s=r.key,i=r.val;i=t+i,n[s]=function(){if(!(t&&!zl(this.$store,"mapGetters",t)))return this.$store.getters[i]},n[s].vuex=!0}),n}),gb=Kl(function(t,e){var n={};return ql(e).forEach(function(r){var s=r.key,i=r.val;n[s]=function(){for(var a=[],l=arguments.length;l--;)a[l]=arguments[l];var u=this.$store.dispatch;if(t){var h=zl(this.$store,"mapActions",t);if(!h)return;u=h.context.dispatch}return typeof i=="function"?i.apply(this,[u].concat(a)):u.apply(this.$store,[i].concat(a))}}),n}),kL=function(t){return{mapState:db.bind(null,t),mapGetters:mb.bind(null,t),mapMutations:pb.bind(null,t),mapActions:gb.bind(null,t)}};function ql(t){return NL(t)?Array.isArray(t)?t.map(function(e){return{key:e,val:e}}):Object.keys(t).map(function(e){return{key:e,val:t[e]}}):[]}function NL(t){return Array.isArray(t)||rb(t)}function Kl(t){return function(e,n){return typeof e!="string"?(n=e,e=""):e.charAt(e.length-1)!=="/"&&(e+="/"),t(e,n)}}function zl(t,e,n){var r=t._modulesNamespaceMap[n];return r}function xL(t){t===void 0&&(t={});var e=t.collapsed;e===void 0&&(e=!0);var n=t.filter;n===void 0&&(n=function(h,f,p){return!0});var r=t.transformer;r===void 0&&(r=function(h){return h});var s=t.mutationTransformer;s===void 0&&(s=function(h){return h});var i=t.actionFilter;i===void 0&&(i=function(h,f){return!0});var o=t.actionTransformer;o===void 0&&(o=function(h){return h});var a=t.logMutations;a===void 0&&(a=!0);var l=t.logActions;l===void 0&&(l=!0);var u=t.logger;return u===void 0&&(u=console),function(h){var f=Qh(h.state);typeof u>"u"||(a&&h.subscribe(function(p,g){var E=Qh(g);if(n(p,f,E)){var R=x_(),S=s(p),x="mutation "+p.type+R;k_(u,x,e),u.log("%c prev state","color: #9E9E9E; font-weight: bold",r(f)),u.log("%c mutation","color: #03A9F4; font-weight: bold",S),u.log("%c next state","color: #4CAF50; font-weight: bold",r(E)),N_(u)}f=E}),l&&h.subscribeAction(function(p,g){if(i(p,g)){var E=x_(),R=o(p),S="action "+p.type+E;k_(u,S,e),u.log("%c action","color: #03A9F4; font-weight: bold",R),N_(u)}}))}}function k_(t,e,n){var r=n?t.groupCollapsed:t.group;try{r.call(t,e)}catch{t.log(e)}}function N_(t){try{t.groupEnd()}catch{t.log(" log end ")}}function x_(){var t=new Date;return" @ "+Ja(t.getHours(),2)+":"+Ja(t.getMinutes(),2)+":"+Ja(t.getSeconds(),2)+"."+Ja(t.getMilliseconds(),3)}function DL(t,e){return new Array(e+1).join(t)}function Ja(t,e){return DL("0",e-t.toString().length)+t}var VL={version:"4.1.0",Store:Ht,storeKey:qd,createStore:OL,useStore:dL,mapState:db,mapMutations:pb,mapGetters:mb,mapActions:gb,createNamespacedHelpers:kL,createLogger:xL},ML=VL;const LL={class:"recipe-details"},FL={key:1,class:"recipe-card"},UL={class:"recipe-image"},jL=["src","alt"],$L={class:"recipe-content"},BL={class:"recipe-rating"},HL={class:"recipe-title"},qL={class:"recipe-meta"},KL={class:"recipe-servings"},zL={class:"recipe-time"},WL={key:0,class:"recipe-tags"},GL={class:"recipe-section"},QL={class:"ingredients-list"},JL={class:"recipe-section"},YL={class:"directions-list"},XL={class:"recipe-notes"},ZL={key:0},e2=["href"],t2={key:1},n2=["href"],r2={key:2},s2={key:3},i2={__name:"RecipeDetails",setup(t){const e=j1(),n=ML.useStore(),r=_e({}),s=_e(4),i=_e(2),o=_e(15),a=Ae(()=>$h.currentUser),l=_e(!1),u=Ae(()=>n.getters.isLoading),h=_e(null),f=async()=>{if(a.value&&r.value.idMeal){const S=d_(p_,"favorites",`${a.value.uid}_${r.value.idMeal}`),x=await SD(S);l.value=x.exists()}},p=async()=>{if(a.value&&r.value.idMeal){const S=d_(p_,"favorites",`${a.value.uid}_${r.value.idMeal}`);try{l.value?await PD(S):await CD(S,{userId:a.value.uid,recipe:r.value}),l.value=!l.value}catch(x){console.error("Error toggling favorite:",x),h.value="Failed to update favorite. Please try again."}}},g=Ae(()=>r.value?Array.from({length:20},(S,x)=>x+1).map(S=>({name:r.value[`strIngredient${S}`],measure:r.value[`strMeasure${S}`]})).filter(({name:S,measure:x})=>S&&x):[]),E=Ae(()=>r.value.strInstructions?r.value.strInstructions.split(`
`).filter(S=>S.trim()):[]),R=Ae(()=>r.value.strTags?r.value.strTags.split(",").map(S=>S.trim()):[]);return pn(async()=>{n.commit("setLoading",!0);try{const S=await Ke.get(`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${e.params.id}`);r.value=S.data.meals[0],await f()}catch(S){console.error("Error fetching recipe details:",S),h.value="Failed to load recipe details. Please try again."}finally{n.commit("setLoading",!1)}}),(S,x)=>(se(),ge("div",LL,[u.value?(se(),Bt(Jc,{key:0})):(se(),ge("div",FL,[M("div",UL,[M("img",{src:r.value.strMealThumb,alt:r.value.strMeal},null,8,jL)]),M("div",$L,[M("div",BL,[(se(),ge(Ue,null,vn(5,O=>M("span",{key:O,class:Fn(["star",{empty:O>s.value}])},"",2)),64))]),M("h1",HL,Qe(r.value.strMeal),1),M("div",qL,[M("span",KL,[x[0]||(x[0]=Ff('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon" data-v-53b2cfce><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" data-v-53b2cfce></path><circle cx="9" cy="7" r="4" data-v-53b2cfce></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87" data-v-53b2cfce></path><path d="M16 3.13a4 4 0 0 1 0 7.75" data-v-53b2cfce></path></svg>',1)),mt(" "+Qe(i.value)+" servings ",1)]),M("span",zL,[x[1]||(x[1]=M("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"icon"},[M("circle",{cx:"12",cy:"12",r:"10"}),M("polyline",{points:"12 6 12 12 16 14"})],-1)),mt(" "+Qe(o.value)+" minutes ",1)])]),R.value.length?(se(),ge("div",WL,[(se(!0),ge(Ue,null,vn(R.value,O=>(se(),ge("span",{key:O,class:"tag"},Qe(O),1))),128))])):gt("",!0),M("div",GL,[x[2]||(x[2]=M("h2",null,"INGREDIENTS",-1)),M("ul",QL,[(se(!0),ge(Ue,null,vn(g.value,(O,_)=>(se(),ge("li",{key:_},Qe(O.measure)+" "+Qe(O.name),1))),128))])]),M("div",JL,[x[3]||(x[3]=M("h2",null,"DIRECTIONS",-1)),M("ol",YL,[(se(!0),ge(Ue,null,vn(E.value,(O,_)=>(se(),ge("li",{key:_},Qe(O),1))),128))])]),M("div",XL,[x[6]||(x[6]=M("h2",null,"NOTES",-1)),r.value.strSource?(se(),ge("p",ZL,[x[4]||(x[4]=mt("Source: ")),M("a",{href:r.value.strSource,target:"_blank",rel:"noopener noreferrer"},Qe(r.value.strSource),9,e2)])):gt("",!0),r.value.strYoutube?(se(),ge("p",t2,[x[5]||(x[5]=mt("Video Tutorial: ")),M("a",{href:r.value.strYoutube,target:"_blank",rel:"noopener noreferrer"},"Watch on YouTube",8,n2)])):gt("",!0),r.value.strCategory?(se(),ge("p",r2,"Category: "+Qe(r.value.strCategory),1)):gt("",!0),r.value.strArea?(se(),ge("p",s2,"Cuisine: "+Qe(r.value.strArea),1)):gt("",!0)]),a.value?(se(),ge("button",{key:1,onClick:p,class:"favorite-btn"},Qe(l.value?"Remove from Favorites":"Add to Favorites"),1)):gt("",!0)])]))]))}},o2=mn(i2,[["__scopeId","data-v-53b2cfce"]]),a2={class:"page-wrapper"},c2={class:"container"},l2={__name:"SignUp",setup(t){const e=_e(""),n=_e(""),r=_e(""),s=_e(""),i=()=>{console.log("Sign up with:",e.value,n.value,r.value,s.value)},o=()=>{console.log("Sign up with Google")},a=()=>{console.log("Sign up with Apple")},l=()=>{console.log("Sign up with Twitter")},u=()=>{console.log("Show user agreement")};return(h,f)=>(se(),ge("div",a2,[M("div",c2,[f[9]||(f[9]=M("div",{class:"heading"},"Sign Up",-1)),M("form",{onSubmit:us(i,["prevent"]),class:"form"},[Qt(M("input",{required:"",class:"input",type:"text","onUpdate:modelValue":f[0]||(f[0]=p=>e.value=p),name:"name",id:"name",placeholder:"Full Name"},null,512),[[Jt,e.value]]),Qt(M("input",{required:"",class:"input",type:"email","onUpdate:modelValue":f[1]||(f[1]=p=>n.value=p),name:"email",id:"email",placeholder:"E-mail"},null,512),[[Jt,n.value]]),Qt(M("input",{required:"",class:"input",type:"password","onUpdate:modelValue":f[2]||(f[2]=p=>r.value=p),name:"password",id:"password",placeholder:"Password"},null,512),[[Jt,r.value]]),Qt(M("input",{required:"",class:"input",type:"password","onUpdate:modelValue":f[3]||(f[3]=p=>s.value=p),name:"confirmPassword",id:"confirmPassword",placeholder:"Confirm Password"},null,512),[[Jt,s.value]]),f[4]||(f[4]=M("input",{class:"login-button",type:"submit",value:"Sign Up"},null,-1))],32),M("div",{class:"social-account-container"},[f[8]||(f[8]=M("span",{class:"title"},"Or Sign up with",-1)),M("div",{class:"social-accounts"},[M("button",{class:"social-button google",onClick:o},f[5]||(f[5]=[M("svg",{class:"svg",xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 488 512"},[M("path",{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"})],-1)])),M("button",{class:"social-button apple",onClick:a},f[6]||(f[6]=[M("svg",{class:"svg",xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 384 512"},[M("path",{d:"M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"})],-1)])),M("button",{class:"social-button twitter",onClick:l},f[7]||(f[7]=[M("svg",{class:"svg",xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 512 512"},[M("path",{d:"M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"})],-1)]))])]),M("span",{class:"agreement"},[M("a",{href:"#",onClick:u},"Learn user licence agreement")])])]))}},u2=mn(l2,[["__scopeId","data-v-cfb1a14a"]]),h2={class:"page-wrapper"},f2={class:"container"},d2={__name:"SignIn",setup(t){const e=_e(""),n=_e(""),r=()=>{console.log("Sign in with:",e.value,n.value)},s=()=>{console.log("Forgot password")},i=()=>{console.log("Sign in with Google")},o=()=>{console.log("Sign in with Apple")},a=()=>{console.log("Sign in with Twitter")},l=()=>{console.log("Show user agreement")};return(u,h)=>(se(),ge("div",h2,[M("div",f2,[h[7]||(h[7]=M("div",{class:"heading"},"Sign In",-1)),M("form",{onSubmit:us(r,["prevent"]),class:"form"},[Qt(M("input",{required:"",class:"input",type:"email","onUpdate:modelValue":h[0]||(h[0]=f=>e.value=f),name:"email",id:"email",placeholder:"E-mail"},null,512),[[Jt,e.value]]),Qt(M("input",{required:"",class:"input",type:"password","onUpdate:modelValue":h[1]||(h[1]=f=>n.value=f),name:"password",id:"password",placeholder:"Password"},null,512),[[Jt,n.value]]),M("span",{class:"forgot-password"},[M("a",{href:"#",onClick:s},"Forgot Password ?")]),h[2]||(h[2]=M("input",{class:"login-button",type:"submit",value:"Sign In"},null,-1))],32),M("div",{class:"social-account-container"},[h[6]||(h[6]=M("span",{class:"title"},"Or Sign in with",-1)),M("div",{class:"social-accounts"},[M("button",{class:"social-button google",onClick:i},h[3]||(h[3]=[M("svg",{class:"svg",xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 488 512"},[M("path",{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"})],-1)])),M("button",{class:"social-button apple",onClick:o},h[4]||(h[4]=[M("svg",{class:"svg",xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 384 512"},[M("path",{d:"M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"})],-1)])),M("button",{class:"social-button twitter",onClick:a},h[5]||(h[5]=[M("svg",{class:"svg",xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 512 512"},[M("path",{d:"M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"})],-1)]))])]),M("span",{class:"agreement"},[M("a",{href:"#",onClick:l},"Learn user licence agreement")])])]))}},p2=mn(d2,[["__scopeId","data-v-1daab1fe"]]),m2={class:"favorite-recipes"},g2={key:1,class:"error-message"},_2={key:2},y2={key:3,class:"recipes-grid"},v2={__name:"FavoriteRecipes",setup(t){const e=Hf(),n=Ae(()=>e.getters.getFavorites),r=Ae(()=>e.getters.isLoading),s=Ae(()=>e.getters.getError);return pn(()=>{e.dispatch("fetchFavorites")}),(i,o)=>(se(),ge("div",m2,[o[0]||(o[0]=M("h2",null,"Your Favorite Recipes",-1)),r.value?(se(),Bt(Jc,{key:0})):s.value?(se(),ge("div",g2,Qe(s.value),1)):n.value.length===0?(se(),ge("div",_2,"You haven't saved any favorites yet.")):(se(),ge("div",y2,[(se(!0),ge(Ue,null,vn(n.value,a=>(se(),Bt(kw,{key:a.idMeal,recipe:a},null,8,["recipe"]))),128))]))]))}},E2=mn(v2,[["__scopeId","data-v-c053abee"]]),w2=[{path:"/",name:"Home",component:eL},{path:"/about",name:"About",component:nL},{path:"/contact",name:"Contact",component:lL},{path:"/recipe/:id",name:"RecipeDetails",component:o2},{path:"/signup",name:"SignUp",component:u2},{path:"/signin",name:"SignIn",component:p2},{path:"/favorites",name:"Favorites",component:E2}],b2=L1({history:d1(),routes:w2}),T2=DR({state:{searchResults:[],popularRecipes:[],categories:[],areas:[],isLoading:!1,error:null},mutations:{setSearchResults(t,e){t.searchResults=e},appendSearchResults(t,e){const n=e.filter(r=>!t.searchResults.some(s=>s.idMeal===r.idMeal));t.searchResults=[...t.searchResults,...n]},setPopularRecipes(t,e){t.popularRecipes=e},appendPopularRecipes(t,e){const n=e.filter(r=>!t.popularRecipes.some(s=>s.idMeal===r.idMeal));t.popularRecipes=[...t.popularRecipes,...n]},setCategories(t,e){t.categories=e},setAreas(t,e){t.areas=e},setLoading(t,e){t.isLoading=e},setError(t,e){t.error=e}},actions:{async searchRecipes({commit:t,state:e},{query:n,category:r,area:s,page:i}){t("setLoading",!0),t("setError",null);try{let o=`https://www.themealdb.com/api/json/v1/1/search.php?s=${n}`;r&&(o+=`&c=${r}`),s&&(o+=`&a=${s}`);const l=(await Ke.get(o)).data.meals||[],u=(i-1)*10,h=u+10,f=l.slice(u,h);t(i===1?"setSearchResults":"appendSearchResults",f),f.length===0&&i===1&&t("setError","No recipes found. Try a different search term or filters.")}catch(o){t("setError","An error occurred while searching for recipes."),console.error("Error searching recipes:",o)}finally{t("setLoading",!1)}},async fetchPopularRecipes({commit:t,state:e},{page:n}){t("setLoading",!0),t("setError",null);try{const r=[];let o=0;for(;r.length<10&&o<20;){const l=(await Ke.get("https://www.themealdb.com/api/json/v1/1/random.php")).data.meals[0];!e.popularRecipes.some(u=>u.idMeal===l.idMeal)&&!r.some(u=>u.idMeal===l.idMeal)&&r.push(l),o++}t(n===1?"setPopularRecipes":"appendPopularRecipes",r),r.length===0&&n===1&&t("setError","No popular recipes available at the moment. Please try again later.")}catch(r){t("setError","An error occurred while fetching popular recipes."),console.error("Error fetching popular recipes:",r)}finally{t("setLoading",!1)}},async fetchCategories({commit:t}){try{const e=await Ke.get("https://www.themealdb.com/api/json/v1/1/list.php?c=list");t("setCategories",e.data.meals.map(n=>n.strCategory))}catch(e){console.error("Error fetching categories:",e)}},async fetchAreas({commit:t}){try{const e=await Ke.get("https://www.themealdb.com/api/json/v1/1/list.php?a=list");t("setAreas",e.data.meals.map(n=>n.strArea))}catch(e){console.error("Error fetching areas:",e)}}},getters:{getSearchResults:t=>t.searchResults,getPopularRecipes:t=>t.popularRecipes,getCategories:t=>t.categories,getAreas:t=>t.areas,isLoading:t=>t.isLoading,getError:t=>t.error}});function Bu(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in t?!1:Symbol.toStringTag in t?Object.prototype.toString.call(t)==="[object Module]":!0}function Yh(t,e,n=".",r){if(!Bu(e))return Yh(t,{},n,r);const s=Object.assign({},e);for(const i in t){if(i==="__proto__"||i==="constructor")continue;const o=t[i];o!=null&&(r&&r(s,i,o,n)||(Array.isArray(o)&&Array.isArray(s[i])?s[i]=[...o,...s[i]]:Bu(o)&&Bu(s[i])?s[i]=Yh(o,s[i],(n?`${n}.`:"")+i.toString(),r):s[i]=o))}return s}function I2(t){return(...e)=>e.reduce((n,r)=>Yh(n,r,"",t),{})}const _b=I2();function yb(t){return pf()?(ey(t),!0):!1}function Gd(t){return typeof t=="function"?t():xt(t)}const A2=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const S2=t=>t!=null,R2=Object.prototype.toString,el=t=>R2.call(t)==="[object Object]",dc=()=>{};function C2(t){return en()}function P2(t,e){C2()&&As(t,e)}function Eo(t){var e;const n=Gd(t);return(e=n==null?void 0:n.$el)!=null?e:n}const vb=A2?window:void 0;function Cn(...t){let e,n,r,s;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,r,s]=t,e=vb):[e,n,r,s]=t,!e)return dc;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const i=[],o=()=>{i.forEach(h=>h()),i.length=0},a=(h,f,p,g)=>(h.addEventListener(f,p,g),()=>h.removeEventListener(f,p,g)),l=st(()=>[Eo(e),Gd(s)],([h,f])=>{if(o(),!h)return;const p=el(f)?{...f}:f;i.push(...n.flatMap(g=>r.map(E=>a(h,g,E,p))))},{immediate:!0,flush:"post"}),u=()=>{l(),o()};return yb(u),u}function O2(){const t=_e(!1),e=en();return e&&pn(()=>{t.value=!0},e),t}function k2(t){const e=O2();return Ae(()=>(e.value,!!t()))}function N2(t,e,n={}){const{root:r,rootMargin:s="0px",threshold:i=.1,window:o=vb,immediate:a=!0}=n,l=k2(()=>o&&"IntersectionObserver"in o),u=Ae(()=>{const E=Gd(t);return(Array.isArray(E)?E:[E]).map(Eo).filter(S2)});let h=dc;const f=_e(a),p=l.value?st(()=>[u.value,Eo(r),f.value],([E,R])=>{if(h(),!f.value||!E.length)return;const S=new IntersectionObserver(e,{root:Eo(R),rootMargin:s,threshold:i});E.forEach(x=>x&&S.observe(x)),h=()=>{S.disconnect(),h=dc}},{immediate:a,flush:"post"}):dc,g=()=>{h(),p(),f.value=!1};return yb(g),{isSupported:l,isActive:f,pause(){h(),f.value=!1},resume(){f.value=!0},stop:g}}const Eb=1/60*1e3,x2=typeof performance<"u"?()=>performance.now():()=>Date.now(),wb=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(x2()),Eb);function D2(t){let e=[],n=[],r=0,s=!1,i=!1;const o=new WeakSet,a={schedule:(l,u=!1,h=!1)=>{const f=h&&s,p=f?e:n;return u&&o.add(l),p.indexOf(l)===-1&&(p.push(l),f&&s&&(r=e.length)),l},cancel:l=>{const u=n.indexOf(l);u!==-1&&n.splice(u,1),o.delete(l)},process:l=>{if(s){i=!0;return}if(s=!0,[e,n]=[n,e],n.length=0,r=e.length,r)for(let u=0;u<r;u++){const h=e[u];h(l),o.has(h)&&(a.schedule(h),t())}s=!1,i&&(i=!1,a.process(l))}};return a}const V2=40;let Xh=!0,qo=!1,Zh=!1;const oi={delta:0,timestamp:0},pa=["read","update","preRender","render","postRender"],Wl=pa.reduce((t,e)=>(t[e]=D2(()=>qo=!0),t),{}),ef=pa.reduce((t,e)=>{const n=Wl[e];return t[e]=(r,s=!1,i=!1)=>(qo||F2(),n.schedule(r,s,i)),t},{}),M2=pa.reduce((t,e)=>(t[e]=Wl[e].cancel,t),{});pa.reduce((t,e)=>(t[e]=()=>Wl[e].process(oi),t),{});const L2=t=>Wl[t].process(oi),bb=t=>{qo=!1,oi.delta=Xh?Eb:Math.max(Math.min(t-oi.timestamp,V2),1),oi.timestamp=t,Zh=!0,pa.forEach(L2),Zh=!1,qo&&(Xh=!1,wb(bb))},F2=()=>{qo=!0,Xh=!0,Zh||wb(bb)},Tb=()=>oi;function Ib(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}var D_=function(){};const tf=(t,e,n)=>Math.min(Math.max(n,t),e),Hu=.001,U2=.01,j2=10,$2=.05,B2=1;function H2({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,i,o=1-e;o=tf($2,B2,o),t=tf(U2,j2,t/1e3),o<1?(s=u=>{const h=u*o,f=h*t,p=h-n,g=nf(u,o),E=Math.exp(-f);return Hu-p/g*E},i=u=>{const f=u*o*t,p=f*n+n,g=Math.pow(o,2)*Math.pow(u,2)*t,E=Math.exp(-f),R=nf(Math.pow(u,2),o);return(-s(u)+Hu>0?-1:1)*((p-g)*E)/R}):(s=u=>{const h=Math.exp(-u*t),f=(u-n)*t+1;return-Hu+h*f},i=u=>{const h=Math.exp(-u*t),f=(n-u)*(t*t);return h*f});const a=5/t,l=K2(s,i,a);if(t=t*1e3,isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const q2=12;function K2(t,e,n){let r=n;for(let s=1;s<q2;s++)r=r-t(r)/e(r);return r}function nf(t,e){return t*Math.sqrt(1-e*e)}const z2=["duration","bounce"],W2=["stiffness","damping","mass"];function V_(t,e){return e.some(n=>t[n]!==void 0)}function G2(t){let e=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},t);if(!V_(t,W2)&&V_(t,z2)){const n=H2(t);e=Object.assign(Object.assign(Object.assign({},e),n),{velocity:0,mass:1}),e.isResolvedFromDuration=!0}return e}function Qd(t){var{from:e=0,to:n=1,restSpeed:r=2,restDelta:s}=t,i=Ib(t,["from","to","restSpeed","restDelta"]);const o={done:!1,value:e};let{stiffness:a,damping:l,mass:u,velocity:h,duration:f,isResolvedFromDuration:p}=G2(i),g=M_,E=M_;function R(){const S=h?-(h/1e3):0,x=n-e,O=l/(2*Math.sqrt(a*u)),_=Math.sqrt(a/u)/1e3;if(s===void 0&&(s=Math.min(Math.abs(n-e)/100,.4)),O<1){const P=nf(_,O);g=D=>{const F=Math.exp(-O*_*D);return n-F*((S+O*_*x)/P*Math.sin(P*D)+x*Math.cos(P*D))},E=D=>{const F=Math.exp(-O*_*D);return O*_*F*(Math.sin(P*D)*(S+O*_*x)/P+x*Math.cos(P*D))-F*(Math.cos(P*D)*(S+O*_*x)-P*x*Math.sin(P*D))}}else if(O===1)g=P=>n-Math.exp(-_*P)*(x+(S+_*x)*P);else{const P=_*Math.sqrt(O*O-1);g=D=>{const F=Math.exp(-O*_*D),T=Math.min(P*D,300);return n-F*((S+O*_*x)*Math.sinh(T)+P*x*Math.cosh(T))/P}}}return R(),{next:S=>{const x=g(S);if(p)o.done=S>=f;else{const O=E(S)*1e3,_=Math.abs(O)<=r,P=Math.abs(n-x)<=s;o.done=_&&P}return o.value=o.done?n:x,o},flipTarget:()=>{h=-h,[e,n]=[n,e],R()}}}Qd.needsInterpolation=(t,e)=>typeof t=="string"||typeof e=="string";const M_=t=>0,Ab=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Jd=(t,e,n)=>-n*t+n*e+t,Sb=(t,e)=>n=>Math.max(Math.min(n,e),t),wo=t=>t%1?Number(t.toFixed(5)):t,Ko=/(-)?([\d]*\.?[\d])+/g,rf=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Q2=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ma(t){return typeof t=="string"}const ga={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},bo=Object.assign(Object.assign({},ga),{transform:Sb(0,1)}),Ya=Object.assign(Object.assign({},ga),{default:1}),Yd=t=>({test:e=>ma(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ts=Yd("deg"),To=Yd("%"),Ie=Yd("px"),L_=Object.assign(Object.assign({},To),{parse:t=>To.parse(t)/100,transform:t=>To.transform(t*100)}),Xd=(t,e)=>n=>!!(ma(n)&&Q2.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),Rb=(t,e,n)=>r=>{if(!ma(r))return r;const[s,i,o,a]=r.match(Ko);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},os={test:Xd("hsl","hue"),parse:Rb("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+To.transform(wo(e))+", "+To.transform(wo(n))+", "+wo(bo.transform(r))+")"},J2=Sb(0,255),qu=Object.assign(Object.assign({},ga),{transform:t=>Math.round(J2(t))}),Nr={test:Xd("rgb","red"),parse:Rb("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+qu.transform(t)+", "+qu.transform(e)+", "+qu.transform(n)+", "+wo(bo.transform(r))+")"};function Y2(t){let e="",n="",r="",s="";return t.length>5?(e=t.substr(1,2),n=t.substr(3,2),r=t.substr(5,2),s=t.substr(7,2)):(e=t.substr(1,1),n=t.substr(2,1),r=t.substr(3,1),s=t.substr(4,1),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const sf={test:Xd("#"),parse:Y2,transform:Nr.transform},zt={test:t=>Nr.test(t)||sf.test(t)||os.test(t),parse:t=>Nr.test(t)?Nr.parse(t):os.test(t)?os.parse(t):sf.parse(t),transform:t=>ma(t)?t:t.hasOwnProperty("red")?Nr.transform(t):os.transform(t)},Cb="${c}",Pb="${n}";function X2(t){var e,n,r,s;return isNaN(t)&&ma(t)&&((n=(e=t.match(Ko))===null||e===void 0?void 0:e.length)!==null&&n!==void 0?n:0)+((s=(r=t.match(rf))===null||r===void 0?void 0:r.length)!==null&&s!==void 0?s:0)>0}function Ob(t){typeof t=="number"&&(t=`${t}`);const e=[];let n=0;const r=t.match(rf);r&&(n=r.length,t=t.replace(rf,Cb),e.push(...r.map(zt.parse)));const s=t.match(Ko);return s&&(t=t.replace(Ko,Pb),e.push(...s.map(ga.parse))),{values:e,numColors:n,tokenised:t}}function kb(t){return Ob(t).values}function Nb(t){const{values:e,numColors:n,tokenised:r}=Ob(t),s=e.length;return i=>{let o=r;for(let a=0;a<s;a++)o=o.replace(a<n?Cb:Pb,a<n?zt.transform(i[a]):wo(i[a]));return o}}const Z2=t=>typeof t=="number"?0:t;function eF(t){const e=kb(t);return Nb(t)(e.map(Z2))}const _a={test:X2,parse:kb,createTransformer:Nb,getAnimatableNone:eF},tF=new Set(["brightness","contrast","saturate","opacity"]);function nF(t){let[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Ko)||[];if(!r)return t;const s=n.replace(r,"");let i=tF.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const rF=/([a-z-]*)\(.*?\)/g,of=Object.assign(Object.assign({},_a),{getAnimatableNone:t=>{const e=t.match(rF);return e?e.map(nF).join(" "):t}});function Ku(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function F_({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=Ku(l,a,t+1/3),i=Ku(l,a,t),o=Ku(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const sF=(t,e,n)=>{const r=t*t,s=e*e;return Math.sqrt(Math.max(0,n*(s-r)+r))},iF=[sf,Nr,os],U_=t=>iF.find(e=>e.test(t)),xb=(t,e)=>{let n=U_(t),r=U_(e),s=n.parse(t),i=r.parse(e);n===os&&(s=F_(s),n=Nr),r===os&&(i=F_(i),r=Nr);const o=Object.assign({},s);return a=>{for(const l in o)l!=="alpha"&&(o[l]=sF(s[l],i[l],a));return o.alpha=Jd(s.alpha,i.alpha,a),n.transform(o)}},oF=t=>typeof t=="number",aF=(t,e)=>n=>e(t(n)),Db=(...t)=>t.reduce(aF);function Vb(t,e){return oF(t)?n=>Jd(t,e,n):zt.test(t)?xb(t,e):Lb(t,e)}const Mb=(t,e)=>{const n=[...t],r=n.length,s=t.map((i,o)=>Vb(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}},cF=(t,e)=>{const n=Object.assign(Object.assign({},t),e),r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Vb(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}};function j_(t){const e=_a.parse(t),n=e.length;let r=0,s=0,i=0;for(let o=0;o<n;o++)r||typeof e[o]=="number"?r++:e[o].hue!==void 0?i++:s++;return{parsed:e,numNumbers:r,numRGB:s,numHSL:i}}const Lb=(t,e)=>{const n=_a.createTransformer(e),r=j_(t),s=j_(e);return r.numHSL===s.numHSL&&r.numRGB===s.numRGB&&r.numNumbers>=s.numNumbers?Db(Mb(r.parsed,s.parsed),n):o=>`${o>0?e:t}`},lF=(t,e)=>n=>Jd(t,e,n);function uF(t){if(typeof t=="number")return lF;if(typeof t=="string")return zt.test(t)?xb:Lb;if(Array.isArray(t))return Mb;if(typeof t=="object")return cF}function hF(t,e,n){const r=[],s=n||uF(t[0]),i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]:e;a=Db(l,a)}r.push(a)}return r}function fF([t,e],[n]){return r=>n(Ab(t,e,r))}function dF(t,e){const n=t.length,r=n-1;return s=>{let i=0,o=!1;if(s<=t[0]?o=!0:s>=t[r]&&(i=r-1,o=!0),!o){let l=1;for(;l<n&&!(t[l]>s||l===r);l++);i=l-1}const a=Ab(t[i],t[i+1],s);return e[i](a)}}function Fb(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;D_(i===e.length),D_(!r||!Array.isArray(r)||r.length===i-1),t[0]>t[i-1]&&(t=[].concat(t),e=[].concat(e),t.reverse(),e.reverse());const o=hF(e,r,s),a=i===2?fF(t,o):dF(t,o);return n?l=>a(tf(t[0],t[i-1],l)):a}const Gl=t=>e=>1-t(1-e),Zd=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,pF=t=>e=>Math.pow(e,t),Ub=t=>e=>e*e*((t+1)*e-t),mF=t=>{const e=Ub(t);return n=>(n*=2)<1?.5*e(n):.5*(2-Math.pow(2,-10*(n-1)))},jb=1.525,gF=4/11,_F=8/11,yF=9/10,$b=t=>t,ep=pF(2),vF=Gl(ep),Bb=Zd(ep),Hb=t=>1-Math.sin(Math.acos(t)),qb=Gl(Hb),EF=Zd(qb),tp=Ub(jb),wF=Gl(tp),bF=Zd(tp),TF=mF(jb),IF=4356/361,AF=35442/1805,SF=16061/1805,tl=t=>{if(t===1||t===0)return t;const e=t*t;return t<gF?7.5625*e:t<_F?9.075*e-9.9*t+3.4:t<yF?IF*e-AF*t+SF:10.8*t*t-20.52*t+10.72},RF=Gl(tl),CF=t=>t<.5?.5*(1-tl(1-t*2)):.5*tl(t*2-1)+.5;function PF(t,e){return t.map(()=>e||Bb).splice(0,t.length-1)}function OF(t){const e=t.length;return t.map((n,r)=>r!==0?r/(e-1):0)}function kF(t,e){return t.map(n=>n*e)}function pc({from:t=0,to:e=1,ease:n,offset:r,duration:s=300}){const i={done:!1,value:t},o=Array.isArray(e)?e:[t,e],a=kF(r&&r.length===o.length?r:OF(o),s);function l(){return Fb(a,o,{ease:Array.isArray(n)?n:PF(o,n)})}let u=l();return{next:h=>(i.value=u(h),i.done=h>=s,i),flipTarget:()=>{o.reverse(),u=l()}}}function NF({velocity:t=0,from:e=0,power:n=.8,timeConstant:r=350,restDelta:s=.5,modifyTarget:i}){const o={done:!1,value:e};let a=n*t;const l=e+a,u=i===void 0?l:i(l);return u!==l&&(a=u-e),{next:h=>{const f=-a*Math.exp(-h/r);return o.done=!(f>s||f<-s),o.value=o.done?u:u+f,o},flipTarget:()=>{}}}const $_={keyframes:pc,spring:Qd,decay:NF};function xF(t){if(Array.isArray(t.to))return pc;if($_[t.type])return $_[t.type];const e=new Set(Object.keys(t));return e.has("ease")||e.has("duration")&&!e.has("dampingRatio")?pc:e.has("dampingRatio")||e.has("stiffness")||e.has("mass")||e.has("damping")||e.has("restSpeed")||e.has("restDelta")?Qd:pc}function Kb(t,e,n=0){return t-e-n}function DF(t,e,n=0,r=!0){return r?Kb(e+-t,e,n):e-(t-e)+n}function VF(t,e,n,r){return r?t>=e+n:t<=-n}const MF=t=>{const e=({delta:n})=>t(n);return{start:()=>ef.update(e,!0),stop:()=>M2.update(e)}};function zb(t){var e,n,{from:r,autoplay:s=!0,driver:i=MF,elapsed:o=0,repeat:a=0,repeatType:l="loop",repeatDelay:u=0,onPlay:h,onStop:f,onComplete:p,onRepeat:g,onUpdate:E}=t,R=Ib(t,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:S}=R,x,O=0,_=R.duration,P,D=!1,F=!0,T;const w=xF(R);!((n=(e=w).needsInterpolation)===null||n===void 0)&&n.call(e,r,S)&&(T=Fb([0,100],[r,S],{clamp:!1}),r=0,S=100);const y=w(Object.assign(Object.assign({},R),{from:r,to:S}));function b(){O++,l==="reverse"?(F=O%2===0,o=DF(o,_,u,F)):(o=Kb(o,_,u),l==="mirror"&&y.flipTarget()),D=!1,g&&g()}function k(){x.stop(),p&&p()}function C(me){if(F||(me=-me),o+=me,!D){const Se=y.next(Math.max(0,o));P=Se.value,T&&(P=T(P)),D=F?Se.done:o<=0}E==null||E(P),D&&(O===0&&(_??(_=o)),O<a?VF(o,_,u,F)&&b():k())}function I(){h==null||h(),x=i(C),x.start()}return s&&I(),{stop:()=>{f==null||f(),x.stop()}}}function Wb(t,e){return e?t*(1e3/e):0}function LF({from:t=0,velocity:e=0,min:n,max:r,power:s=.8,timeConstant:i=750,bounceStiffness:o=500,bounceDamping:a=10,restDelta:l=1,modifyTarget:u,driver:h,onUpdate:f,onComplete:p,onStop:g}){let E;function R(_){return n!==void 0&&_<n||r!==void 0&&_>r}function S(_){return n===void 0?r:r===void 0||Math.abs(n-_)<Math.abs(r-_)?n:r}function x(_){E==null||E.stop(),E=zb(Object.assign(Object.assign({},_),{driver:h,onUpdate:P=>{var D;f==null||f(P),(D=_.onUpdate)===null||D===void 0||D.call(_,P)},onComplete:p,onStop:g}))}function O(_){x(Object.assign({type:"spring",stiffness:o,damping:a,restDelta:l},_))}if(R(t))O({from:t,velocity:e,to:S(t)});else{let _=s*e+t;typeof u<"u"&&(_=u(_));const P=S(_),D=P===n?-1:1;let F,T;const w=y=>{F=T,T=y,e=Wb(y-F,Tb().delta),(D===1&&y>P||D===-1&&y<P)&&O({from:y,to:P,velocity:e})};x({type:"decay",from:t,velocity:e,timeConstant:i,power:s,restDelta:l,modifyTarget:u,onUpdate:R(_)?w:void 0})}return{stop:()=>E==null?void 0:E.stop()}}const Gb=(t,e)=>1-3*e+3*t,Qb=(t,e)=>3*e-6*t,Jb=t=>3*t,nl=(t,e,n)=>((Gb(e,n)*t+Qb(e,n))*t+Jb(e))*t,Yb=(t,e,n)=>3*Gb(e,n)*t*t+2*Qb(e,n)*t+Jb(e),FF=1e-7,UF=10;function jF(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=nl(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>FF&&++a<UF);return o}const $F=8,BF=.001;function HF(t,e,n,r){for(let s=0;s<$F;++s){const i=Yb(e,n,r);if(i===0)return e;const o=nl(e,n,r)-t;e-=o/i}return e}const mc=11,Xa=1/(mc-1);function qF(t,e,n,r){if(t===e&&n===r)return $b;const s=new Float32Array(mc);for(let o=0;o<mc;++o)s[o]=nl(o*Xa,t,n);function i(o){let a=0,l=1;const u=mc-1;for(;l!==u&&s[l]<=o;++l)a+=Xa;--l;const h=(o-s[l])/(s[l+1]-s[l]),f=a+h*Xa,p=Yb(f,t,n);return p>=BF?HF(o,f,t,n):p===0?f:jF(o,a,a+Xa,t,n)}return o=>o===0||o===1?o:nl(i(o),e,r)}const zu={};var KF=Object.defineProperty,zF=(t,e,n)=>e in t?KF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,WF=(t,e,n)=>(zF(t,e+"",n),n);class GF{constructor(){WF(this,"subscriptions",new Set)}add(e){return this.subscriptions.add(e),()=>this.subscriptions.delete(e)}notify(e,n,r){if(this.subscriptions.size)for(const s of this.subscriptions)s(e,n,r)}clear(){this.subscriptions.clear()}}var QF=Object.defineProperty,JF=(t,e,n)=>e in t?QF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Pn=(t,e,n)=>(JF(t,typeof e!="symbol"?e+"":e,n),n);function B_(t){return!Number.isNaN(Number.parseFloat(t))}class YF{constructor(e){Pn(this,"current"),Pn(this,"prev"),Pn(this,"timeDelta",0),Pn(this,"lastUpdated",0),Pn(this,"updateSubscribers",new GF),Pn(this,"stopAnimation"),Pn(this,"canTrackVelocity",!1),Pn(this,"updateAndNotify",n=>{this.prev=this.current,this.current=n;const{delta:r,timestamp:s}=Tb();this.lastUpdated!==s&&(this.timeDelta=r,this.lastUpdated=s),ef.postRender(this.scheduleVelocityCheck),this.updateSubscribers.notify(this.current)}),Pn(this,"scheduleVelocityCheck",()=>ef.postRender(this.velocityCheck)),Pn(this,"velocityCheck",({timestamp:n})=>{this.canTrackVelocity||(this.canTrackVelocity=B_(this.current)),n!==this.lastUpdated&&(this.prev=this.current)}),this.prev=this.current=e,this.canTrackVelocity=B_(this.current)}onChange(e){return this.updateSubscribers.add(e)}clearListeners(){this.updateSubscribers.clear()}set(e){this.updateAndNotify(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Wb(Number.parseFloat(this.current)-Number.parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{const{stop:r}=e(n);this.stopAnimation=r}).then(()=>this.clearAnimation())}stop(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()}isAnimating(){return!!this.stopAnimation}clearAnimation(){this.stopAnimation=null}destroy(){this.updateSubscribers.clear(),this.stop()}}function XF(t){return new YF(t)}const{isArray:ZF}=Array;function e4(){const t=_e({}),e=r=>{const s=i=>{t.value[i]&&(t.value[i].stop(),t.value[i].destroy(),delete t.value[i])};r?ZF(r)?r.forEach(s):s(r):Object.keys(t.value).forEach(s)},n=(r,s,i)=>{if(t.value[r])return t.value[r];const o=XF(s);return o.onChange(a=>i[r]=a),t.value[r]=o,o};return P2(e),{motionValues:t,get:n,stop:e}}function t4(t){return Array.isArray(t)}function ns(){return{type:"spring",stiffness:500,damping:25,restDelta:.5,restSpeed:10}}function Wu(t){return{type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restDelta:.01,restSpeed:10}}function n4(t){return{type:"spring",stiffness:550,damping:t===0?100:30,restDelta:.01,restSpeed:10}}function Gu(){return{type:"keyframes",ease:"linear",duration:300}}function r4(t){return{type:"keyframes",duration:800,values:t}}const H_={default:n4,x:ns,y:ns,z:ns,rotate:ns,rotateX:ns,rotateY:ns,rotateZ:ns,scaleX:Wu,scaleY:Wu,scale:Wu,backgroundColor:Gu,color:Gu,opacity:Gu};function Xb(t,e){let n;return t4(e)?n=r4:n=H_[t]||H_.default,{to:e,...n(e)}}const q_={...ga,transform:Math.round},Zb={color:zt,backgroundColor:zt,outlineColor:zt,fill:zt,stroke:zt,borderColor:zt,borderTopColor:zt,borderRightColor:zt,borderBottomColor:zt,borderLeftColor:zt,borderWidth:Ie,borderTopWidth:Ie,borderRightWidth:Ie,borderBottomWidth:Ie,borderLeftWidth:Ie,borderRadius:Ie,radius:Ie,borderTopLeftRadius:Ie,borderTopRightRadius:Ie,borderBottomRightRadius:Ie,borderBottomLeftRadius:Ie,width:Ie,maxWidth:Ie,height:Ie,maxHeight:Ie,size:Ie,top:Ie,right:Ie,bottom:Ie,left:Ie,padding:Ie,paddingTop:Ie,paddingRight:Ie,paddingBottom:Ie,paddingLeft:Ie,margin:Ie,marginTop:Ie,marginRight:Ie,marginBottom:Ie,marginLeft:Ie,rotate:ts,rotateX:ts,rotateY:ts,rotateZ:ts,scale:Ya,scaleX:Ya,scaleY:Ya,scaleZ:Ya,skew:ts,skewX:ts,skewY:ts,distance:Ie,translateX:Ie,translateY:Ie,translateZ:Ie,x:Ie,y:Ie,z:Ie,perspective:Ie,transformPerspective:Ie,opacity:bo,originX:L_,originY:L_,originZ:Ie,zIndex:q_,filter:of,WebkitFilter:of,fillOpacity:bo,strokeOpacity:bo,numOctaves:q_},np=t=>Zb[t];function af(t,e){return e&&typeof t=="number"&&e.transform?e.transform(t):t}function s4(t,e){let n=np(t);return n!==of&&(n=_a),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const i4={linear:$b,easeIn:ep,easeInOut:Bb,easeOut:vF,circIn:Hb,circInOut:EF,circOut:qb,backIn:tp,backInOut:bF,backOut:wF,anticipate:TF,bounceIn:RF,bounceInOut:CF,bounceOut:tl};function K_(t){if(Array.isArray(t)){const[e,n,r,s]=t;return qF(e,n,r,s)}else if(typeof t=="string")return i4[t];return t}function o4(t){return Array.isArray(t)&&typeof t[0]!="number"}function z_(t,e){return t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&_a.test(e)&&!e.startsWith("url("))}function a4(t){return Array.isArray(t.to)&&t.to[0]===null&&(t.to=[...t.to],t.to[0]=t.from),t}function c4({ease:t,times:e,delay:n,...r}){const s={...r};return e&&(s.offset=e),t&&(s.ease=o4(t)?t.map(K_):K_(t)),n&&(s.elapsed=-n),s}function l4(t,e,n){return Array.isArray(e.to)&&(t.duration||(t.duration=800)),a4(e),u4(t)||(t={...t,...Xb(n,e.to)}),{...e,...c4(t)}}function u4({delay:t,repeat:e,repeatType:n,repeatDelay:r,from:s,...i}){return!!Object.keys(i).length}function h4(t,e){return t[e]||t.default||t}function f4(t,e,n,r,s){const i=h4(r,t);let o=i.from===null||i.from===void 0?e.get():i.from;const a=z_(t,n);o==="none"&&a&&typeof n=="string"&&(o=s4(t,n));const l=z_(t,o);function u(f){const p={from:o,to:n,velocity:r.velocity?r.velocity:e.getVelocity(),onUpdate:g=>e.set(g)};return i.type==="inertia"||i.type==="decay"?LF({...p,...i}):zb({...l4(i,p,t),onUpdate:g=>{p.onUpdate(g),i.onUpdate&&i.onUpdate(g)},onComplete:()=>{s&&s(),f&&f()}})}function h(f){return e.set(n),s&&s(),f&&f(),{stop:()=>{}}}return!l||!a||i.type===!1?h:u}function d4(){const{motionValues:t,stop:e,get:n}=e4();return{motionValues:t,stop:e,push:(s,i,o,a={},l)=>{const u=o[s],h=n(s,u,o);if(a&&a.immediate){h.set(i);return}const f=f4(s,h,i,a,l);h.start(f)}}}function p4(t,e={},{motionValues:n,push:r,stop:s}=d4()){const i=xt(e),o=_e(!1);st(n,f=>{o.value=Object.values(f).filter(p=>p.isAnimating()).length>0},{immediate:!0,deep:!0});const a=f=>{if(!i||!i[f])throw new Error(`The variant ${f} does not exist.`);return i[f]},l=f=>{typeof f=="string"&&(f=a(f));const p=Object.entries(f).map(([E,R])=>{if(E!=="transition")return new Promise(S=>r(E,R,t,f.transition||Xb(E,f[E]),S))}).filter(Boolean);async function g(){var E,R;await Promise.all(p),(R=(E=f.transition)==null?void 0:E.onComplete)==null||R.call(E)}return Promise.all([g()])};return{isAnimating:o,apply:l,set:f=>{const p=el(f)?f:a(f);Object.entries(p).forEach(([g,E])=>{g!=="transition"&&r(g,E,t,{immediate:!0})})},leave:async f=>{let p;if(i&&(i.leave&&(p=i.leave),!i.leave&&i.initial&&(p=i.initial)),!p){f();return}await l(p),f()},stop:s}}const rp=typeof window<"u",m4=()=>rp&&(window.onpointerdown===null||void 0),g4=()=>rp&&(window.ontouchstart===null||void 0),_4=()=>rp&&(window.onmousedown===null||void 0);function y4({target:t,state:e,variants:n,apply:r}){const s=xt(n),i=_e(!1),o=_e(!1),a=_e(!1),l=Ae(()=>{let h=[...Object.keys(e.value||{})];return s&&(s.hovered&&(h=[...h,...Object.keys(s.hovered)]),s.tapped&&(h=[...h,...Object.keys(s.tapped)]),s.focused&&(h=[...h,...Object.keys(s.focused)])),h}),u=Ae(()=>{const h={};Object.assign(h,e.value),i.value&&s.hovered&&Object.assign(h,s.hovered),o.value&&s.tapped&&Object.assign(h,s.tapped),a.value&&s.focused&&Object.assign(h,s.focused);for(const f in h)l.value.includes(f)||delete h[f];return h});s.hovered&&(Cn(t,"mouseenter",()=>i.value=!0),Cn(t,"mouseleave",()=>{i.value=!1,o.value=!1})),s.tapped&&(_4()&&(Cn(t,"mousedown",()=>o.value=!0),Cn(t,"mouseup",()=>o.value=!1)),m4()&&(Cn(t,"pointerdown",()=>o.value=!0),Cn(t,"pointerup",()=>o.value=!1)),g4()&&(Cn(t,"touchstart",()=>o.value=!0),Cn(t,"touchend",()=>o.value=!1))),s.focused&&(Cn(t,"focus",()=>a.value=!0),Cn(t,"blur",()=>a.value=!1)),st([i,o,a],()=>{r(u.value)})}function v4({set:t,target:e,variants:n,variant:r}){const s=xt(n);st(()=>e,()=>{s&&(s.initial&&(t("initial"),r.value="initial"),s.enter&&(r.value="enter"))},{immediate:!0,flush:"pre"})}function E4({state:t,apply:e}){st(t,n=>{n&&e(n)},{immediate:!0})}function eT({target:t,variants:e,variant:n}){const r=xt(e);r&&(r.visible||r.visibleOnce)&&N2(t,([{isIntersecting:s}])=>{r.visible?s?n.value="visible":n.value="initial":r.visibleOnce&&(s&&n.value!=="visibleOnce"?n.value="visibleOnce":n.value||(n.value="initial"))})}function w4(t,e={syncVariants:!0,lifeCycleHooks:!0,visibilityHooks:!0,eventListeners:!0}){e.lifeCycleHooks&&v4(t),e.syncVariants&&E4(t),e.visibilityHooks&&eT(t),e.eventListeners&&y4(t)}function tT(t={}){const e=Bn({...t}),n=_e({});return st(e,()=>{const r={};for(const[s,i]of Object.entries(e)){const o=np(s),a=af(i,o);r[s]=a}n.value=r},{immediate:!0,deep:!0}),{state:e,style:n}}function sp(t,e){st(()=>Eo(t),n=>{n&&e(n)},{immediate:!0})}const b4={x:"translateX",y:"translateY",z:"translateZ"};function nT(t={},e=!0){const n=Bn({...t}),r=_e("");return st(n,s=>{let i="",o=!1;if(e&&(s.x||s.y||s.z)){const a=[s.x||0,s.y||0,s.z||0].map(l=>af(l,Ie)).join(",");i+=`translate3d(${a}) `,o=!0}for(const[a,l]of Object.entries(s)){if(e&&(a==="x"||a==="y"||a==="z"))continue;const u=np(a),h=af(l,u);i+=`${b4[a]||a}(${h}) `}e&&!o&&(i+="translateZ(0px) "),r.value=i.trim()},{immediate:!0,deep:!0}),{state:n,transform:r}}const T4=["","X","Y","Z"],I4=["perspective","translate","scale","rotate","skew"],rT=["transformPerspective","x","y","z"];I4.forEach(t=>{T4.forEach(e=>{const n=t+e;rT.push(n)})});const A4=new Set(rT);function ip(t){return A4.has(t)}const S4=new Set(["originX","originY","originZ"]);function sT(t){return S4.has(t)}function R4(t){const e={},n={};return Object.entries(t).forEach(([r,s])=>{ip(r)||sT(r)?e[r]=s:n[r]=s}),{transform:e,style:n}}function Ql(t){const{transform:e,style:n}=R4(t),{transform:r}=nT(e),{style:s}=tT(n);return r.value&&(s.value.transform=r.value),s.value}function C4(t,e){let n,r;const{state:s,style:i}=tT();return sp(t,o=>{r=o;for(const a of Object.keys(Zb))o.style[a]===null||o.style[a]===""||ip(a)||sT(a)||(s[a]=o.style[a]);n&&Object.entries(n).forEach(([a,l])=>o.style[a]=l),e&&e(s)}),st(i,o=>{if(!r){n=o;return}for(const a in o)r.style[a]=o[a]},{immediate:!0}),{style:s}}function P4(t){const e=t.trim().split(/\) |\)/);if(e.length===1)return{};const n=r=>r.endsWith("px")||r.endsWith("deg")?Number.parseFloat(r):Number.isNaN(Number(r))?Number(r):r;return e.reduce((r,s)=>{if(!s)return r;const[i,o]=s.split("("),l=o.split(",").map(h=>n(h.endsWith(")")?h.replace(")",""):h.trim())),u=l.length===1?l[0]:l;return{...r,[i]:u}},{})}function O4(t,e){Object.entries(P4(e)).forEach(([n,r])=>{const s=["x","y","z"];if(n==="translate3d"){if(r===0){s.forEach(i=>t[i]=0);return}r.forEach((i,o)=>t[s[o]]=i);return}if(r=Number.parseFloat(`${r}`),n==="translateX"){t.x=r;return}if(n==="translateY"){t.y=r;return}if(n==="translateZ"){t.z=r;return}t[n]=r})}function k4(t,e){let n,r;const{state:s,transform:i}=nT();return sp(t,o=>{r=o,o.style.transform&&O4(s,o.style.transform),n&&(o.style.transform=n),e&&e(s)}),st(i,o=>{if(!r){n=o;return}r.style.transform=o},{immediate:!0}),{transform:s}}function N4(t){return Object.entries(t)}function x4(t,e){const n=Bn({}),r=o=>Object.entries(o).forEach(([a,l])=>n[a]=l),{style:s}=C4(t,r),{transform:i}=k4(t,r);return st(n,o=>{N4(o).forEach(([a,l])=>{const u=ip(a)?i:s;u[a]&&u[a]===l||(u[a]=l)})},{immediate:!0,deep:!0}),sp(t,()=>e),{motionProperties:n,style:s,transform:i}}function D4(t={}){const e=xt(t),n=_e();return{state:Ae(()=>{if(n.value)return e[n.value]}),variant:n}}function iT(t,e={},n){const{motionProperties:r}=x4(t),{variant:s,state:i}=D4(e),o=p4(r,e),a={target:t,variant:s,variants:e,state:i,motionProperties:r,...o};return w4(a,n),a}const oT=["delay","duration"],V4=["initial","enter","leave","visible","visible-once","visibleOnce","hovered","tapped","focused",...oT];function M4(t){return oT.includes(t)}function L4(t,e){const n=t.props?t.props:t.data&&t.data.attrs?t.data.attrs:{};if(n){n.variants&&el(n.variants)&&(e.value={...e.value,...n.variants});for(let r of V4)if(!(!n||!n[r])){if(M4(r)&&typeof n[r]=="number"){for(const s of["enter","visible","visibleOnce"]){const i=e.value[s];i!=null&&(i.transition??(i.transition={}),i.transition[r]=n[r])}continue}if(el(n[r])){const s=n[r];r==="visible-once"&&(r="visibleOnce"),e.value[r]=s}}}}function Qu(t,e=!1){return{created:(s,i,o)=>{const a=i.value&&typeof i.value=="string"?i.value:o.key;a&&zu[a]&&zu[a].stop();const l=e?structuredClone(Ce(t)||{}):t||{},u=_e(l);typeof i.value=="object"&&(u.value=i.value),L4(o,u);const f=iT(s,u,{eventListeners:!0,lifeCycleHooks:!0,syncVariants:!0,visibilityHooks:!1});s.motionInstance=f,a&&(zu[a]=f)},mounted:(s,i,o)=>{s.motionInstance&&eT(s.motionInstance)},getSSRProps(s,i){let{initial:o}=s.value||i&&(i==null?void 0:i.props)||{};o=xt(o);const a=_b({},(t==null?void 0:t.initial)||{},o||{});return!a||Object.keys(a).length===0?void 0:{style:Ql(a)}}}}const F4={initial:{opacity:0},enter:{opacity:1}},U4={initial:{opacity:0},visible:{opacity:1}},j4={initial:{opacity:0},visibleOnce:{opacity:1}},$4={initial:{scale:0,opacity:0},enter:{scale:1,opacity:1}},B4={initial:{scale:0,opacity:0},visible:{scale:1,opacity:1}},H4={initial:{scale:0,opacity:0},visibleOnce:{scale:1,opacity:1}},q4={initial:{x:-100,rotate:90,opacity:0},enter:{x:0,rotate:0,opacity:1}},K4={initial:{x:-100,rotate:90,opacity:0},visible:{x:0,rotate:0,opacity:1}},z4={initial:{x:-100,rotate:90,opacity:0},visibleOnce:{x:0,rotate:0,opacity:1}},W4={initial:{x:100,rotate:-90,opacity:0},enter:{x:0,rotate:0,opacity:1}},G4={initial:{x:100,rotate:-90,opacity:0},visible:{x:0,rotate:0,opacity:1}},Q4={initial:{x:100,rotate:-90,opacity:0},visibleOnce:{x:0,rotate:0,opacity:1}},J4={initial:{y:-100,rotate:-90,opacity:0},enter:{y:0,rotate:0,opacity:1}},Y4={initial:{y:-100,rotate:-90,opacity:0},visible:{y:0,rotate:0,opacity:1}},X4={initial:{y:-100,rotate:-90,opacity:0},visibleOnce:{y:0,rotate:0,opacity:1}},Z4={initial:{y:100,rotate:90,opacity:0},enter:{y:0,rotate:0,opacity:1}},eU={initial:{y:100,rotate:90,opacity:0},visible:{y:0,rotate:0,opacity:1}},tU={initial:{y:100,rotate:90,opacity:0},visibleOnce:{y:0,rotate:0,opacity:1}},nU={initial:{x:-100,opacity:0},enter:{x:0,opacity:1}},rU={initial:{x:-100,opacity:0},visible:{x:0,opacity:1}},sU={initial:{x:-100,opacity:0},visibleOnce:{x:0,opacity:1}},iU={initial:{x:100,opacity:0},enter:{x:0,opacity:1}},oU={initial:{x:100,opacity:0},visible:{x:0,opacity:1}},aU={initial:{x:100,opacity:0},visibleOnce:{x:0,opacity:1}},cU={initial:{y:-100,opacity:0},enter:{y:0,opacity:1}},lU={initial:{y:-100,opacity:0},visible:{y:0,opacity:1}},uU={initial:{y:-100,opacity:0},visibleOnce:{y:0,opacity:1}},hU={initial:{y:100,opacity:0},enter:{y:0,opacity:1}},fU={initial:{y:100,opacity:0},visible:{y:0,opacity:1}},dU={initial:{y:100,opacity:0},visibleOnce:{y:0,opacity:1}},rl={__proto__:null,fade:F4,fadeVisible:U4,fadeVisibleOnce:j4,pop:$4,popVisible:B4,popVisibleOnce:H4,rollBottom:Z4,rollLeft:q4,rollRight:W4,rollTop:J4,rollVisibleBottom:eU,rollVisibleLeft:K4,rollVisibleOnceBottom:tU,rollVisibleOnceLeft:z4,rollVisibleOnceRight:Q4,rollVisibleOnceTop:X4,rollVisibleRight:G4,rollVisibleTop:Y4,slideBottom:hU,slideLeft:nU,slideRight:iU,slideTop:cU,slideVisibleBottom:fU,slideVisibleLeft:rU,slideVisibleOnceBottom:dU,slideVisibleOnceLeft:sU,slideVisibleOnceRight:aU,slideVisibleOnceTop:uU,slideVisibleRight:oU,slideVisibleTop:lU};function pU(t){const e="/_,:;",n="aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------",r=new RegExp(e.split("").join("|"),"g");return t.toString().replace(/[A-Z]/g,s=>`-${s}`).toLowerCase().replace(/\s+/g,"-").replace(r,s=>n.charAt(e.indexOf(s))).replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/-{2,}/g,"-").replace(/^-+/,"").replace(/-+$/,"")}const aT=Symbol(import.meta.dev?"motionCustomPresets":""),cT={preset:{type:String,required:!1},instance:{type:Object,required:!1},variants:{type:Object,required:!1},initial:{type:Object,required:!1},enter:{type:Object,required:!1},leave:{type:Object,required:!1},visible:{type:Object,required:!1},visibleOnce:{type:Object,required:!1},hovered:{type:Object,required:!1},tapped:{type:Object,required:!1},focused:{type:Object,required:!1},delay:{type:[Number,String],required:!1},duration:{type:[Number,String],required:!1}};function mU(t){return Object.prototype.toString.call(t)==="[object Object]"}function cf(t){if(Array.isArray(t))return t.map(cf);if(mU(t)){const e={};for(const n in t)e[n]=cf(t[n]);return e}return t}function lT(t){const e=Bn({}),n=Yt(aT),r=Ae(()=>t.preset==null?{}:n!=null&&t.preset in n?structuredClone(Ce(n)[t.preset]):t.preset in rl?structuredClone(rl[t.preset]):{}),s=Ae(()=>({initial:t.initial,enter:t.enter,leave:t.leave,visible:t.visible,visibleOnce:t.visibleOnce,hovered:t.hovered,tapped:t.tapped,focused:t.focused}));function i(l,u){for(const h of["delay","duration"]){if(u[h]==null)continue;const f=Number.parseInt(u[h]);for(const p of["enter","visible","visibleOnce"]){const g=l[p];g!=null&&(g.transition??(g.transition={}),g.transition[h]=f)}}return l}const o=Ae(()=>{const l=_b({},s.value,r.value,t.variants||{});return i({...l},t)});function a(l,u,h){var f;l.props??(l.props={}),(f=l.props).style??(f.style={}),l.props.style={...l.props.style,...h};const p=i(cf(o.value),l.props);return l.props.onVnodeMounted=({el:g})=>{e[u]=iT(g,p)},l.props.onVnodeUpdated=({el:g})=>{const E=Ql(e[u].state);for(const[R,S]of Object.entries(E))g.style[R]=S},l}return{motionConfig:o,setNodeInstance:a}}const gU=Is({name:"Motion",props:{...cT,is:{type:[String,Object],default:"div"}},setup(t){const e=xf(),{motionConfig:n,setNodeInstance:r}=lT(t);return()=>{const s=Ql(n.value.initial||{}),i=Ii(t.is,void 0,e);return r(i,0,s),i}}}),_U=Is({name:"MotionGroup",props:{...cT,is:{type:[String,Object],required:!1}},setup(t){const e=xf(),{motionConfig:n,setNodeInstance:r}=lT(t);return()=>{var o;const s=Ql(n.value.initial||{}),i=((o=e.default)==null?void 0:o.call(e))||[];for(let a=0;a<i.length;a++){const l=i[a];l.type===Ue&&Array.isArray(l.children)?l.children.forEach(function u(h,f){if(h!=null){if(Array.isArray(h)){u(h,f);return}typeof h=="object"&&r(h,f,s)}}):r(l,a,s)}return t.is?Ii(t.is,void 0,i):i}}}),yU={install(t,e){if(t.directive("motion",Qu()),!e||e&&!e.excludePresets)for(const n in rl){const r=rl[n];t.directive(`motion-${pU(n)}`,Qu(r,!0))}if(e&&e.directives)for(const n in e.directives){const r=e.directives[n];!r.initial&&__DEV__&&console.warn(`Your directive v-motion-${n} is missing initial variant!`),t.directive(`motion-${n}`,Qu(r,!0))}t.provide(aT,e==null?void 0:e.directives),t.component("Motion",gU),t.component("MotionGroup",_U)}};Nc(zD).use(yU).use(b2).use(T2).mount("#app");
