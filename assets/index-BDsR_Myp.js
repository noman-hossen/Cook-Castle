(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.5
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ul(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Oe={},Xs=[],En=()=>{},Kb=()=>!1,Xo=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),_f=t=>t.startsWith("onUpdate:"),We=Object.assign,yf=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Wb=Object.prototype.hasOwnProperty,Le=(t,e)=>Wb.call(t,e),ie=Array.isArray,Zs=t=>Ai(t)==="[object Map]",As=t=>Ai(t)==="[object Set]",im=t=>Ai(t)==="[object Date]",zb=t=>Ai(t)==="[object RegExp]",pe=t=>typeof t=="function",ze=t=>typeof t=="string",Un=t=>typeof t=="symbol",$e=t=>t!==null&&typeof t=="object",vf=t=>($e(t)||pe(t))&&pe(t.then)&&pe(t.catch),ry=Object.prototype.toString,Ai=t=>ry.call(t),Gb=t=>Ai(t).slice(8,-1),hl=t=>Ai(t)==="[object Object]",Ef=t=>ze(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ei=ul(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),fl=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Qb=/-(\w)/g,Ot=fl(t=>t.replace(Qb,(e,n)=>n?n.toUpperCase():"")),Jb=/\B([A-Z])/g,Wt=fl(t=>t.replace(Jb,"-$1").toLowerCase()),Zo=fl(t=>t.charAt(0).toUpperCase()+t.slice(1)),uo=fl(t=>t?`on${Zo(t)}`:""),Ft=(t,e)=>!Object.is(t,e),ti=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},sy=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},wc=t=>{const e=parseFloat(t);return isNaN(e)?t:e},bc=t=>{const e=ze(t)?Number(t):NaN;return isNaN(e)?t:e};let om;const iy=()=>om||(om=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Yb="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",Xb=ul(Yb);function ea(t){if(ie(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=ze(r)?nI(r):ea(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(ze(t)||$e(t))return t}const Zb=/;(?![^(]*\))/g,eI=/:([^]+)/,tI=/\/\*[^]*?\*\//g;function nI(t){const e={};return t.replace(tI,"").split(Zb).forEach(n=>{if(n){const r=n.split(eI);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function jn(t){let e="";if(ze(t))e=t;else if(ie(t))for(let n=0;n<t.length;n++){const r=jn(t[n]);r&&(e+=r+" ")}else if($e(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function rI(t){if(!t)return null;let{class:e,style:n}=t;return e&&!ze(e)&&(t.class=jn(e)),n&&(t.style=ea(n)),t}const sI="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",iI=ul(sI);function oy(t){return!!t||t===""}function oI(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=jr(t[r],e[r]);return n}function jr(t,e){if(t===e)return!0;let n=im(t),r=im(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Un(t),r=Un(e),n||r)return t===e;if(n=ie(t),r=ie(e),n||r)return n&&r?oI(t,e):!1;if(n=$e(t),r=$e(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!jr(t[o],e[o]))return!1}}return String(t)===String(e)}function dl(t,e){return t.findIndex(n=>jr(n,e))}const ay=t=>!!(t&&t.__v_isRef===!0),Qe=t=>ze(t)?t:t==null?"":ie(t)||$e(t)&&(t.toString===ry||!pe(t.toString))?ay(t)?Qe(t.value):JSON.stringify(t,cy,2):String(t),cy=(t,e)=>ay(e)?cy(t,e.value):Zs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[yu(r,i)+" =>"]=s,n),{})}:As(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>yu(n))}:Un(e)?yu(e):$e(e)&&!ie(e)&&!hl(e)?String(e):e,yu=(t,e="")=>{var n;return Un(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.5
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Lt;class Tf{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Lt,!e&&Lt&&(this.index=(Lt.scopes||(Lt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Lt;try{return Lt=this,e()}finally{Lt=n}}}on(){Lt=this}off(){Lt=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function ly(t){return new Tf(t)}function wf(){return Lt}function uy(t,e=!1){Lt&&Lt.cleanups.push(t)}let He;const vu=new WeakSet;class Po{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.nextEffect=void 0,this.cleanup=void 0,this.scheduler=void 0,Lt&&Lt.active&&Lt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,vu.has(this)&&(vu.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||(this.flags|=8,this.nextEffect=ho,ho=this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,am(this),fy(this);const e=He,n=Tn;He=this,Tn=!0;try{return this.fn()}finally{dy(this),He=e,Tn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Af(e);this.deps=this.depsTail=void 0,am(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?vu.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){sh(this)&&this.run()}get dirty(){return sh(this)}}let hy=0,ho;function bf(){hy++}function If(){if(--hy>0)return;let t;for(;ho;){let e=ho;for(ho=void 0;e;){const n=e.nextEffect;if(e.nextEffect=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function fy(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function dy(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),Af(r),aI(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function sh(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&py(e.dep.computed)||e.dep.version!==e.version)return!0;return!!t._dirty}function py(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Oo))return;t.globalVersion=Oo;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&!sh(t)){t.flags&=-3;return}const n=He,r=Tn;He=t,Tn=!0;try{fy(t);const s=t.fn(t._value);(e.version===0||Ft(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{He=n,Tn=r,dy(t),t.flags&=-3}}function Af(t){const{dep:e,prevSub:n,nextSub:r}=t;if(n&&(n.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=n,t.nextSub=void 0),e.subs===t&&(e.subs=n),!e.subs&&e.computed){e.computed.flags&=-5;for(let s=e.computed.deps;s;s=s.nextDep)Af(s)}}function aI(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}function cI(t,e){t.effect instanceof Po&&(t=t.effect.fn);const n=new Po(t);e&&We(n,e);try{n.run()}catch(s){throw n.stop(),s}const r=n.run.bind(n);return r.effect=n,r}function lI(t){t.effect.stop()}let Tn=!0;const my=[];function zr(){my.push(Tn),Tn=!1}function Gr(){const t=my.pop();Tn=t===void 0?!0:t}function am(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=He;He=void 0;try{e()}finally{He=n}}}let Oo=0;class uI{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class pl{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0}track(e){if(!He||!Tn||He===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==He)n=this.activeLink=new uI(He,this),He.deps?(n.prevDep=He.depsTail,He.depsTail.nextDep=n,He.depsTail=n):He.deps=He.depsTail=n,He.flags&4&&gy(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=He.depsTail,n.nextDep=void 0,He.depsTail.nextDep=n,He.depsTail=n,He.deps===n&&(He.deps=r)}return n}trigger(e){this.version++,Oo++,this.notify(e)}notify(e){bf();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()}finally{If()}}}function gy(t){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)gy(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}const Ic=new WeakMap,us=Symbol(""),ih=Symbol(""),ko=Symbol("");function Nt(t,e,n){if(Tn&&He){let r=Ic.get(t);r||Ic.set(t,r=new Map);let s=r.get(n);s||r.set(n,s=new pl),s.track()}}function nr(t,e,n,r,s,i){const o=Ic.get(t);if(!o){Oo++;return}const a=l=>{l&&l.trigger()};if(bf(),e==="clear")o.forEach(a);else{const l=ie(t),u=l&&Ef(n);if(l&&n==="length"){const h=Number(r);o.forEach((f,p)=>{(p==="length"||p===ko||!Un(p)&&p>=h)&&a(f)})}else switch(n!==void 0&&a(o.get(n)),u&&a(o.get(ko)),e){case"add":l?u&&a(o.get("length")):(a(o.get(us)),Zs(t)&&a(o.get(ih)));break;case"delete":l||(a(o.get(us)),Zs(t)&&a(o.get(ih)));break;case"set":Zs(t)&&a(o.get(us));break}}If()}function hI(t,e){var n;return(n=Ic.get(t))==null?void 0:n.get(e)}function Us(t){const e=Re(t);return e===t?e:(Nt(e,"iterate",ko),en(t)?e:e.map(Rt))}function ml(t){return Nt(t=Re(t),"iterate",ko),t}const fI={__proto__:null,[Symbol.iterator](){return Eu(this,Symbol.iterator,Rt)},concat(...t){return Us(this).concat(...t.map(e=>ie(e)?Us(e):e))},entries(){return Eu(this,"entries",t=>(t[1]=Rt(t[1]),t))},every(t,e){return zn(this,"every",t,e,void 0,arguments)},filter(t,e){return zn(this,"filter",t,e,n=>n.map(Rt),arguments)},find(t,e){return zn(this,"find",t,e,Rt,arguments)},findIndex(t,e){return zn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return zn(this,"findLast",t,e,Rt,arguments)},findLastIndex(t,e){return zn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return zn(this,"forEach",t,e,void 0,arguments)},includes(...t){return Tu(this,"includes",t)},indexOf(...t){return Tu(this,"indexOf",t)},join(t){return Us(this).join(t)},lastIndexOf(...t){return Tu(this,"lastIndexOf",t)},map(t,e){return zn(this,"map",t,e,void 0,arguments)},pop(){return Yi(this,"pop")},push(...t){return Yi(this,"push",t)},reduce(t,...e){return cm(this,"reduce",t,e)},reduceRight(t,...e){return cm(this,"reduceRight",t,e)},shift(){return Yi(this,"shift")},some(t,e){return zn(this,"some",t,e,void 0,arguments)},splice(...t){return Yi(this,"splice",t)},toReversed(){return Us(this).toReversed()},toSorted(t){return Us(this).toSorted(t)},toSpliced(...t){return Us(this).toSpliced(...t)},unshift(...t){return Yi(this,"unshift",t)},values(){return Eu(this,"values",Rt)}};function Eu(t,e,n){const r=ml(t),s=r[e]();return r!==t&&!en(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=n(i.value)),i}),s}const dI=Array.prototype;function zn(t,e,n,r,s,i){const o=ml(t),a=o!==t&&!en(t),l=o[e];if(l!==dI[e]){const f=l.apply(t,i);return a?Rt(f):f}let u=n;o!==t&&(a?u=function(f,p){return n.call(this,Rt(f),p,t)}:n.length>2&&(u=function(f,p){return n.call(this,f,p,t)}));const h=l.call(o,u,r);return a&&s?s(h):h}function cm(t,e,n,r){const s=ml(t);let i=n;return s!==t&&(en(t)?n.length>3&&(i=function(o,a,l){return n.call(this,o,a,l,t)}):i=function(o,a,l){return n.call(this,o,Rt(a),l,t)}),s[e](i,...r)}function Tu(t,e,n){const r=Re(t);Nt(r,"iterate",ko);const s=r[e](...n);return(s===-1||s===!1)&&vl(n[0])?(n[0]=Re(n[0]),r[e](...n)):s}function Yi(t,e,n=[]){zr(),bf();const r=Re(t)[e].apply(t,n);return If(),Gr(),r}const pI=ul("__proto__,__v_isRef,__isVue"),_y=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Un));function mI(t){Un(t)||(t=String(t));const e=Re(this);return Nt(e,"has",t),e.hasOwnProperty(t)}class yy{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?Iy:by:i?wy:Ty).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=ie(e);if(!s){let l;if(o&&(l=fI[n]))return l;if(n==="hasOwnProperty")return mI}const a=Reflect.get(e,n,lt(e)?e:r);return(Un(n)?_y.has(n):pI(n))||(s||Nt(e,"get",n),i)?a:lt(a)?o&&Ef(n)?a:a.value:$e(a)?s?Cf(a):qn(a):a}}class vy extends yy{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(!this._isShallow){const l=$r(i);if(!en(r)&&!$r(r)&&(i=Re(i),r=Re(r)),!ie(e)&&lt(i)&&!lt(r))return l?!1:(i.value=r,!0)}const o=ie(e)&&Ef(n)?Number(n)<e.length:Le(e,n),a=Reflect.set(e,n,r,lt(e)?e:s);return e===Re(s)&&(o?Ft(r,i)&&nr(e,"set",n,r):nr(e,"add",n,r)),a}deleteProperty(e,n){const r=Le(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&nr(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!Un(n)||!_y.has(n))&&Nt(e,"has",n),r}ownKeys(e){return Nt(e,"iterate",ie(e)?"length":us),Reflect.ownKeys(e)}}class Ey extends yy{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const gI=new vy,_I=new Ey,yI=new vy(!0),vI=new Ey(!0),Sf=t=>t,gl=t=>Reflect.getPrototypeOf(t);function Fa(t,e,n=!1,r=!1){t=t.__v_raw;const s=Re(t),i=Re(e);n||(Ft(e,i)&&Nt(s,"get",e),Nt(s,"get",i));const{has:o}=gl(s),a=r?Sf:n?Pf:Rt;if(o.call(s,e))return a(t.get(e));if(o.call(s,i))return a(t.get(i));t!==s&&t.get(e)}function Ua(t,e=!1){const n=this.__v_raw,r=Re(n),s=Re(t);return e||(Ft(t,s)&&Nt(r,"has",t),Nt(r,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function ja(t,e=!1){return t=t.__v_raw,!e&&Nt(Re(t),"iterate",us),Reflect.get(t,"size",t)}function lm(t,e=!1){!e&&!en(t)&&!$r(t)&&(t=Re(t));const n=Re(this);return gl(n).has.call(n,t)||(n.add(t),nr(n,"add",t,t)),this}function um(t,e,n=!1){!n&&!en(e)&&!$r(e)&&(e=Re(e));const r=Re(this),{has:s,get:i}=gl(r);let o=s.call(r,t);o||(t=Re(t),o=s.call(r,t));const a=i.call(r,t);return r.set(t,e),o?Ft(e,a)&&nr(r,"set",t,e):nr(r,"add",t,e),this}function hm(t){const e=Re(this),{has:n,get:r}=gl(e);let s=n.call(e,t);s||(t=Re(t),s=n.call(e,t)),r&&r.call(e,t);const i=e.delete(t);return s&&nr(e,"delete",t,void 0),i}function fm(){const t=Re(this),e=t.size!==0,n=t.clear();return e&&nr(t,"clear",void 0,void 0),n}function $a(t,e){return function(r,s){const i=this,o=i.__v_raw,a=Re(o),l=e?Sf:t?Pf:Rt;return!t&&Nt(a,"iterate",us),o.forEach((u,h)=>r.call(s,l(u),l(h),i))}}function Ba(t,e,n){return function(...r){const s=this.__v_raw,i=Re(s),o=Zs(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=s[t](...r),h=n?Sf:e?Pf:Rt;return!e&&Nt(i,"iterate",l?ih:us),{next(){const{value:f,done:p}=u.next();return p?{value:f,done:p}:{value:a?[h(f[0]),h(f[1])]:h(f),done:p}},[Symbol.iterator](){return this}}}}function gr(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function EI(){const t={get(i){return Fa(this,i)},get size(){return ja(this)},has:Ua,add:lm,set:um,delete:hm,clear:fm,forEach:$a(!1,!1)},e={get(i){return Fa(this,i,!1,!0)},get size(){return ja(this)},has:Ua,add(i){return lm.call(this,i,!0)},set(i,o){return um.call(this,i,o,!0)},delete:hm,clear:fm,forEach:$a(!1,!0)},n={get(i){return Fa(this,i,!0)},get size(){return ja(this,!0)},has(i){return Ua.call(this,i,!0)},add:gr("add"),set:gr("set"),delete:gr("delete"),clear:gr("clear"),forEach:$a(!0,!1)},r={get(i){return Fa(this,i,!0,!0)},get size(){return ja(this,!0)},has(i){return Ua.call(this,i,!0)},add:gr("add"),set:gr("set"),delete:gr("delete"),clear:gr("clear"),forEach:$a(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=Ba(i,!1,!1),n[i]=Ba(i,!0,!1),e[i]=Ba(i,!1,!0),r[i]=Ba(i,!0,!0)}),[t,n,e,r]}const[TI,wI,bI,II]=EI();function _l(t,e){const n=e?t?II:bI:t?wI:TI;return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(Le(n,s)&&s in r?n:r,s,i)}const AI={get:_l(!1,!1)},SI={get:_l(!1,!0)},RI={get:_l(!0,!1)},CI={get:_l(!0,!0)},Ty=new WeakMap,wy=new WeakMap,by=new WeakMap,Iy=new WeakMap;function PI(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function OI(t){return t.__v_skip||!Object.isExtensible(t)?0:PI(Gb(t))}function qn(t){return $r(t)?t:yl(t,!1,gI,AI,Ty)}function Rf(t){return yl(t,!1,yI,SI,wy)}function Cf(t){return yl(t,!0,_I,RI,by)}function kI(t){return yl(t,!0,vI,CI,Iy)}function yl(t,e,n,r,s){if(!$e(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=s.get(t);if(i)return i;const o=OI(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return s.set(t,a),a}function xr(t){return $r(t)?xr(t.__v_raw):!!(t&&t.__v_isReactive)}function $r(t){return!!(t&&t.__v_isReadonly)}function en(t){return!!(t&&t.__v_isShallow)}function vl(t){return t?!!t.__v_raw:!1}function Re(t){const e=t&&t.__v_raw;return e?Re(e):t}function Ay(t){return!Le(t,"__v_skip")&&Object.isExtensible(t)&&sy(t,"__v_skip",!0),t}const Rt=t=>$e(t)?qn(t):t,Pf=t=>$e(t)?Cf(t):t;function lt(t){return t?t.__v_isRef===!0:!1}function ye(t){return Sy(t,!1)}function Of(t){return Sy(t,!0)}function Sy(t,e){return lt(t)?t:new NI(t,e)}class NI{constructor(e,n){this.dep=new pl,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Re(e),this._value=n?e:Rt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||en(e)||$r(e);e=r?e:Re(e),Ft(e,n)&&(this._rawValue=e,this._value=r?e:Rt(e),this.dep.trigger())}}function xI(t){t.dep.trigger()}function kt(t){return lt(t)?t.value:t}function DI(t){return pe(t)?t():kt(t)}const VI={get:(t,e,n)=>e==="__v_raw"?t:kt(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return lt(s)&&!lt(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function kf(t){return xr(t)?t:new Proxy(t,VI)}class MI{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new pl,{get:r,set:s}=e(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=s}get value(){return this._value=this._get()}set value(e){this._set(e)}}function Ry(t){return new MI(t)}function LI(t){const e=ie(t)?new Array(t.length):{};for(const n in t)e[n]=Cy(t,n);return e}class FI{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return hI(Re(this._object),this._key)}}class UI{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function jI(t,e,n){return lt(t)?t:pe(t)?new UI(t):$e(t)&&arguments.length>1?Cy(t,e,n):ye(t)}function Cy(t,e,n){const r=t[e];return lt(r)?r:new FI(t,e,n)}class $I{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new pl(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Oo-1,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){this.flags|=16,He!==this&&this.dep.notify()}get value(){const e=this.dep.track();return py(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function BI(t,e,n=!1){let r,s;return pe(t)?r=t:(r=t.get,s=t.set),new $I(r,s,n)}const HI={GET:"get",HAS:"has",ITERATE:"iterate"},qI={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},Ha={},Ac=new WeakMap;let wr;function KI(){return wr}function Py(t,e=!1,n=wr){if(n){let r=Ac.get(n);r||Ac.set(n,r=[]),r.push(t)}}function WI(t,e,n=Oe){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:a,call:l}=n,u=O=>s?O:en(O)||s===!1||s===0?Yn(O,1):Yn(O);let h,f,p,g,E=!1,R=!1;if(lt(t)?(f=()=>t.value,E=en(t)):xr(t)?(f=()=>u(t),E=!0):ie(t)?(R=!0,E=t.some(O=>xr(O)||en(O)),f=()=>t.map(O=>{if(lt(O))return O.value;if(xr(O))return u(O);if(pe(O))return l?l(O,2):O()})):pe(t)?e?f=l?()=>l(t,2):t:f=()=>{if(p){zr();try{p()}finally{Gr()}}const O=wr;wr=h;try{return l?l(t,3,[g]):t(g)}finally{wr=O}}:f=En,e&&s){const O=f,D=s===!0?1/0:s;f=()=>Yn(O(),D)}const S=wf(),x=()=>{h.stop(),S&&yf(S.effects,h)};if(i)if(e){const O=e;e=(...D)=>{O(...D),x()}}else{const O=f;f=()=>{O(),x()}}let P=R?new Array(t.length).fill(Ha):Ha;const _=O=>{if(!(!(h.flags&1)||!h.dirty&&!O))if(e){const D=h.run();if(s||E||(R?D.some((L,b)=>Ft(L,P[b])):Ft(D,P))){p&&p();const L=wr;wr=h;try{const b=[D,P===Ha?void 0:R&&P[0]===Ha?[]:P,g];l?l(e,3,b):e(...b),P=D}finally{wr=L}}}else h.run()};return a&&a(_),h=new Po(f),h.scheduler=o?()=>o(_,!1):_,g=O=>Py(O,!1,h),p=h.onStop=()=>{const O=Ac.get(h);if(O){if(l)l(O,4);else for(const D of O)D();Ac.delete(h)}},e?r?_(!0):P=h.run():o?o(_.bind(null,!0),!0):h.run(),x.pause=h.pause.bind(h),x.resume=h.resume.bind(h),x.stop=x,x}function Yn(t,e=1/0,n){if(e<=0||!$e(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,lt(t))Yn(t.value,e,n);else if(ie(t))for(let r=0;r<t.length;r++)Yn(t[r],e,n);else if(As(t)||Zs(t))t.forEach(r=>{Yn(r,e,n)});else if(hl(t)){for(const r in t)Yn(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Yn(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.5
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Oy=[];function zI(t){Oy.push(t)}function GI(){Oy.pop()}function QI(t,e){}const JI={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},YI={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function Si(t,e,n,r){try{return r?t(...r):t()}catch(s){Ss(s,e,n)}}function dn(t,e,n,r){if(pe(t)){const s=Si(t,e,n,r);return s&&vf(s)&&s.catch(i=>{Ss(i,e,n)}),s}if(ie(t)){const s=[];for(let i=0;i<t.length;i++)s.push(dn(t[i],e,n,r));return s}}function Ss(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Oe;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const h=a.ec;if(h){for(let f=0;f<h.length;f++)if(h[f](t,l,u)===!1)return}a=a.parent}if(i){zr(),Si(i,null,10,[t,l,u]),Gr();return}}XI(t,n,s,r,o)}function XI(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}let No=!1,oh=!1;const Ut=[];let kn=0;const ni=[];let br=null,qs=0;const ky=Promise.resolve();let Nf=null;function ta(t){const e=Nf||ky;return t?e.then(this?t.bind(this):t):e}function ZI(t){let e=No?kn+1:0,n=Ut.length;for(;e<n;){const r=e+n>>>1,s=Ut[r],i=xo(s);i<t||i===t&&s.flags&2?e=r+1:n=r}return e}function xf(t){if(!(t.flags&1)){const e=xo(t),n=Ut[Ut.length-1];!n||!(t.flags&2)&&e>=xo(n)?Ut.push(t):Ut.splice(ZI(e),0,t),t.flags|=1,Ny()}}function Ny(){!No&&!oh&&(oh=!0,Nf=ky.then(xy))}function Sc(t){ie(t)?ni.push(...t):br&&t.id===-1?br.splice(qs+1,0,t):t.flags&1||(ni.push(t),t.flags|=1),Ny()}function dm(t,e,n=No?kn+1:0){for(;n<Ut.length;n++){const r=Ut[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Ut.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&=-2}}}function Rc(t){if(ni.length){const e=[...new Set(ni)].sort((n,r)=>xo(n)-xo(r));if(ni.length=0,br){br.push(...e);return}for(br=e,qs=0;qs<br.length;qs++){const n=br[qs];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}br=null,qs=0}}const xo=t=>t.id==null?t.flags&2?-1:1/0:t.id;function xy(t){oh=!1,No=!0;try{for(kn=0;kn<Ut.length;kn++){const e=Ut[kn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Si(e,e.i,e.i?15:14),e.flags&=-2)}}finally{for(;kn<Ut.length;kn++){const e=Ut[kn];e&&(e.flags&=-2)}kn=0,Ut.length=0,Rc(),No=!1,Nf=null,(Ut.length||ni.length)&&xy()}}let Ks,qa=[];function Dy(t,e){var n,r;Ks=t,Ks?(Ks.enabled=!0,qa.forEach(({event:s,args:i})=>Ks.emit(s,...i)),qa=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(i=>{Dy(i,e)}),setTimeout(()=>{Ks||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,qa=[])},3e3)):qa=[]}let ct=null,El=null;function Do(t){const e=ct;return ct=t,El=t&&t.type.__scopeId||null,e}function eA(t){El=t}function tA(){El=null}const nA=t=>Zt;function Zt(t,e=ct,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&ph(-1);const i=Do(e);let o;try{o=t(...s)}finally{Do(i),r._d&&ph(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function ln(t,e){if(ct===null)return t;const n=ia(ct),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,a,l=Oe]=e[s];i&&(pe(i)&&(i={mounted:i,updated:i}),i.deep&&Yn(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Nn(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(zr(),dn(l,n,8,[t.el,a,t,e]),Gr())}}const Vy=Symbol("_vte"),My=t=>t.__isTeleport,fo=t=>t&&(t.disabled||t.disabled===""),rA=t=>t&&(t.defer||t.defer===""),pm=t=>typeof SVGElement<"u"&&t instanceof SVGElement,mm=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,ah=(t,e)=>{const n=t&&t.to;return ze(n)?e?e(n):null:n},sA={name:"Teleport",__isTeleport:!0,process(t,e,n,r,s,i,o,a,l,u){const{mc:h,pc:f,pbc:p,o:{insert:g,querySelector:E,createText:R,createComment:S}}=u,x=fo(e.props);let{shapeFlag:P,children:_,dynamicChildren:O}=e;if(t==null){const D=e.el=R(""),L=e.anchor=R("");g(D,n,r),g(L,n,r);const b=(y,w)=>{P&16&&(s&&s.isCE&&(s.ce._teleportTarget=y),h(_,y,w,s,i,o,a,l))},T=()=>{const y=e.target=ah(e.props,E),w=Ly(y,e,R,g);y&&(o!=="svg"&&pm(y)?o="svg":o!=="mathml"&&mm(y)&&(o="mathml"),x||(b(y,w),ic(e)))};x&&(b(n,L),ic(e)),rA(e.props)?ft(T,i):T()}else{e.el=t.el,e.targetStart=t.targetStart;const D=e.anchor=t.anchor,L=e.target=t.target,b=e.targetAnchor=t.targetAnchor,T=fo(t.props),y=T?n:L,w=T?D:b;if(o==="svg"||pm(L)?o="svg":(o==="mathml"||mm(L))&&(o="mathml"),O?(p(t.dynamicChildren,O,y,s,i,o,a),qf(t,e,!0)):l||f(t,e,y,w,s,i,o,a,!1),x)T?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Ka(e,n,D,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const k=e.target=ah(e.props,E);k&&Ka(e,k,null,u,0)}else T&&Ka(e,L,b,u,1);ic(e)}},remove(t,e,n,{um:r,o:{remove:s}},i){const{shapeFlag:o,children:a,anchor:l,targetStart:u,targetAnchor:h,target:f,props:p}=t;if(f&&(s(u),s(h)),i&&s(l),o&16){const g=i||!fo(p);for(let E=0;E<a.length;E++){const R=a[E];r(R,e,n,g,!!R.dynamicChildren)}}},move:Ka,hydrate:iA};function Ka(t,e,n,{o:{insert:r},m:s},i=2){i===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:h}=t,f=i===2;if(f&&r(o,e,n),(!f||fo(h))&&l&16)for(let p=0;p<u.length;p++)s(u[p],e,n,2);f&&r(a,e,n)}function iA(t,e,n,r,s,i,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:u,createText:h}},f){const p=e.target=ah(e.props,l);if(p){const g=p._lpa||p.firstChild;if(e.shapeFlag&16)if(fo(e.props))e.anchor=f(o(t),e,a(t),n,r,s,i),e.targetStart=g,e.targetAnchor=g&&o(g);else{e.anchor=o(t);let E=g;for(;E;){if(E&&E.nodeType===8){if(E.data==="teleport start anchor")e.targetStart=E;else if(E.data==="teleport anchor"){e.targetAnchor=E,p._lpa=e.targetAnchor&&o(e.targetAnchor);break}}E=o(E)}e.targetAnchor||Ly(p,e,h,u),f(g&&o(g),e,p,n,r,s,i)}ic(e)}return e.anchor&&o(e.anchor)}const oA=sA;function ic(t){const e=t.ctx;if(e&&e.ut){let n=t.targetStart;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}function Ly(t,e,n,r){const s=e.targetStart=n(""),i=e.targetAnchor=n("");return s[Vy]=i,t&&(r(s,t),r(i,t)),i}const Ir=Symbol("_leaveCb"),Wa=Symbol("_enterCb");function Df(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return pn(()=>{t.isMounted=!0}),Il(()=>{t.isUnmounting=!0}),t}const an=[Function,Array],Vf={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:an,onEnter:an,onAfterEnter:an,onEnterCancelled:an,onBeforeLeave:an,onLeave:an,onAfterLeave:an,onLeaveCancelled:an,onBeforeAppear:an,onAppear:an,onAfterAppear:an,onAppearCancelled:an},Fy=t=>{const e=t.subTree;return e.component?Fy(e.component):e},aA={name:"BaseTransition",props:Vf,setup(t,{slots:e}){const n=Jt(),r=Df();return()=>{const s=e.default&&Tl(e.default(),!0);if(!s||!s.length)return;const i=Uy(s),o=Re(t),{mode:a}=o;if(r.isLeaving)return wu(i);const l=gm(i);if(!l)return wu(i);let u=ui(l,o,r,n,p=>u=p);l.type!==it&&sr(l,u);const h=n.subTree,f=h&&gm(h);if(f&&f.type!==it&&!_n(l,f)&&Fy(n).type!==it){const p=ui(f,o,r,n);if(sr(f,p),a==="out-in"&&l.type!==it)return r.isLeaving=!0,p.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete p.afterLeave},wu(i);a==="in-out"&&l.type!==it&&(p.delayLeave=(g,E,R)=>{const S=$y(r,f);S[String(f.key)]=f,g[Ir]=()=>{E(),g[Ir]=void 0,delete u.delayedLeave},u.delayedLeave=R})}return i}}};function Uy(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==it){e=n;break}}return e}const jy=aA;function $y(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function ui(t,e,n,r,s){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:h,onEnterCancelled:f,onBeforeLeave:p,onLeave:g,onAfterLeave:E,onLeaveCancelled:R,onBeforeAppear:S,onAppear:x,onAfterAppear:P,onAppearCancelled:_}=e,O=String(t.key),D=$y(n,t),L=(y,w)=>{y&&dn(y,r,9,w)},b=(y,w)=>{const k=w[1];L(y,w),ie(y)?y.every(C=>C.length<=1)&&k():y.length<=1&&k()},T={mode:o,persisted:a,beforeEnter(y){let w=l;if(!n.isMounted)if(i)w=S||l;else return;y[Ir]&&y[Ir](!0);const k=D[O];k&&_n(t,k)&&k.el[Ir]&&k.el[Ir](),L(w,[y])},enter(y){let w=u,k=h,C=f;if(!n.isMounted)if(i)w=x||u,k=P||h,C=_||f;else return;let I=!1;const ge=y[Wa]=Ie=>{I||(I=!0,Ie?L(C,[y]):L(k,[y]),T.delayedLeave&&T.delayedLeave(),y[Wa]=void 0)};w?b(w,[y,ge]):ge()},leave(y,w){const k=String(t.key);if(y[Wa]&&y[Wa](!0),n.isUnmounting)return w();L(p,[y]);let C=!1;const I=y[Ir]=ge=>{C||(C=!0,w(),ge?L(R,[y]):L(E,[y]),y[Ir]=void 0,D[k]===t&&delete D[k])};D[k]=t,g?b(g,[y,I]):I()},clone(y){const w=ui(y,e,n,r,s);return s&&s(w),w}};return T}function wu(t){if(na(t))return t=$n(t),t.children=null,t}function gm(t){if(!na(t))return My(t.type)&&t.children?Uy(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&pe(n.default))return n.default()}}function sr(t,e){t.shapeFlag&6&&t.component?(t.transition=e,sr(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Tl(t,e=!1,n){let r=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===Ue?(o.patchFlag&128&&s++,r=r.concat(Tl(o.children,e,a))):(e||o.type!==it)&&r.push(a!=null?$n(o,{key:a}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Rs(t,e){return pe(t)?We({name:t.name},e,{setup:t}):t}function cA(){const t=Jt();if(t)return(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++}function Mf(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function lA(t){const e=Jt(),n=Of(null);if(e){const s=e.refs===Oe?e.refs={}:e.refs;Object.defineProperty(s,t,{enumerable:!0,get:()=>n.value,set:i=>n.value=i})}return n}function Cc(t,e,n,r,s=!1){if(ie(t)){t.forEach((E,R)=>Cc(E,e&&(ie(e)?e[R]:e),n,r,s));return}if(Dr(r)&&!s)return;const i=r.shapeFlag&4?ia(r.component):r.el,o=s?null:i,{i:a,r:l}=t,u=e&&e.r,h=a.refs===Oe?a.refs={}:a.refs,f=a.setupState,p=Re(f),g=f===Oe?()=>!1:E=>Le(p,E);if(u!=null&&u!==l&&(ze(u)?(h[u]=null,g(u)&&(f[u]=null)):lt(u)&&(u.value=null)),pe(l))Si(l,a,12,[o,h]);else{const E=ze(l),R=lt(l);if(E||R){const S=()=>{if(t.f){const x=E?g(l)?f[l]:h[l]:l.value;s?ie(x)&&yf(x,i):ie(x)?x.includes(i)||x.push(i):E?(h[l]=[i],g(l)&&(f[l]=h[l])):(l.value=[i],t.k&&(h[t.k]=l.value))}else E?(h[l]=o,g(l)&&(f[l]=o)):R&&(l.value=o,t.k&&(h[t.k]=o))};o?(S.id=-1,ft(S,n)):S()}}}let _m=!1;const js=()=>{_m||(console.error("Hydration completed but contains mismatches."),_m=!0)},uA=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",hA=t=>t.namespaceURI.includes("MathML"),za=t=>{if(t.nodeType===1){if(uA(t))return"svg";if(hA(t))return"mathml"}},Js=t=>t.nodeType===8;function fA(t){const{mt:e,p:n,o:{patchProp:r,createText:s,nextSibling:i,parentNode:o,remove:a,insert:l,createComment:u}}=t,h=(_,O)=>{if(!O.hasChildNodes()){n(null,_,O),Rc(),O._vnode=_;return}f(O.firstChild,_,null,null,null),Rc(),O._vnode=_},f=(_,O,D,L,b,T=!1)=>{T=T||!!O.dynamicChildren;const y=Js(_)&&_.data==="[",w=()=>R(_,O,D,L,b,y),{type:k,ref:C,shapeFlag:I,patchFlag:ge}=O;let Ie=_.nodeType;O.el=_,ge===-2&&(T=!1,O.dynamicChildren=null);let ne=null;switch(k){case Vr:Ie!==3?O.children===""?(l(O.el=s(""),o(_),_),ne=_):ne=w():(_.data!==O.children&&(js(),_.data=O.children),ne=i(_));break;case it:P(_)?(ne=i(_),x(O.el=_.content.firstChild,_,D)):Ie!==8||y?ne=w():ne=i(_);break;case fs:if(y&&(_=i(_),Ie=_.nodeType),Ie===1||Ie===3){ne=_;const me=!O.children.length;for(let te=0;te<O.staticCount;te++)me&&(O.children+=ne.nodeType===1?ne.outerHTML:ne.data),te===O.staticCount-1&&(O.anchor=ne),ne=i(ne);return y?i(ne):ne}else w();break;case Ue:y?ne=E(_,O,D,L,b,T):ne=w();break;default:if(I&1)(Ie!==1||O.type.toLowerCase()!==_.tagName.toLowerCase())&&!P(_)?ne=w():ne=p(_,O,D,L,b,T);else if(I&6){O.slotScopeIds=b;const me=o(_);if(y?ne=S(_):Js(_)&&_.data==="teleport start"?ne=S(_,_.data,"teleport end"):ne=i(_),e(O,me,null,D,L,za(me),T),Dr(O)){let te;y?(te=ke(Ue),te.anchor=ne?ne.previousSibling:me.lastChild):te=_.nodeType===3?qt(""):ke("div"),te.el=_,O.component.subTree=te}}else I&64?Ie!==8?ne=w():ne=O.type.hydrate(_,O,D,L,b,T,t,g):I&128&&(ne=O.type.hydrate(_,O,D,L,za(o(_)),b,T,t,f))}return C!=null&&Cc(C,null,L,O),ne},p=(_,O,D,L,b,T)=>{T=T||!!O.dynamicChildren;const{type:y,props:w,patchFlag:k,shapeFlag:C,dirs:I,transition:ge}=O,Ie=y==="input"||y==="option";if(Ie||k!==-1){I&&Nn(O,null,D,"created");let ne=!1;if(P(_)){ne=fv(L,ge)&&D&&D.vnode.props&&D.vnode.props.appear;const te=_.content.firstChild;ne&&ge.beforeEnter(te),x(te,_,D),O.el=_=te}if(C&16&&!(w&&(w.innerHTML||w.textContent))){let te=g(_.firstChild,O,_,D,L,b,T);for(;te;){Ga(_,1)||js();const Je=te;te=te.nextSibling,a(Je)}}else if(C&8){let te=O.children;te[0]===`
`&&(_.tagName==="PRE"||_.tagName==="TEXTAREA")&&(te=te.slice(1)),_.textContent!==te&&(Ga(_,0)||js(),_.textContent=O.children)}if(w){if(Ie||!T||k&48){const te=_.tagName.includes("-");for(const Je in w)(Ie&&(Je.endsWith("value")||Je==="indeterminate")||Xo(Je)&&!ei(Je)||Je[0]==="."||te)&&r(_,Je,null,w[Je],void 0,D)}else if(w.onClick)r(_,"onClick",null,w.onClick,void 0,D);else if(k&4&&xr(w.style))for(const te in w.style)w.style[te]}let me;(me=w&&w.onVnodeBeforeMount)&&Bt(me,D,O),I&&Nn(O,null,D,"beforeMount"),((me=w&&w.onVnodeMounted)||I||ne)&&wv(()=>{me&&Bt(me,D,O),ne&&ge.enter(_),I&&Nn(O,null,D,"mounted")},L)}return _.nextSibling},g=(_,O,D,L,b,T,y)=>{y=y||!!O.dynamicChildren;const w=O.children,k=w.length;for(let C=0;C<k;C++){const I=y?w[C]:w[C]=Kt(w[C]),ge=I.type===Vr;_?(ge&&!y&&C+1<k&&Kt(w[C+1]).type===Vr&&(l(s(_.data.slice(I.children.length)),D,i(_)),_.data=I.children),_=f(_,I,L,b,T,y)):ge&&!I.children?l(I.el=s(""),D):(Ga(D,1)||js(),n(null,I,D,null,L,b,za(D),T))}return _},E=(_,O,D,L,b,T)=>{const{slotScopeIds:y}=O;y&&(b=b?b.concat(y):y);const w=o(_),k=g(i(_),O,w,D,L,b,T);return k&&Js(k)&&k.data==="]"?i(O.anchor=k):(js(),l(O.anchor=u("]"),w,k),k)},R=(_,O,D,L,b,T)=>{if(Ga(_.parentElement,1)||js(),O.el=null,T){const k=S(_);for(;;){const C=i(_);if(C&&C!==k)a(C);else break}}const y=i(_),w=o(_);return a(_),n(null,O,w,y,D,L,za(w),b),y},S=(_,O="[",D="]")=>{let L=0;for(;_;)if(_=i(_),_&&Js(_)&&(_.data===O&&L++,_.data===D)){if(L===0)return i(_);L--}return _},x=(_,O,D)=>{const L=O.parentNode;L&&L.replaceChild(_,O);let b=D;for(;b;)b.vnode.el===O&&(b.vnode.el=b.subTree.el=_),b=b.parent},P=_=>_.nodeType===1&&_.tagName==="TEMPLATE";return[h,f]}const ym="data-allow-mismatch",dA={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function Ga(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(ym);)t=t.parentElement;const n=t&&t.getAttribute(ym);if(n==null)return!1;if(n==="")return!0;{const r=n.split(",");return e===0&&r.includes("children")?!0:n.split(",").includes(dA[e])}}const pA=(t=1e4)=>e=>{const n=requestIdleCallback(e,{timeout:t});return()=>cancelIdleCallback(n)},mA=t=>(e,n)=>{const r=new IntersectionObserver(s=>{for(const i of s)if(i.isIntersecting){r.disconnect(),e();break}},t);return n(s=>r.observe(s)),()=>r.disconnect()},gA=t=>e=>{if(t){const n=matchMedia(t);if(n.matches)e();else return n.addEventListener("change",e,{once:!0}),()=>n.removeEventListener("change",e)}},_A=(t=[])=>(e,n)=>{ze(t)&&(t=[t]);let r=!1;const s=o=>{r||(r=!0,i(),e(),o.target.dispatchEvent(new o.constructor(o.type,o)))},i=()=>{n(o=>{for(const a of t)o.removeEventListener(a,s)})};return n(o=>{for(const a of t)o.addEventListener(a,s,{once:!0})}),i};function yA(t,e){if(Js(t)&&t.data==="["){let n=1,r=t.nextSibling;for(;r;){if(r.nodeType===1)e(r);else if(Js(r))if(r.data==="]"){if(--n===0)break}else r.data==="["&&n++;r=r.nextSibling}}else e(t)}const Dr=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function vA(t){pe(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:s=200,hydrate:i,timeout:o,suspensible:a=!0,onError:l}=t;let u=null,h,f=0;const p=()=>(f++,u=null,g()),g=()=>{let E;return u||(E=u=e().catch(R=>{if(R=R instanceof Error?R:new Error(String(R)),l)return new Promise((S,x)=>{l(R,()=>S(p()),()=>x(R),f+1)});throw R}).then(R=>E!==u&&u?u:(R&&(R.__esModule||R[Symbol.toStringTag]==="Module")&&(R=R.default),h=R,R)))};return Rs({name:"AsyncComponentWrapper",__asyncLoader:g,__asyncHydrate(E,R,S){const x=i?()=>{const P=i(S,_=>yA(E,_));P&&(R.bum||(R.bum=[])).push(P)}:S;h?x():g().then(()=>!R.isUnmounted&&x())},get __asyncResolved(){return h},setup(){const E=ot;if(Mf(E),h)return()=>bu(h,E);const R=_=>{u=null,Ss(_,E,13,!r)};if(a&&E.suspense||sa)return g().then(_=>()=>bu(_,E)).catch(_=>(R(_),()=>r?ke(r,{error:_}):null));const S=ye(!1),x=ye(),P=ye(!!s);return s&&setTimeout(()=>{P.value=!1},s),o!=null&&setTimeout(()=>{if(!S.value&&!x.value){const _=new Error(`Async component timed out after ${o}ms.`);R(_),x.value=_}},o),g().then(()=>{S.value=!0,E.parent&&na(E.parent.vnode)&&E.parent.update()}).catch(_=>{R(_),x.value=_}),()=>{if(S.value&&h)return bu(h,E);if(x.value&&r)return ke(r,{error:x.value});if(n&&!P.value)return ke(n)}}})}function bu(t,e){const{ref:n,props:r,children:s,ce:i}=e.vnode,o=ke(t,r,s);return o.ref=n,o.ce=i,delete e.vnode.ce,o}const na=t=>t.type.__isKeepAlive,EA={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=Jt(),r=n.ctx;if(!r.renderer)return()=>{const P=e.default&&e.default();return P&&P.length===1?P[0]:P};const s=new Map,i=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:u,um:h,o:{createElement:f}}}=r,p=f("div");r.activate=(P,_,O,D,L)=>{const b=P.component;u(P,_,O,0,a),l(b.vnode,P,_,O,b,a,D,P.slotScopeIds,L),ft(()=>{b.isDeactivated=!1,b.a&&ti(b.a);const T=P.props&&P.props.onVnodeMounted;T&&Bt(T,b.parent,P)},a)},r.deactivate=P=>{const _=P.component;Oc(_.m),Oc(_.a),u(P,p,null,1,a),ft(()=>{_.da&&ti(_.da);const O=P.props&&P.props.onVnodeUnmounted;O&&Bt(O,_.parent,P),_.isDeactivated=!0},a)};function g(P){Iu(P),h(P,n,a,!0)}function E(P){s.forEach((_,O)=>{const D=vh(_.type);D&&!P(D)&&R(O)})}function R(P){const _=s.get(P);_&&(!o||!_n(_,o))?g(_):o&&Iu(o),s.delete(P),i.delete(P)}rt(()=>[t.include,t.exclude],([P,_])=>{P&&E(O=>ro(P,O)),_&&E(O=>!ro(_,O))},{flush:"post",deep:!0});let S=null;const x=()=>{S!=null&&(kc(n.subTree.type)?ft(()=>{s.set(S,Qa(n.subTree))},n.subTree.suspense):s.set(S,Qa(n.subTree)))};return pn(x),bl(x),Il(()=>{s.forEach(P=>{const{subTree:_,suspense:O}=n,D=Qa(_);if(P.type===D.type&&P.key===D.key){Iu(D);const L=D.component.da;L&&ft(L,O);return}g(P)})}),()=>{if(S=null,!e.default)return o=null;const P=e.default(),_=P[0];if(P.length>1)return o=null,P;if(!Br(_)||!(_.shapeFlag&4)&&!(_.shapeFlag&128))return o=null,_;let O=Qa(_);if(O.type===it)return o=null,O;const D=O.type,L=vh(Dr(O)?O.type.__asyncResolved||{}:D),{include:b,exclude:T,max:y}=t;if(b&&(!L||!ro(b,L))||T&&L&&ro(T,L))return O.shapeFlag&=-257,o=O,_;const w=O.key==null?D:O.key,k=s.get(w);return O.el&&(O=$n(O),_.shapeFlag&128&&(_.ssContent=O)),S=w,k?(O.el=k.el,O.component=k.component,O.transition&&sr(O,O.transition),O.shapeFlag|=512,i.delete(w),i.add(w)):(i.add(w),y&&i.size>parseInt(y,10)&&R(i.values().next().value)),O.shapeFlag|=256,o=O,kc(_.type)?_:O}}},TA=EA;function ro(t,e){return ie(t)?t.some(n=>ro(n,e)):ze(t)?t.split(",").includes(e):zb(t)?(t.lastIndex=0,t.test(e)):!1}function By(t,e){qy(t,"a",e)}function Hy(t,e){qy(t,"da",e)}function qy(t,e,n=ot){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(wl(e,r,n),n){let s=n.parent;for(;s&&s.parent;)na(s.parent.vnode)&&wA(r,e,n,s),s=s.parent}}function wA(t,e,n,r){const s=wl(e,t,r,!0);Qr(()=>{yf(r[e],s)},n)}function Iu(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Qa(t){return t.shapeFlag&128?t.ssContent:t}function wl(t,e,n=ot,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{zr();const a=_s(n),l=dn(e,n,t,o);return a(),Gr(),l});return r?s.unshift(i):s.push(i),i}}const lr=t=>(e,n=ot)=>{(!sa||t==="sp")&&wl(t,(...r)=>e(...r),n)},Lf=lr("bm"),pn=lr("m"),Ky=lr("bu"),bl=lr("u"),Il=lr("bum"),Qr=lr("um"),Wy=lr("sp"),zy=lr("rtg"),Gy=lr("rtc");function Qy(t,e=ot){wl("ec",t,e)}const Ff="components",bA="directives";function Al(t,e){return Uf(Ff,t,!0,e)||t}const Jy=Symbol.for("v-ndc");function IA(t){return ze(t)?Uf(Ff,t,!1)||t:t||Jy}function AA(t){return Uf(bA,t)}function Uf(t,e,n=!0,r=!1){const s=ct||ot;if(s){const i=s.type;if(t===Ff){const a=vh(i,!1);if(a&&(a===e||a===Ot(e)||a===Zo(Ot(e))))return i}const o=vm(s[t]||i[t],e)||vm(s.appContext[t],e);return!o&&r?i:o}}function vm(t,e){return t&&(t[e]||t[Ot(e)]||t[Zo(Ot(e))])}function yn(t,e,n,r){let s;const i=n&&n[r],o=ie(t);if(o||ze(t)){const a=o&&xr(t);let l=!1;a&&(l=!en(t),t=ml(t)),s=new Array(t.length);for(let u=0,h=t.length;u<h;u++)s[u]=e(l?Rt(t[u]):t[u],u,void 0,i&&i[u])}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,i&&i[a])}else if($e(t))if(t[Symbol.iterator])s=Array.from(t,(a,l)=>e(a,l,void 0,i&&i[l]));else{const a=Object.keys(t);s=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const h=a[l];s[l]=e(t[h],h,l,i&&i[l])}}else s=[];return n&&(n[r]=s),s}function SA(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(ie(r))for(let s=0;s<r.length;s++)t[r[s].name]=r[s].fn;else r&&(t[r.name]=r.key?(...s)=>{const i=r.fn(...s);return i&&(i.key=r.key),i}:r.fn)}return t}function RA(t,e,n={},r,s){if(ct.ce||ct.parent&&Dr(ct.parent)&&ct.parent.ce)return e!=="default"&&(n.name=e),se(),tn(Ue,null,[ke("slot",n,r&&r())],64);let i=t[e];i&&i._c&&(i._d=!1),se();const o=i&&jf(i(n)),a=tn(Ue,{key:(n.key||o&&o.key||`_${e}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&t._===1?64:-2);return!s&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function jf(t){return t.some(e=>Br(e)?!(e.type===it||e.type===Ue&&!jf(e.children)):!0)?t:null}function CA(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:uo(r)]=t[r];return n}const ch=t=>t?Ov(t)?ia(t):ch(t.parent):null,po=We(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>ch(t.parent),$root:t=>ch(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Bf(t),$forceUpdate:t=>t.f||(t.f=()=>{xf(t.update)}),$nextTick:t=>t.n||(t.n=ta.bind(t.proxy)),$watch:t=>sS.bind(t)}),Au=(t,e)=>t!==Oe&&!t.__isScriptSetup&&Le(t,e),lh={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(Au(r,e))return o[e]=1,r[e];if(s!==Oe&&Le(s,e))return o[e]=2,s[e];if((u=t.propsOptions[0])&&Le(u,e))return o[e]=3,i[e];if(n!==Oe&&Le(n,e))return o[e]=4,n[e];uh&&(o[e]=0)}}const h=po[e];let f,p;if(h)return e==="$attrs"&&Nt(t.attrs,"get",""),h(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(n!==Oe&&Le(n,e))return o[e]=4,n[e];if(p=l.config.globalProperties,Le(p,e))return p[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return Au(s,e)?(s[e]=n,!0):r!==Oe&&Le(r,e)?(r[e]=n,!0):Le(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||t!==Oe&&Le(t,o)||Au(e,o)||(a=i[0])&&Le(a,o)||Le(r,o)||Le(po,o)||Le(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Le(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},PA=We({},lh,{get(t,e){if(e!==Symbol.unscopables)return lh.get(t,e,t)},has(t,e){return e[0]!=="_"&&!Xb(e)}});function OA(){return null}function kA(){return null}function NA(t){}function xA(t){}function DA(){return null}function VA(){}function MA(t,e){return null}function $f(){return Yy().slots}function LA(){return Yy().attrs}function Yy(){const t=Jt();return t.setupContext||(t.setupContext=xv(t))}function Vo(t){return ie(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function FA(t,e){const n=Vo(t);for(const r in e){if(r.startsWith("__skip"))continue;let s=n[r];s?ie(s)||pe(s)?s=n[r]={type:s,default:e[r]}:s.default=e[r]:s===null&&(s=n[r]={default:e[r]}),s&&e[`__skip_${r}`]&&(s.skipFactory=!0)}return n}function UA(t,e){return!t||!e?t||e:ie(t)&&ie(e)?t.concat(e):We({},Vo(t),Vo(e))}function jA(t,e){const n={};for(const r in t)e.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>t[r]});return n}function $A(t){const e=Jt();let n=t();return gh(),vf(n)&&(n=n.catch(r=>{throw _s(e),r})),[n,()=>_s(e)]}let uh=!0;function BA(t){const e=Bf(t),n=t.proxy,r=t.ctx;uh=!1,e.beforeCreate&&Em(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:u,created:h,beforeMount:f,mounted:p,beforeUpdate:g,updated:E,activated:R,deactivated:S,beforeDestroy:x,beforeUnmount:P,destroyed:_,unmounted:O,render:D,renderTracked:L,renderTriggered:b,errorCaptured:T,serverPrefetch:y,expose:w,inheritAttrs:k,components:C,directives:I,filters:ge}=e;if(u&&HA(u,r,null),o)for(const me in o){const te=o[me];pe(te)&&(r[me]=te.bind(n))}if(s){const me=s.call(n,n);$e(me)&&(t.data=qn(me))}if(uh=!0,i)for(const me in i){const te=i[me],Je=pe(te)?te.bind(n,n):pe(te.get)?te.get.bind(n,n):En,mn=!pe(te)&&pe(te.set)?te.set.bind(n):En,sn=Ae({get:Je,set:mn});Object.defineProperty(r,me,{enumerable:!0,configurable:!0,get:()=>sn.value,set:Ye=>sn.value=Ye})}if(a)for(const me in a)Xy(a[me],r,n,me);if(l){const me=pe(l)?l.call(n):l;Reflect.ownKeys(me).forEach(te=>{mo(te,me[te])})}h&&Em(h,t,"c");function ne(me,te){ie(te)?te.forEach(Je=>me(Je.bind(n))):te&&me(te.bind(n))}if(ne(Lf,f),ne(pn,p),ne(Ky,g),ne(bl,E),ne(By,R),ne(Hy,S),ne(Qy,T),ne(Gy,L),ne(zy,b),ne(Il,P),ne(Qr,O),ne(Wy,y),ie(w))if(w.length){const me=t.exposed||(t.exposed={});w.forEach(te=>{Object.defineProperty(me,te,{get:()=>n[te],set:Je=>n[te]=Je})})}else t.exposed||(t.exposed={});D&&t.render===En&&(t.render=D),k!=null&&(t.inheritAttrs=k),C&&(t.components=C),I&&(t.directives=I),y&&Mf(t)}function HA(t,e,n=En){ie(t)&&(t=hh(t));for(const r in t){const s=t[r];let i;$e(s)?"default"in s?i=zt(s.from||r,s.default,!0):i=zt(s.from||r):i=zt(s),lt(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function Em(t,e,n){dn(ie(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Xy(t,e,n,r){let s=r.includes(".")?yv(n,r):()=>n[r];if(ze(t)){const i=e[t];pe(i)&&rt(s,i)}else if(pe(t))rt(s,t.bind(n));else if($e(t))if(ie(t))t.forEach(i=>Xy(i,e,n,r));else{const i=pe(t.handler)?t.handler.bind(n):e[t.handler];pe(i)&&rt(s,i,t)}}function Bf(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!s.length&&!n&&!r?l=e:(l={},s.length&&s.forEach(u=>Pc(l,u,o,!0)),Pc(l,e,o)),$e(e)&&i.set(e,l),l}function Pc(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&Pc(t,i,n,!0),s&&s.forEach(o=>Pc(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=qA[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const qA={data:Tm,props:wm,emits:wm,methods:so,computed:so,beforeCreate:Mt,created:Mt,beforeMount:Mt,mounted:Mt,beforeUpdate:Mt,updated:Mt,beforeDestroy:Mt,beforeUnmount:Mt,destroyed:Mt,unmounted:Mt,activated:Mt,deactivated:Mt,errorCaptured:Mt,serverPrefetch:Mt,components:so,directives:so,watch:WA,provide:Tm,inject:KA};function Tm(t,e){return e?t?function(){return We(pe(t)?t.call(this,this):t,pe(e)?e.call(this,this):e)}:e:t}function KA(t,e){return so(hh(t),hh(e))}function hh(t){if(ie(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Mt(t,e){return t?[...new Set([].concat(t,e))]:e}function so(t,e){return t?We(Object.create(null),t,e):e}function wm(t,e){return t?ie(t)&&ie(e)?[...new Set([...t,...e])]:We(Object.create(null),Vo(t),Vo(e??{})):e}function WA(t,e){if(!t)return e;if(!e)return t;const n=We(Object.create(null),t);for(const r in e)n[r]=Mt(t[r],e[r]);return n}function Zy(){return{app:null,config:{isNativeTag:Kb,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let zA=0;function GA(t,e){return function(r,s=null){pe(r)||(r=We({},r)),s!=null&&!$e(s)&&(s=null);const i=Zy(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:zA++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:Vv,get config(){return i.config},set config(h){},use(h,...f){return o.has(h)||(h&&pe(h.install)?(o.add(h),h.install(u,...f)):pe(h)&&(o.add(h),h(u,...f))),u},mixin(h){return i.mixins.includes(h)||i.mixins.push(h),u},component(h,f){return f?(i.components[h]=f,u):i.components[h]},directive(h,f){return f?(i.directives[h]=f,u):i.directives[h]},mount(h,f,p){if(!l){const g=u._ceVNode||ke(r,s);return g.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),f&&e?e(g,h):t(g,h,p),l=!0,u._container=h,h.__vue_app__=u,ia(g.component)}},onUnmount(h){a.push(h)},unmount(){l&&(dn(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(h,f){return i.provides[h]=f,u},runWithContext(h){const f=hs;hs=u;try{return h()}finally{hs=f}}};return u}}let hs=null;function mo(t,e){if(ot){let n=ot.provides;const r=ot.parent&&ot.parent.provides;r===n&&(n=ot.provides=Object.create(r)),n[t]=e}}function zt(t,e,n=!1){const r=ot||ct;if(r||hs){const s=hs?hs._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&pe(e)?e.call(r&&r.proxy):e}}function QA(){return!!(ot||ct||hs)}const ev={},tv=()=>Object.create(ev),nv=t=>Object.getPrototypeOf(t)===ev;function JA(t,e,n,r=!1){const s={},i=tv();t.propsDefaults=Object.create(null),rv(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:Rf(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function YA(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=Re(s),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const h=t.vnode.dynamicProps;for(let f=0;f<h.length;f++){let p=h[f];if(Sl(t.emitsOptions,p))continue;const g=e[p];if(l)if(Le(i,p))g!==i[p]&&(i[p]=g,u=!0);else{const E=Ot(p);s[E]=fh(l,a,E,g,t,!1)}else g!==i[p]&&(i[p]=g,u=!0)}}}else{rv(t,e,s,i)&&(u=!0);let h;for(const f in a)(!e||!Le(e,f)&&((h=Wt(f))===f||!Le(e,h)))&&(l?n&&(n[f]!==void 0||n[h]!==void 0)&&(s[f]=fh(l,a,f,void 0,t,!0)):delete s[f]);if(i!==a)for(const f in i)(!e||!Le(e,f))&&(delete i[f],u=!0)}u&&nr(t.attrs,"set","")}function rv(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(ei(l))continue;const u=e[l];let h;s&&Le(s,h=Ot(l))?!i||!i.includes(h)?n[h]=u:(a||(a={}))[h]=u:Sl(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=Re(n),u=a||Oe;for(let h=0;h<i.length;h++){const f=i[h];n[f]=fh(s,l,f,u[f],t,!Le(u,f))}}return o}function fh(t,e,n,r,s,i){const o=t[n];if(o!=null){const a=Le(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&pe(l)){const{propsDefaults:u}=s;if(n in u)r=u[n];else{const h=_s(s);r=u[n]=l.call(null,e),h()}}else r=l;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Wt(n))&&(r=!0))}return r}const XA=new WeakMap;function sv(t,e,n=!1){const r=n?XA:e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},a=[];let l=!1;if(!pe(t)){const h=f=>{l=!0;const[p,g]=sv(f,e,!0);We(o,p),g&&a.push(...g)};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!i&&!l)return $e(t)&&r.set(t,Xs),Xs;if(ie(i))for(let h=0;h<i.length;h++){const f=Ot(i[h]);bm(f)&&(o[f]=Oe)}else if(i)for(const h in i){const f=Ot(h);if(bm(f)){const p=i[h],g=o[f]=ie(p)||pe(p)?{type:p}:We({},p),E=g.type;let R=!1,S=!0;if(ie(E))for(let x=0;x<E.length;++x){const P=E[x],_=pe(P)&&P.name;if(_==="Boolean"){R=!0;break}else _==="String"&&(S=!1)}else R=pe(E)&&E.name==="Boolean";g[0]=R,g[1]=S,(R||Le(g,"default"))&&a.push(f)}}const u=[o,a];return $e(t)&&r.set(t,u),u}function bm(t){return t[0]!=="$"&&!ei(t)}const iv=t=>t[0]==="_"||t==="$stable",Hf=t=>ie(t)?t.map(Kt):[Kt(t)],ZA=(t,e,n)=>{if(e._n)return e;const r=Zt((...s)=>Hf(e(...s)),n);return r._c=!1,r},ov=(t,e,n)=>{const r=t._ctx;for(const s in t){if(iv(s))continue;const i=t[s];if(pe(i))e[s]=ZA(s,i,r);else if(i!=null){const o=Hf(i);e[s]=()=>o}}},av=(t,e)=>{const n=Hf(e);t.slots.default=()=>n},cv=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},eS=(t,e,n)=>{const r=t.slots=tv();if(t.vnode.shapeFlag&32){const s=e._;s?(cv(r,e,n),n&&sy(r,"_",s,!0)):ov(e,r)}else e&&av(t,e)},tS=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=Oe;if(r.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:cv(s,e,n):(i=!e.$stable,ov(e,s)),o=e}else e&&(av(t,e),o={default:1});if(i)for(const a in s)!iv(a)&&o[a]==null&&delete s[a]},ft=wv;function lv(t){return hv(t)}function uv(t){return hv(t,fA)}function hv(t,e){const n=iy();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:h,parentNode:f,nextSibling:p,setScopeId:g=En,insertStaticContent:E}=t,R=(A,N,M,H=null,j=null,K=null,Y=void 0,Q=null,G=!!N.dynamicChildren)=>{if(A===N)return;A&&!_n(A,N)&&(H=$(A),Ye(A,j,K,!0),A=null),N.patchFlag===-2&&(G=!1,N.dynamicChildren=null);const{type:W,ref:le,shapeFlag:Z}=N;switch(W){case Vr:S(A,N,M,H);break;case it:x(A,N,M,H);break;case fs:A==null&&P(N,M,H,Y);break;case Ue:C(A,N,M,H,j,K,Y,Q,G);break;default:Z&1?D(A,N,M,H,j,K,Y,Q,G):Z&6?I(A,N,M,H,j,K,Y,Q,G):(Z&64||Z&128)&&W.process(A,N,M,H,j,K,Y,Q,G,re)}le!=null&&j&&Cc(le,A&&A.ref,K,N||A,!N)},S=(A,N,M,H)=>{if(A==null)r(N.el=a(N.children),M,H);else{const j=N.el=A.el;N.children!==A.children&&u(j,N.children)}},x=(A,N,M,H)=>{A==null?r(N.el=l(N.children||""),M,H):N.el=A.el},P=(A,N,M,H)=>{[A.el,A.anchor]=E(A.children,N,M,H,A.el,A.anchor)},_=({el:A,anchor:N},M,H)=>{let j;for(;A&&A!==N;)j=p(A),r(A,M,H),A=j;r(N,M,H)},O=({el:A,anchor:N})=>{let M;for(;A&&A!==N;)M=p(A),s(A),A=M;s(N)},D=(A,N,M,H,j,K,Y,Q,G)=>{N.type==="svg"?Y="svg":N.type==="math"&&(Y="mathml"),A==null?L(N,M,H,j,K,Y,Q,G):y(A,N,j,K,Y,Q,G)},L=(A,N,M,H,j,K,Y,Q)=>{let G,W;const{props:le,shapeFlag:Z,transition:ce,dirs:oe}=A;if(G=A.el=o(A.type,K,le&&le.is,le),Z&8?h(G,A.children):Z&16&&T(A.children,G,null,H,j,Su(A,K),Y,Q),oe&&Nn(A,null,H,"created"),b(G,A,A.scopeId,Y,H),le){for(const Me in le)Me!=="value"&&!ei(Me)&&i(G,Me,null,le[Me],K,H);"value"in le&&i(G,"value",null,le.value,K),(W=le.onVnodeBeforeMount)&&Bt(W,H,A)}oe&&Nn(A,null,H,"beforeMount");const fe=fv(j,ce);fe&&ce.beforeEnter(G),r(G,N,M),((W=le&&le.onVnodeMounted)||fe||oe)&&ft(()=>{W&&Bt(W,H,A),fe&&ce.enter(G),oe&&Nn(A,null,H,"mounted")},j)},b=(A,N,M,H,j)=>{if(M&&g(A,M),H)for(let K=0;K<H.length;K++)g(A,H[K]);if(j){let K=j.subTree;if(N===K||kc(K.type)&&(K.ssContent===N||K.ssFallback===N)){const Y=j.vnode;b(A,Y,Y.scopeId,Y.slotScopeIds,j.parent)}}},T=(A,N,M,H,j,K,Y,Q,G=0)=>{for(let W=G;W<A.length;W++){const le=A[W]=Q?Ar(A[W]):Kt(A[W]);R(null,le,N,M,H,j,K,Y,Q)}},y=(A,N,M,H,j,K,Y)=>{const Q=N.el=A.el;let{patchFlag:G,dynamicChildren:W,dirs:le}=N;G|=A.patchFlag&16;const Z=A.props||Oe,ce=N.props||Oe;let oe;if(M&&ns(M,!1),(oe=ce.onVnodeBeforeUpdate)&&Bt(oe,M,N,A),le&&Nn(N,A,M,"beforeUpdate"),M&&ns(M,!0),(Z.innerHTML&&ce.innerHTML==null||Z.textContent&&ce.textContent==null)&&h(Q,""),W?w(A.dynamicChildren,W,Q,M,H,Su(N,j),K):Y||te(A,N,Q,null,M,H,Su(N,j),K,!1),G>0){if(G&16)k(Q,Z,ce,M,j);else if(G&2&&Z.class!==ce.class&&i(Q,"class",null,ce.class,j),G&4&&i(Q,"style",Z.style,ce.style,j),G&8){const fe=N.dynamicProps;for(let Me=0;Me<fe.length;Me++){const xe=fe[Me],Tt=Z[xe],ht=ce[xe];(ht!==Tt||xe==="value")&&i(Q,xe,Tt,ht,j,M)}}G&1&&A.children!==N.children&&h(Q,N.children)}else!Y&&W==null&&k(Q,Z,ce,M,j);((oe=ce.onVnodeUpdated)||le)&&ft(()=>{oe&&Bt(oe,M,N,A),le&&Nn(N,A,M,"updated")},H)},w=(A,N,M,H,j,K,Y)=>{for(let Q=0;Q<N.length;Q++){const G=A[Q],W=N[Q],le=G.el&&(G.type===Ue||!_n(G,W)||G.shapeFlag&70)?f(G.el):M;R(G,W,le,null,H,j,K,Y,!0)}},k=(A,N,M,H,j)=>{if(N!==M){if(N!==Oe)for(const K in N)!ei(K)&&!(K in M)&&i(A,K,N[K],null,j,H);for(const K in M){if(ei(K))continue;const Y=M[K],Q=N[K];Y!==Q&&K!=="value"&&i(A,K,Q,Y,j,H)}"value"in M&&i(A,"value",N.value,M.value,j)}},C=(A,N,M,H,j,K,Y,Q,G)=>{const W=N.el=A?A.el:a(""),le=N.anchor=A?A.anchor:a("");let{patchFlag:Z,dynamicChildren:ce,slotScopeIds:oe}=N;oe&&(Q=Q?Q.concat(oe):oe),A==null?(r(W,M,H),r(le,M,H),T(N.children||[],M,le,j,K,Y,Q,G)):Z>0&&Z&64&&ce&&A.dynamicChildren?(w(A.dynamicChildren,ce,M,j,K,Y,Q),(N.key!=null||j&&N===j.subTree)&&qf(A,N,!0)):te(A,N,M,le,j,K,Y,Q,G)},I=(A,N,M,H,j,K,Y,Q,G)=>{N.slotScopeIds=Q,A==null?N.shapeFlag&512?j.ctx.activate(N,M,H,Y,G):ge(N,M,H,j,K,Y,G):Ie(A,N,G)},ge=(A,N,M,H,j,K,Y)=>{const Q=A.component=Pv(A,H,j);if(na(A)&&(Q.ctx.renderer=re),kv(Q,!1,Y),Q.asyncDep){if(j&&j.registerDep(Q,ne,Y),!A.el){const G=Q.subTree=ke(it);x(null,G,N,M)}}else ne(Q,A,N,M,j,K,Y)},Ie=(A,N,M)=>{const H=N.component=A.component;if(uS(A,N,M))if(H.asyncDep&&!H.asyncResolved){me(H,N,M);return}else H.next=N,H.update();else N.el=A.el,H.vnode=N},ne=(A,N,M,H,j,K,Y)=>{const Q=()=>{if(A.isMounted){let{next:Z,bu:ce,u:oe,parent:fe,vnode:Me}=A;{const wt=dv(A);if(wt){Z&&(Z.el=Me.el,me(A,Z,Y)),wt.asyncDep.then(()=>{A.isUnmounted||Q()});return}}let xe=Z,Tt;ns(A,!1),Z?(Z.el=Me.el,me(A,Z,Y)):Z=Me,ce&&ti(ce),(Tt=Z.props&&Z.props.onVnodeBeforeUpdate)&&Bt(Tt,fe,Z,Me),ns(A,!0);const ht=oc(A),mt=A.subTree;A.subTree=ht,R(mt,ht,f(mt.el),$(mt),A,j,K),Z.el=ht.el,xe===null&&Kf(A,ht.el),oe&&ft(oe,j),(Tt=Z.props&&Z.props.onVnodeUpdated)&&ft(()=>Bt(Tt,fe,Z,Me),j)}else{let Z;const{el:ce,props:oe}=N,{bm:fe,m:Me,parent:xe,root:Tt,type:ht}=A,mt=Dr(N);if(ns(A,!1),fe&&ti(fe),!mt&&(Z=oe&&oe.onVnodeBeforeMount)&&Bt(Z,xe,N),ns(A,!0),ce&&je){const wt=()=>{A.subTree=oc(A),je(ce,A.subTree,A,j,null)};mt&&ht.__asyncHydrate?ht.__asyncHydrate(ce,A,wt):wt()}else{Tt.ce&&Tt.ce._injectChildStyle(ht);const wt=A.subTree=oc(A);R(null,wt,M,H,A,j,K),N.el=wt.el}if(Me&&ft(Me,j),!mt&&(Z=oe&&oe.onVnodeMounted)){const wt=N;ft(()=>Bt(Z,xe,wt),j)}(N.shapeFlag&256||xe&&Dr(xe.vnode)&&xe.vnode.shapeFlag&256)&&A.a&&ft(A.a,j),A.isMounted=!0,N=M=H=null}};A.scope.on();const G=A.effect=new Po(Q);A.scope.off();const W=A.update=G.run.bind(G),le=A.job=G.runIfDirty.bind(G);le.i=A,le.id=A.uid,G.scheduler=()=>xf(le),ns(A,!0),W()},me=(A,N,M)=>{N.component=A;const H=A.vnode.props;A.vnode=N,A.next=null,YA(A,N.props,H,M),tS(A,N.children,M),zr(),dm(A),Gr()},te=(A,N,M,H,j,K,Y,Q,G=!1)=>{const W=A&&A.children,le=A?A.shapeFlag:0,Z=N.children,{patchFlag:ce,shapeFlag:oe}=N;if(ce>0){if(ce&128){mn(W,Z,M,H,j,K,Y,Q,G);return}else if(ce&256){Je(W,Z,M,H,j,K,Y,Q,G);return}}oe&8?(le&16&&$t(W,j,K),Z!==W&&h(M,Z)):le&16?oe&16?mn(W,Z,M,H,j,K,Y,Q,G):$t(W,j,K,!0):(le&8&&h(M,""),oe&16&&T(Z,M,H,j,K,Y,Q,G))},Je=(A,N,M,H,j,K,Y,Q,G)=>{A=A||Xs,N=N||Xs;const W=A.length,le=N.length,Z=Math.min(W,le);let ce;for(ce=0;ce<Z;ce++){const oe=N[ce]=G?Ar(N[ce]):Kt(N[ce]);R(A[ce],oe,M,null,j,K,Y,Q,G)}W>le?$t(A,j,K,!0,!1,Z):T(N,M,H,j,K,Y,Q,G,Z)},mn=(A,N,M,H,j,K,Y,Q,G)=>{let W=0;const le=N.length;let Z=A.length-1,ce=le-1;for(;W<=Z&&W<=ce;){const oe=A[W],fe=N[W]=G?Ar(N[W]):Kt(N[W]);if(_n(oe,fe))R(oe,fe,M,null,j,K,Y,Q,G);else break;W++}for(;W<=Z&&W<=ce;){const oe=A[Z],fe=N[ce]=G?Ar(N[ce]):Kt(N[ce]);if(_n(oe,fe))R(oe,fe,M,null,j,K,Y,Q,G);else break;Z--,ce--}if(W>Z){if(W<=ce){const oe=ce+1,fe=oe<le?N[oe].el:H;for(;W<=ce;)R(null,N[W]=G?Ar(N[W]):Kt(N[W]),M,fe,j,K,Y,Q,G),W++}}else if(W>ce)for(;W<=Z;)Ye(A[W],j,K,!0),W++;else{const oe=W,fe=W,Me=new Map;for(W=fe;W<=ce;W++){const Dt=N[W]=G?Ar(N[W]):Kt(N[W]);Dt.key!=null&&Me.set(Dt.key,W)}let xe,Tt=0;const ht=ce-fe+1;let mt=!1,wt=0;const fr=new Array(ht);for(W=0;W<ht;W++)fr[W]=0;for(W=oe;W<=Z;W++){const Dt=A[W];if(Tt>=ht){Ye(Dt,j,K,!0);continue}let on;if(Dt.key!=null)on=Me.get(Dt.key);else for(xe=fe;xe<=ce;xe++)if(fr[xe-fe]===0&&_n(Dt,N[xe])){on=xe;break}on===void 0?Ye(Dt,j,K,!0):(fr[on-fe]=W+1,on>=wt?wt=on:mt=!0,R(Dt,N[on],M,null,j,K,Y,Q,G),Tt++)}const xs=mt?nS(fr):Xs;for(xe=xs.length-1,W=ht-1;W>=0;W--){const Dt=fe+W,on=N[Dt],Ds=Dt+1<le?N[Dt+1].el:H;fr[W]===0?R(null,on,M,Ds,j,K,Y,Q,G):mt&&(xe<0||W!==xs[xe]?sn(on,M,Ds,2):xe--)}}},sn=(A,N,M,H,j=null)=>{const{el:K,type:Y,transition:Q,children:G,shapeFlag:W}=A;if(W&6){sn(A.component.subTree,N,M,H);return}if(W&128){A.suspense.move(N,M,H);return}if(W&64){Y.move(A,N,M,re);return}if(Y===Ue){r(K,N,M);for(let Z=0;Z<G.length;Z++)sn(G[Z],N,M,H);r(A.anchor,N,M);return}if(Y===fs){_(A,N,M);return}if(H!==2&&W&1&&Q)if(H===0)Q.beforeEnter(K),r(K,N,M),ft(()=>Q.enter(K),j);else{const{leave:Z,delayLeave:ce,afterLeave:oe}=Q,fe=()=>r(K,N,M),Me=()=>{Z(K,()=>{fe(),oe&&oe()})};ce?ce(K,fe,Me):Me()}else r(K,N,M)},Ye=(A,N,M,H=!1,j=!1)=>{const{type:K,props:Y,ref:Q,children:G,dynamicChildren:W,shapeFlag:le,patchFlag:Z,dirs:ce,cacheIndex:oe}=A;if(Z===-2&&(j=!1),Q!=null&&Cc(Q,null,M,A,!0),oe!=null&&(N.renderCache[oe]=void 0),le&256){N.ctx.deactivate(A);return}const fe=le&1&&ce,Me=!Dr(A);let xe;if(Me&&(xe=Y&&Y.onVnodeBeforeUnmount)&&Bt(xe,N,A),le&6)Cn(A.component,M,H);else{if(le&128){A.suspense.unmount(M,H);return}fe&&Nn(A,null,N,"beforeUnmount"),le&64?A.type.remove(A,N,M,re,H):W&&!W.hasOnce&&(K!==Ue||Z>0&&Z&64)?$t(W,N,M,!1,!0):(K===Ue&&Z&384||!j&&le&16)&&$t(G,N,M),H&&Xe(A)}(Me&&(xe=Y&&Y.onVnodeUnmounted)||fe)&&ft(()=>{xe&&Bt(xe,N,A),fe&&Nn(A,null,N,"unmounted")},M)},Xe=A=>{const{type:N,el:M,anchor:H,transition:j}=A;if(N===Ue){hr(M,H);return}if(N===fs){O(A);return}const K=()=>{s(M),j&&!j.persisted&&j.afterLeave&&j.afterLeave()};if(A.shapeFlag&1&&j&&!j.persisted){const{leave:Y,delayLeave:Q}=j,G=()=>Y(M,K);Q?Q(A.el,K,G):G()}else K()},hr=(A,N)=>{let M;for(;A!==N;)M=p(A),s(A),A=M;s(N)},Cn=(A,N,M)=>{const{bum:H,scope:j,job:K,subTree:Y,um:Q,m:G,a:W}=A;Oc(G),Oc(W),H&&ti(H),j.stop(),K&&(K.flags|=8,Ye(Y,A,N,M)),Q&&ft(Q,N),ft(()=>{A.isUnmounted=!0},N),N&&N.pendingBranch&&!N.isUnmounted&&A.asyncDep&&!A.asyncResolved&&A.suspenseId===N.pendingId&&(N.deps--,N.deps===0&&N.resolve())},$t=(A,N,M,H=!1,j=!1,K=0)=>{for(let Y=K;Y<A.length;Y++)Ye(A[Y],N,M,H,j)},$=A=>{if(A.shapeFlag&6)return $(A.component.subTree);if(A.shapeFlag&128)return A.suspense.next();const N=p(A.anchor||A.el),M=N&&N[Vy];return M?p(M):N};let ee=!1;const X=(A,N,M)=>{A==null?N._vnode&&Ye(N._vnode,null,null,!0):R(N._vnode||null,A,N,null,null,null,M),N._vnode=A,ee||(ee=!0,dm(),Rc(),ee=!1)},re={p:R,um:Ye,m:sn,r:Xe,mt:ge,mc:T,pc:te,pbc:w,n:$,o:t};let Ce,je;return e&&([Ce,je]=e(re)),{render:X,hydrate:Ce,createApp:GA(X,Ce)}}function Su({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function ns({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function fv(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function qf(t,e,n=!1){const r=t.children,s=e.children;if(ie(r)&&ie(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=Ar(s[i]),a.el=o.el),!n&&a.patchFlag!==-2&&qf(o,a)),a.type===Vr&&(a.el=o.el)}}function nS(t){const e=t.slice(),n=[0];let r,s,i,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(s=n[n.length-1],t[s]<u){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<u?i=a+1:o=a;u<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function dv(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:dv(e)}function Oc(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const pv=Symbol.for("v-scx"),mv=()=>zt(pv);function rS(t,e){return ra(t,null,e)}function gv(t,e){return ra(t,null,{flush:"post"})}function _v(t,e){return ra(t,null,{flush:"sync"})}function rt(t,e,n){return ra(t,e,n)}function ra(t,e,n=Oe){const{immediate:r,deep:s,flush:i,once:o}=n,a=We({},n);let l;if(sa)if(i==="sync"){const p=mv();l=p.__watcherHandles||(p.__watcherHandles=[])}else if(!e||r)a.once=!0;else return{stop:En,resume:En,pause:En};const u=ot;a.call=(p,g,E)=>dn(p,u,g,E);let h=!1;i==="post"?a.scheduler=p=>{ft(p,u&&u.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(p,g)=>{g?p():xf(p)}),a.augmentJob=p=>{e&&(p.flags|=4),h&&(p.flags|=2,u&&(p.id=u.uid,p.i=u))};const f=WI(t,e,a);return l&&l.push(f),f}function sS(t,e,n){const r=this.proxy,s=ze(t)?t.includes(".")?yv(r,t):()=>r[t]:t.bind(r,r);let i;pe(e)?i=e:(i=e.handler,n=e);const o=_s(this),a=ra(s,i.bind(r),n);return o(),a}function yv(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function iS(t,e,n=Oe){const r=Jt(),s=Ot(e),i=Wt(e),o=vv(t,e),a=Ry((l,u)=>{let h,f=Oe,p;return _v(()=>{const g=t[e];Ft(h,g)&&(h=g,u())}),{get(){return l(),n.get?n.get(h):h},set(g){const E=n.set?n.set(g):g;if(!Ft(E,h)&&!(f!==Oe&&Ft(g,f)))return;const R=r.vnode.props;R&&(e in R||s in R||i in R)&&(`onUpdate:${e}`in R||`onUpdate:${s}`in R||`onUpdate:${i}`in R)||(h=g,u()),r.emit(`update:${e}`,E),Ft(g,E)&&Ft(g,f)&&!Ft(E,p)&&u(),f=g,p=E}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||Oe:a,done:!1}:{done:!0}}}},a}const vv=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Ot(e)}Modifiers`]||t[`${Wt(e)}Modifiers`];function oS(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Oe;let s=n;const i=e.startsWith("update:"),o=i&&vv(r,e.slice(7));o&&(o.trim&&(s=n.map(h=>ze(h)?h.trim():h)),o.number&&(s=n.map(wc)));let a,l=r[a=uo(e)]||r[a=uo(Ot(e))];!l&&i&&(l=r[a=uo(Wt(e))]),l&&dn(l,t,6,s);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,dn(u,t,6,s)}}function Ev(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!pe(t)){const l=u=>{const h=Ev(u,e,!0);h&&(a=!0,We(o,h))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?($e(t)&&r.set(t,null),null):(ie(i)?i.forEach(l=>o[l]=null):We(o,i),$e(t)&&r.set(t,o),o)}function Sl(t,e){return!t||!Xo(e)?!1:(e=e.slice(2).replace(/Once$/,""),Le(t,e[0].toLowerCase()+e.slice(1))||Le(t,Wt(e))||Le(t,e))}function oc(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:h,props:f,data:p,setupState:g,ctx:E,inheritAttrs:R}=t,S=Do(t);let x,P;try{if(n.shapeFlag&4){const O=s||r,D=O;x=Kt(u.call(D,O,h,f,g,p,E)),P=a}else{const O=e;x=Kt(O.length>1?O(f,{attrs:a,slots:o,emit:l}):O(f,null)),P=e.props?a:cS(a)}}catch(O){go.length=0,Ss(O,t,1),x=ke(it)}let _=x;if(P&&R!==!1){const O=Object.keys(P),{shapeFlag:D}=_;O.length&&D&7&&(i&&O.some(_f)&&(P=lS(P,i)),_=$n(_,P,!1,!0))}return n.dirs&&(_=$n(_,null,!1,!0),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&sr(_,n.transition),x=_,Do(S),x}function aS(t,e=!0){let n;for(let r=0;r<t.length;r++){const s=t[r];if(Br(s)){if(s.type!==it||s.children==="v-if"){if(n)return;n=s}}else return}return n}const cS=t=>{let e;for(const n in t)(n==="class"||n==="style"||Xo(n))&&((e||(e={}))[n]=t[n]);return e},lS=(t,e)=>{const n={};for(const r in t)(!_f(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function uS(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Im(r,o,u):!!o;if(l&8){const h=e.dynamicProps;for(let f=0;f<h.length;f++){const p=h[f];if(o[p]!==r[p]&&!Sl(u,p))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Im(r,o,u):!0:!!o;return!1}function Im(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!Sl(n,i))return!0}return!1}function Kf({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const kc=t=>t.__isSuspense;let dh=0;const hS={name:"Suspense",__isSuspense:!0,process(t,e,n,r,s,i,o,a,l,u){if(t==null)dS(e,n,r,s,i,o,a,l,u);else{if(i&&i.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}pS(t,e,n,r,s,o,a,l,u)}},hydrate:mS,normalize:gS},fS=hS;function Mo(t,e){const n=t.props&&t.props[e];pe(n)&&n()}function dS(t,e,n,r,s,i,o,a,l){const{p:u,o:{createElement:h}}=l,f=h("div"),p=t.suspense=Tv(t,s,r,e,f,n,i,o,a,l);u(null,p.pendingBranch=t.ssContent,f,null,r,p,i,o),p.deps>0?(Mo(t,"onPending"),Mo(t,"onFallback"),u(null,t.ssFallback,e,n,r,null,i,o),ri(p,t.ssFallback)):p.resolve(!1,!0)}function pS(t,e,n,r,s,i,o,a,{p:l,um:u,o:{createElement:h}}){const f=e.suspense=t.suspense;f.vnode=e,e.el=t.el;const p=e.ssContent,g=e.ssFallback,{activeBranch:E,pendingBranch:R,isInFallback:S,isHydrating:x}=f;if(R)f.pendingBranch=p,_n(p,R)?(l(R,p,f.hiddenContainer,null,s,f,i,o,a),f.deps<=0?f.resolve():S&&(x||(l(E,g,n,r,s,null,i,o,a),ri(f,g)))):(f.pendingId=dh++,x?(f.isHydrating=!1,f.activeBranch=R):u(R,s,f),f.deps=0,f.effects.length=0,f.hiddenContainer=h("div"),S?(l(null,p,f.hiddenContainer,null,s,f,i,o,a),f.deps<=0?f.resolve():(l(E,g,n,r,s,null,i,o,a),ri(f,g))):E&&_n(p,E)?(l(E,p,n,r,s,f,i,o,a),f.resolve(!0)):(l(null,p,f.hiddenContainer,null,s,f,i,o,a),f.deps<=0&&f.resolve()));else if(E&&_n(p,E))l(E,p,n,r,s,f,i,o,a),ri(f,p);else if(Mo(e,"onPending"),f.pendingBranch=p,p.shapeFlag&512?f.pendingId=p.component.suspenseId:f.pendingId=dh++,l(null,p,f.hiddenContainer,null,s,f,i,o,a),f.deps<=0)f.resolve();else{const{timeout:P,pendingId:_}=f;P>0?setTimeout(()=>{f.pendingId===_&&f.fallback(g)},P):P===0&&f.fallback(g)}}function Tv(t,e,n,r,s,i,o,a,l,u,h=!1){const{p:f,m:p,um:g,n:E,o:{parentNode:R,remove:S}}=u;let x;const P=_S(t);P&&e&&e.pendingBranch&&(x=e.pendingId,e.deps++);const _=t.props?bc(t.props.timeout):void 0,O=i,D={vnode:t,parent:e,parentComponent:n,namespace:o,container:r,hiddenContainer:s,deps:0,pendingId:dh++,timeout:typeof _=="number"?_:-1,activeBranch:null,pendingBranch:null,isInFallback:!h,isHydrating:h,isUnmounted:!1,effects:[],resolve(L=!1,b=!1){const{vnode:T,activeBranch:y,pendingBranch:w,pendingId:k,effects:C,parentComponent:I,container:ge}=D;let Ie=!1;D.isHydrating?D.isHydrating=!1:L||(Ie=y&&w.transition&&w.transition.mode==="out-in",Ie&&(y.transition.afterLeave=()=>{k===D.pendingId&&(p(w,ge,i===O?E(y):i,0),Sc(C))}),y&&(R(y.el)===ge&&(i=E(y)),g(y,I,D,!0)),Ie||p(w,ge,i,0)),ri(D,w),D.pendingBranch=null,D.isInFallback=!1;let ne=D.parent,me=!1;for(;ne;){if(ne.pendingBranch){ne.effects.push(...C),me=!0;break}ne=ne.parent}!me&&!Ie&&Sc(C),D.effects=[],P&&e&&e.pendingBranch&&x===e.pendingId&&(e.deps--,e.deps===0&&!b&&e.resolve()),Mo(T,"onResolve")},fallback(L){if(!D.pendingBranch)return;const{vnode:b,activeBranch:T,parentComponent:y,container:w,namespace:k}=D;Mo(b,"onFallback");const C=E(T),I=()=>{D.isInFallback&&(f(null,L,w,C,y,null,k,a,l),ri(D,L))},ge=L.transition&&L.transition.mode==="out-in";ge&&(T.transition.afterLeave=I),D.isInFallback=!0,g(T,y,null,!0),ge||I()},move(L,b,T){D.activeBranch&&p(D.activeBranch,L,b,T),D.container=L},next(){return D.activeBranch&&E(D.activeBranch)},registerDep(L,b,T){const y=!!D.pendingBranch;y&&D.deps++;const w=L.vnode.el;L.asyncDep.catch(k=>{Ss(k,L,0)}).then(k=>{if(L.isUnmounted||D.isUnmounted||D.pendingId!==L.suspenseId)return;L.asyncResolved=!0;const{vnode:C}=L;_h(L,k,!1),w&&(C.el=w);const I=!w&&L.subTree.el;b(L,C,R(w||L.subTree.el),w?null:E(L.subTree),D,o,T),I&&S(I),Kf(L,C.el),y&&--D.deps===0&&D.resolve()})},unmount(L,b){D.isUnmounted=!0,D.activeBranch&&g(D.activeBranch,n,L,b),D.pendingBranch&&g(D.pendingBranch,n,L,b)}};return D}function mS(t,e,n,r,s,i,o,a,l){const u=e.suspense=Tv(e,r,n,t.parentNode,document.createElement("div"),null,s,i,o,a,!0),h=l(t,u.pendingBranch=e.ssContent,n,u,i,o);return u.deps===0&&u.resolve(!1,!0),h}function gS(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=Am(r?n.default:n),t.ssFallback=r?Am(n.fallback):ke(it)}function Am(t){let e;if(pe(t)){const n=gs&&t._c;n&&(t._d=!1,se()),t=t(),n&&(t._d=!0,e=Pt,bv())}return ie(t)&&(t=aS(t)),t=Kt(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function wv(t,e){e&&e.pendingBranch?ie(t)?e.effects.push(...t):e.effects.push(t):Sc(t)}function ri(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let s=e.el;for(;!s&&e.component;)e=e.component.subTree,s=e.el;n.el=s,r&&r.subTree===n&&(r.vnode.el=s,Kf(r,s))}function _S(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const Ue=Symbol.for("v-fgt"),Vr=Symbol.for("v-txt"),it=Symbol.for("v-cmt"),fs=Symbol.for("v-stc"),go=[];let Pt=null;function se(t=!1){go.push(Pt=t?null:[])}function bv(){go.pop(),Pt=go[go.length-1]||null}let gs=1;function ph(t){gs+=t,t<0&&Pt&&(Pt.hasOnce=!0)}function Iv(t){return t.dynamicChildren=gs>0?Pt||Xs:null,bv(),gs>0&&Pt&&Pt.push(t),t}function de(t,e,n,r,s,i){return Iv(B(t,e,n,r,s,i,!0))}function tn(t,e,n,r,s){return Iv(ke(t,e,n,r,s,!0))}function Br(t){return t?t.__v_isVNode===!0:!1}function _n(t,e){return t.type===e.type&&t.key===e.key}function yS(t){}const Av=({key:t})=>t??null,ac=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?ze(t)||lt(t)||pe(t)?{i:ct,r:t,k:e,f:!!n}:t:null);function B(t,e=null,n=null,r=0,s=null,i=t===Ue?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Av(e),ref:e&&ac(e),scopeId:El,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:ct};return a?(Wf(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=ze(n)?8:16),gs>0&&!o&&Pt&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Pt.push(l),l}const ke=vS;function vS(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===Jy)&&(t=it),Br(t)){const a=$n(t,e,!0);return n&&Wf(a,n),gs>0&&!i&&Pt&&(a.shapeFlag&6?Pt[Pt.indexOf(t)]=a:Pt.push(a)),a.patchFlag=-2,a}if(SS(t)&&(t=t.__vccOpts),e){e=Sv(e);let{class:a,style:l}=e;a&&!ze(a)&&(e.class=jn(a)),$e(l)&&(vl(l)&&!ie(l)&&(l=We({},l)),e.style=ea(l))}const o=ze(t)?1:kc(t)?128:My(t)?64:$e(t)?4:pe(t)?2:0;return B(t,e,n,r,s,o,i,!0)}function Sv(t){return t?vl(t)||nv(t)?We({},t):t:null}function $n(t,e,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?Cv(s||{},e):s,h={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Av(u),ref:e&&e.ref?n&&i?ie(i)?i.concat(ac(e)):[i,ac(e)]:ac(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ue?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&$n(t.ssContent),ssFallback:t.ssFallback&&$n(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&sr(h,l.clone(h)),h}function qt(t=" ",e=0){return ke(Vr,null,t,e)}function Rv(t,e){const n=ke(fs,null,t);return n.staticCount=e,n}function pt(t="",e=!1){return e?(se(),tn(it,null,t)):ke(it,null,t)}function Kt(t){return t==null||typeof t=="boolean"?ke(it):ie(t)?ke(Ue,null,t.slice()):typeof t=="object"?Ar(t):ke(Vr,null,String(t))}function Ar(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:$n(t)}function Wf(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(ie(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),Wf(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!nv(e)?e._ctx=ct:s===3&&ct&&(ct.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else pe(e)?(e={default:e,_ctx:ct},n=32):(e=String(e),r&64?(n=16,e=[qt(e)]):n=8);t.children=e,t.shapeFlag|=n}function Cv(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=jn([e.class,r.class]));else if(s==="style")e.style=ea([e.style,r.style]);else if(Xo(s)){const i=e[s],o=r[s];o&&i!==o&&!(ie(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function Bt(t,e,n,r=null){dn(t,e,7,[n,r])}const ES=Zy();let TS=0;function Pv(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||ES,i={uid:TS++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Tf(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:sv(r,s),emitsOptions:Ev(r,s),emit:null,emitted:null,propsDefaults:Oe,inheritAttrs:r.inheritAttrs,ctx:Oe,data:Oe,props:Oe,attrs:Oe,slots:Oe,refs:Oe,setupState:Oe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=oS.bind(null,i),t.ce&&t.ce(i),i}let ot=null;const Jt=()=>ot||ct;let Nc,mh;{const t=iy(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};Nc=e("__VUE_INSTANCE_SETTERS__",n=>ot=n),mh=e("__VUE_SSR_SETTERS__",n=>sa=n)}const _s=t=>{const e=ot;return Nc(t),t.scope.on(),()=>{t.scope.off(),Nc(e)}},gh=()=>{ot&&ot.scope.off(),Nc(null)};function Ov(t){return t.vnode.shapeFlag&4}let sa=!1;function kv(t,e=!1,n=!1){e&&mh(e);const{props:r,children:s}=t.vnode,i=Ov(t);JA(t,r,i,e),eS(t,s,n);const o=i?wS(t,e):void 0;return e&&mh(!1),o}function wS(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,lh);const{setup:r}=n;if(r){const s=t.setupContext=r.length>1?xv(t):null,i=_s(t);zr();const o=Si(r,t,0,[t.props,s]);if(Gr(),i(),vf(o)){if(Dr(t)||Mf(t),o.then(gh,gh),e)return o.then(a=>{_h(t,a,e)}).catch(a=>{Ss(a,t,0)});t.asyncDep=o}else _h(t,o,e)}else Nv(t,e)}function _h(t,e,n){pe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:$e(e)&&(t.setupState=kf(e)),Nv(t,n)}let xc,yh;function bS(t){xc=t,yh=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,PA))}}const IS=()=>!xc;function Nv(t,e,n){const r=t.type;if(!t.render){if(!e&&xc&&!r.render){const s=r.template||Bf(t).template;if(s){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=We(We({isCustomElement:i,delimiters:a},o),l);r.render=xc(s,u)}}t.render=r.render||En,yh&&yh(t)}{const s=_s(t);zr();try{BA(t)}finally{Gr(),s()}}}const AS={get(t,e){return Nt(t,"get",""),t[e]}};function xv(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,AS),slots:t.slots,emit:t.emit,expose:e}}function ia(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(kf(Ay(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in po)return po[n](t)},has(e,n){return n in e||n in po}})):t.proxy}function vh(t,e=!0){return pe(t)?t.displayName||t.name:t.name||e&&t.__name}function SS(t){return pe(t)&&"__vccOpts"in t}const Ae=(t,e)=>BI(t,e,sa);function Ri(t,e,n){const r=arguments.length;return r===2?$e(e)&&!ie(e)?Br(e)?ke(t,null,[e]):ke(t,e):ke(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Br(n)&&(n=[n]),ke(t,e,n))}function RS(){}function CS(t,e,n,r){const s=n[r];if(s&&Dv(s,t))return s;const i=e();return i.memo=t.slice(),i.cacheIndex=r,n[r]=i}function Dv(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(Ft(n[r],e[r]))return!1;return gs>0&&Pt&&Pt.push(t),!0}const Vv="3.5.5",PS=En,OS=YI,kS=Ks,NS=Dy,xS={createComponentInstance:Pv,setupComponent:kv,renderComponentRoot:oc,setCurrentRenderingInstance:Do,isVNode:Br,normalizeVNode:Kt,getComponentPublicInstance:ia,ensureValidVNode:jf,pushWarningContext:zI,popWarningContext:GI},DS=xS,VS=null,MS=null,LS=null;/**
* @vue/runtime-dom v3.5.5
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Eh;const Sm=typeof window<"u"&&window.trustedTypes;if(Sm)try{Eh=Sm.createPolicy("vue",{createHTML:t=>t})}catch{}const Mv=Eh?t=>Eh.createHTML(t):t=>t,FS="http://www.w3.org/2000/svg",US="http://www.w3.org/1998/Math/MathML",Jn=typeof document<"u"?document:null,Rm=Jn&&Jn.createElement("template"),jS={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?Jn.createElementNS(FS,t):e==="mathml"?Jn.createElementNS(US,t):n?Jn.createElement(t,{is:n}):Jn.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>Jn.createTextNode(t),createComment:t=>Jn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Jn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{Rm.innerHTML=Mv(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Rm.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},_r="transition",Xi="animation",hi=Symbol("_vtc"),Lv={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Fv=We({},Vf,Lv),$S=t=>(t.displayName="Transition",t.props=Fv,t),zf=$S((t,{slots:e})=>Ri(jy,Uv(t),e)),rs=(t,e=[])=>{ie(t)?t.forEach(n=>n(...e)):t&&t(...e)},Cm=t=>t?ie(t)?t.some(e=>e.length>1):t.length>1:!1;function Uv(t){const e={};for(const C in t)C in Lv||(e[C]=t[C]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:u=o,appearToClass:h=a,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:g=`${n}-leave-to`}=t,E=BS(s),R=E&&E[0],S=E&&E[1],{onBeforeEnter:x,onEnter:P,onEnterCancelled:_,onLeave:O,onLeaveCancelled:D,onBeforeAppear:L=x,onAppear:b=P,onAppearCancelled:T=_}=e,y=(C,I,ge)=>{Tr(C,I?h:a),Tr(C,I?u:o),ge&&ge()},w=(C,I)=>{C._isLeaving=!1,Tr(C,f),Tr(C,g),Tr(C,p),I&&I()},k=C=>(I,ge)=>{const Ie=C?b:P,ne=()=>y(I,C,ge);rs(Ie,[I,ne]),Pm(()=>{Tr(I,C?l:i),Qn(I,C?h:a),Cm(Ie)||Om(I,r,R,ne)})};return We(e,{onBeforeEnter(C){rs(x,[C]),Qn(C,i),Qn(C,o)},onBeforeAppear(C){rs(L,[C]),Qn(C,l),Qn(C,u)},onEnter:k(!1),onAppear:k(!0),onLeave(C,I){C._isLeaving=!0;const ge=()=>w(C,I);Qn(C,f),Qn(C,p),$v(),Pm(()=>{C._isLeaving&&(Tr(C,f),Qn(C,g),Cm(O)||Om(C,r,S,ge))}),rs(O,[C,ge])},onEnterCancelled(C){y(C,!1),rs(_,[C])},onAppearCancelled(C){y(C,!0),rs(T,[C])},onLeaveCancelled(C){w(C),rs(D,[C])}})}function BS(t){if(t==null)return null;if($e(t))return[Ru(t.enter),Ru(t.leave)];{const e=Ru(t);return[e,e]}}function Ru(t){return bc(t)}function Qn(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[hi]||(t[hi]=new Set)).add(e)}function Tr(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[hi];n&&(n.delete(e),n.size||(t[hi]=void 0))}function Pm(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let HS=0;function Om(t,e,n,r){const s=t._endId=++HS,i=()=>{s===t._endId&&r()};if(n)return setTimeout(i,n);const{type:o,timeout:a,propCount:l}=jv(t,e);if(!o)return r();const u=o+"end";let h=0;const f=()=>{t.removeEventListener(u,p),i()},p=g=>{g.target===t&&++h>=l&&f()};setTimeout(()=>{h<l&&f()},a+1),t.addEventListener(u,p)}function jv(t,e){const n=window.getComputedStyle(t),r=E=>(n[E]||"").split(", "),s=r(`${_r}Delay`),i=r(`${_r}Duration`),o=km(s,i),a=r(`${Xi}Delay`),l=r(`${Xi}Duration`),u=km(a,l);let h=null,f=0,p=0;e===_r?o>0&&(h=_r,f=o,p=i.length):e===Xi?u>0&&(h=Xi,f=u,p=l.length):(f=Math.max(o,u),h=f>0?o>u?_r:Xi:null,p=h?h===_r?i.length:l.length:0);const g=h===_r&&/\b(transform|all)(,|$)/.test(r(`${_r}Property`).toString());return{type:h,timeout:f,propCount:p,hasTransform:g}}function km(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>Nm(n)+Nm(t[r])))}function Nm(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function $v(){return document.body.offsetHeight}function qS(t,e,n){const r=t[hi];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Dc=Symbol("_vod"),Bv=Symbol("_vsh"),Gf={beforeMount(t,{value:e},{transition:n}){t[Dc]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Zi(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Zi(t,!0),r.enter(t)):r.leave(t,()=>{Zi(t,!1)}):Zi(t,e))},beforeUnmount(t,{value:e}){Zi(t,e)}};function Zi(t,e){t.style.display=e?t[Dc]:"none",t[Bv]=!e}function KS(){Gf.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const Hv=Symbol("");function WS(t){const e=Jt();if(!e)return;const n=e.ut=(s=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(i=>Vc(i,s))},r=()=>{const s=t(e.proxy);e.ce?Vc(e.ce,s):Th(e.subTree,s),n(s)};Lf(()=>{gv(r)}),pn(()=>{const s=new MutationObserver(r);s.observe(e.subTree.el.parentNode,{childList:!0}),Qr(()=>s.disconnect())})}function Th(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Th(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Vc(t.el,e);else if(t.type===Ue)t.children.forEach(n=>Th(n,e));else if(t.type===fs){let{el:n,anchor:r}=t;for(;n&&(Vc(n,e),n!==r);)n=n.nextSibling}}function Vc(t,e){if(t.nodeType===1){const n=t.style;let r="";for(const s in e)n.setProperty(`--${s}`,e[s]),r+=`--${s}: ${e[s]};`;n[Hv]=r}}const zS=/(^|;)\s*display\s*:/;function GS(t,e,n){const r=t.style,s=ze(n);let i=!1;if(n&&!s){if(e)if(ze(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&cc(r,a,"")}else for(const o in e)n[o]==null&&cc(r,o,"");for(const o in n)o==="display"&&(i=!0),cc(r,o,n[o])}else if(s){if(e!==n){const o=r[Hv];o&&(n+=";"+o),r.cssText=n,i=zS.test(n)}}else e&&t.removeAttribute("style");Dc in t&&(t[Dc]=i?r.display:"",t[Bv]&&(r.display="none"))}const xm=/\s*!important$/;function cc(t,e,n){if(ie(n))n.forEach(r=>cc(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=QS(t,e);xm.test(n)?t.setProperty(Wt(r),n.replace(xm,""),"important"):t[r]=n}}const Dm=["Webkit","Moz","ms"],Cu={};function QS(t,e){const n=Cu[e];if(n)return n;let r=Ot(e);if(r!=="filter"&&r in t)return Cu[e]=r;r=Zo(r);for(let s=0;s<Dm.length;s++){const i=Dm[s]+r;if(i in t)return Cu[e]=i}return e}const Vm="http://www.w3.org/1999/xlink";function Mm(t,e,n,r,s,i=iI(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Vm,e.slice(6,e.length)):t.setAttributeNS(Vm,e,n):n==null||i&&!oy(n)?t.removeAttribute(e):t.setAttribute(e,i?"":Un(n)?String(n):n)}function JS(t,e,n,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Mv(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const o=s==="OPTION"?t.getAttribute("value")||"":t.value,a=n==null?t.type==="checkbox"?"on":"":String(n);(o!==a||!("_value"in t))&&(t.value=a),n==null&&t.removeAttribute(e),t._value=n;return}let i=!1;if(n===""||n==null){const o=typeof t[e];o==="boolean"?n=oy(n):n==null&&o==="string"?(n="",i=!0):o==="number"&&(n=0,i=!0)}try{t[e]=n}catch{}i&&t.removeAttribute(e)}function Xn(t,e,n,r){t.addEventListener(e,n,r)}function YS(t,e,n,r){t.removeEventListener(e,n,r)}const Lm=Symbol("_vei");function XS(t,e,n,r,s=null){const i=t[Lm]||(t[Lm]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=ZS(e);if(r){const u=i[e]=nR(r,s);Xn(t,a,u,l)}else o&&(YS(t,a,o,l),i[e]=void 0)}}const Fm=/(?:Once|Passive|Capture)$/;function ZS(t){let e;if(Fm.test(t)){e={};let r;for(;r=t.match(Fm);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Wt(t.slice(2)),e]}let Pu=0;const eR=Promise.resolve(),tR=()=>Pu||(eR.then(()=>Pu=0),Pu=Date.now());function nR(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;dn(rR(r,n.value),e,5,[r])};return n.value=t,n.attached=tR(),n}function rR(t,e){if(ie(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const Um=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,sR=(t,e,n,r,s,i)=>{const o=s==="svg";e==="class"?qS(t,r,o):e==="style"?GS(t,n,r):Xo(e)?_f(e)||XS(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):iR(t,e,r,o))?(JS(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Mm(t,e,r,o,i,e!=="value")):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Mm(t,e,r,o))};function iR(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Um(e)&&pe(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Um(e)&&ze(n)?!1:!!(e in t||t._isVueCE&&(/[A-Z]/.test(e)||!ze(n)))}const jm={};/*! #__NO_SIDE_EFFECTS__ */function qv(t,e,n){const r=Rs(t,e);hl(r)&&We(r,e);class s extends Rl{constructor(o){super(r,o,n)}}return s.def=r,s}/*! #__NO_SIDE_EFFECTS__ */const oR=(t,e)=>qv(t,e,tE),aR=typeof HTMLElement<"u"?HTMLElement:class{};class Rl extends aR{constructor(e,n={},r=Fc){super(),this._def=e,this._props=n,this._createApp=r,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&r!==Fc?this._root=this.shadowRoot:e.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof Rl){this._parent=e;break}this._instance||(this._resolved?(this._setParent(),this._update()):e&&e._pendingResolve?this._pendingResolve=e._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._instance.provides=e._instance.provides)}disconnectedCallback(){this._connected=!1,ta(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const s of r)this._setAttr(s.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(r,s=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:i,styles:o}=r;let a;if(i&&!ie(i))for(const l in i){const u=i[l];(u===Number||u&&u.type===Number)&&(l in this._props&&(this._props[l]=bc(this._props[l])),(a||(a=Object.create(null)))[Ot(l)]=!0)}this._numberProps=a,s&&this._resolveProps(r),this.shadowRoot&&this._applyStyles(o),this._mount(r)},n=this._def.__asyncLoader;n?this._pendingResolve=n().then(r=>e(this._def=r,!0)):e(this._def)}_mount(e){this._app=this._createApp(e),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const n=this._instance&&this._instance.exposed;if(n)for(const r in n)Le(this,r)||Object.defineProperty(this,r,{get:()=>kt(n[r])})}_resolveProps(e){const{props:n}=e,r=ie(n)?n:Object.keys(n||{});for(const s of Object.keys(this))s[0]!=="_"&&r.includes(s)&&this._setProp(s,this[s]);for(const s of r.map(Ot))Object.defineProperty(this,s,{get(){return this._getProp(s)},set(i){this._setProp(s,i,!0,!0)}})}_setAttr(e){if(e.startsWith("data-v-"))return;const n=this.hasAttribute(e);let r=n?this.getAttribute(e):jm;const s=Ot(e);n&&this._numberProps&&this._numberProps[s]&&(r=bc(r)),this._setProp(s,r,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,n,r=!0,s=!1){n!==this._props[e]&&(n===jm?delete this._props[e]:(this._props[e]=n,e==="key"&&this._app&&(this._app._ceVNode.key=n)),s&&this._instance&&this._update(),r&&(n===!0?this.setAttribute(Wt(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(Wt(e),n+""):n||this.removeAttribute(Wt(e))))}_update(){eE(this._createVNode(),this._root)}_createVNode(){const e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));const n=ke(this._def,We(e,this._props));return this._instance||(n.ce=r=>{this._instance=r,r.ce=this,r.isCE=!0;const s=(i,o)=>{this.dispatchEvent(new CustomEvent(i,hl(o[0])?We({detail:o},o[0]):{detail:o}))};r.emit=(i,...o)=>{s(i,o),Wt(i)!==i&&s(Wt(i),o)},this._setParent()}),n}_applyStyles(e,n){if(!e)return;if(n){if(n===this._def||this._styleChildren.has(n))return;this._styleChildren.add(n)}const r=this._nonce;for(let s=e.length-1;s>=0;s--){const i=document.createElement("style");r&&i.setAttribute("nonce",r),i.textContent=e[s],this.shadowRoot.prepend(i)}}_parseSlots(){const e=this._slots={};let n;for(;n=this.firstChild;){const r=n.nodeType===1&&n.getAttribute("slot")||"default";(e[r]||(e[r]=[])).push(n),this.removeChild(n)}}_renderSlots(){const e=(this._teleportTarget||this).querySelectorAll("slot"),n=this._instance.type.__scopeId;for(let r=0;r<e.length;r++){const s=e[r],i=s.getAttribute("name")||"default",o=this._slots[i],a=s.parentNode;if(o)for(const l of o){if(n&&l.nodeType===1){const u=n+"-s",h=document.createTreeWalker(l,1);l.setAttribute(u,"");let f;for(;f=h.nextNode();)f.setAttribute(u,"")}a.insertBefore(l,s)}else for(;s.firstChild;)a.insertBefore(s.firstChild,s);a.removeChild(s)}}_injectChildStyle(e){this._applyStyles(e.styles,e)}_removeChildStyle(e){}}function Kv(t){const e=Jt(),n=e&&e.ce;return n||null}function cR(){const t=Kv();return t&&t.shadowRoot}function lR(t="$style"){{const e=Jt();if(!e)return Oe;const n=e.type.__cssModules;if(!n)return Oe;const r=n[t];return r||Oe}}const Wv=new WeakMap,zv=new WeakMap,Mc=Symbol("_moveCb"),$m=Symbol("_enterCb"),uR=t=>(delete t.props.mode,t),hR=uR({name:"TransitionGroup",props:We({},Fv,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Jt(),r=Df();let s,i;return bl(()=>{if(!s.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!gR(s[0].el,n.vnode.el,o))return;s.forEach(dR),s.forEach(pR);const a=s.filter(mR);$v(),a.forEach(l=>{const u=l.el,h=u.style;Qn(u,o),h.transform=h.webkitTransform=h.transitionDuration="";const f=u[Mc]=p=>{p&&p.target!==u||(!p||/transform$/.test(p.propertyName))&&(u.removeEventListener("transitionend",f),u[Mc]=null,Tr(u,o))};u.addEventListener("transitionend",f)})}),()=>{const o=Re(t),a=Uv(o);let l=o.tag||Ue;if(s=[],i)for(let u=0;u<i.length;u++){const h=i[u];h.el&&h.el instanceof Element&&(s.push(h),sr(h,ui(h,a,r,n)),Wv.set(h,h.el.getBoundingClientRect()))}i=e.default?Tl(e.default()):[];for(let u=0;u<i.length;u++){const h=i[u];h.key!=null&&sr(h,ui(h,a,r,n))}return ke(l,null,i)}}}),fR=hR;function dR(t){const e=t.el;e[Mc]&&e[Mc](),e[$m]&&e[$m]()}function pR(t){zv.set(t,t.el.getBoundingClientRect())}function mR(t){const e=Wv.get(t),n=zv.get(t),r=e.left-n.left,s=e.top-n.top;if(r||s){const i=t.el.style;return i.transform=i.webkitTransform=`translate(${r}px,${s}px)`,i.transitionDuration="0s",t}}function gR(t,e,n){const r=t.cloneNode(),s=t[hi];s&&s.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(r);const{hasTransform:o}=jv(r);return i.removeChild(r),o}const Hr=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ie(e)?n=>ti(e,n):e};function _R(t){t.target.composing=!0}function Bm(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const un=Symbol("_assign"),hn={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[un]=Hr(s);const i=r||s.props&&s.props.type==="number";Xn(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=wc(a)),t[un](a)}),n&&Xn(t,"change",()=>{t.value=t.value.trim()}),e||(Xn(t,"compositionstart",_R),Xn(t,"compositionend",Bm),Xn(t,"change",Bm))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(t[un]=Hr(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?wc(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===l)||(t.value=l))}},Qf={deep:!0,created(t,e,n){t[un]=Hr(n),Xn(t,"change",()=>{const r=t._modelValue,s=fi(t),i=t.checked,o=t[un];if(ie(r)){const a=dl(r,s),l=a!==-1;if(i&&!l)o(r.concat(s));else if(!i&&l){const u=[...r];u.splice(a,1),o(u)}}else if(As(r)){const a=new Set(r);i?a.add(s):a.delete(s),o(a)}else o(Gv(t,i))})},mounted:Hm,beforeUpdate(t,e,n){t[un]=Hr(n),Hm(t,e,n)}};function Hm(t,{value:e,oldValue:n},r){t._modelValue=e;let s;ie(e)?s=dl(e,r.props.value)>-1:As(e)?s=e.has(r.props.value):s=jr(e,Gv(t,!0)),t.checked!==s&&(t.checked=s)}const Jf={created(t,{value:e},n){t.checked=jr(e,n.props.value),t[un]=Hr(n),Xn(t,"change",()=>{t[un](fi(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[un]=Hr(r),e!==n&&(t.checked=jr(e,r.props.value))}},Lc={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const s=As(e);Xn(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?wc(fi(o)):fi(o));t[un](t.multiple?s?new Set(i):i:i[0]),t._assigning=!0,ta(()=>{t._assigning=!1})}),t[un]=Hr(r)},mounted(t,{value:e,modifiers:{number:n}}){qm(t,e)},beforeUpdate(t,e,n){t[un]=Hr(n)},updated(t,{value:e,modifiers:{number:n}}){t._assigning||qm(t,e)}};function qm(t,e,n){const r=t.multiple,s=ie(e);if(!(r&&!s&&!As(e))){for(let i=0,o=t.options.length;i<o;i++){const a=t.options[i],l=fi(a);if(r)if(s){const u=typeof l;u==="string"||u==="number"?a.selected=e.some(h=>String(h)===String(l)):a.selected=dl(e,l)>-1}else a.selected=e.has(l);else if(jr(fi(a),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function fi(t){return"_value"in t?t._value:t.value}function Gv(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const Qv={created(t,e,n){Ja(t,e,n,null,"created")},mounted(t,e,n){Ja(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){Ja(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){Ja(t,e,n,r,"updated")}};function Jv(t,e){switch(t){case"SELECT":return Lc;case"TEXTAREA":return hn;default:switch(e){case"checkbox":return Qf;case"radio":return Jf;default:return hn}}}function Ja(t,e,n,r,s){const o=Jv(t.tagName,n.props&&n.props.type)[s];o&&o(t,e,n,r)}function yR(){hn.getSSRProps=({value:t})=>({value:t}),Jf.getSSRProps=({value:t},e)=>{if(e.props&&jr(e.props.value,t))return{checked:!0}},Qf.getSSRProps=({value:t},e)=>{if(ie(t)){if(e.props&&dl(t,e.props.value)>-1)return{checked:!0}}else if(As(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},Qv.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=Jv(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const vR=["ctrl","shift","alt","meta"],ER={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>vR.some(n=>t[`${n}Key`]&&!e.includes(n))},ds=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(s,...i)=>{for(let o=0;o<e.length;o++){const a=ER[e[o]];if(a&&a(s,e))return}return t(s,...i)})},TR={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},wh=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=s=>{if(!("key"in s))return;const i=Wt(s.key);if(e.some(o=>o===i||TR[o]===i))return t(s)})},Yv=We({patchProp:sR},jS);let _o,Km=!1;function Xv(){return _o||(_o=lv(Yv))}function Zv(){return _o=Km?_o:uv(Yv),Km=!0,_o}const eE=(...t)=>{Xv().render(...t)},wR=(...t)=>{Zv().hydrate(...t)},Fc=(...t)=>{const e=Xv().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=rE(r);if(!s)return;const i=e._component;!pe(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,nE(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e},tE=(...t)=>{const e=Zv().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=rE(r);if(s)return n(s,!0,nE(s))},e};function nE(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function rE(t){return ze(t)?document.querySelector(t):t}let Wm=!1;const bR=()=>{Wm||(Wm=!0,yR(),KS())};/**
* vue v3.5.5
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const IR=()=>{},AR=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:jy,BaseTransitionPropsValidators:Vf,Comment:it,DeprecationTypes:LS,EffectScope:Tf,ErrorCodes:JI,ErrorTypeStrings:OS,Fragment:Ue,KeepAlive:TA,ReactiveEffect:Po,Static:fs,Suspense:fS,Teleport:oA,Text:Vr,TrackOpTypes:HI,Transition:zf,TransitionGroup:fR,TriggerOpTypes:qI,VueElement:Rl,assertNumber:QI,callWithAsyncErrorHandling:dn,callWithErrorHandling:Si,camelize:Ot,capitalize:Zo,cloneVNode:$n,compatUtils:MS,compile:IR,computed:Ae,createApp:Fc,createBlock:tn,createCommentVNode:pt,createElementBlock:de,createElementVNode:B,createHydrationRenderer:uv,createPropsRestProxy:jA,createRenderer:lv,createSSRApp:tE,createSlots:SA,createStaticVNode:Rv,createTextVNode:qt,createVNode:ke,customRef:Ry,defineAsyncComponent:vA,defineComponent:Rs,defineCustomElement:qv,defineEmits:kA,defineExpose:NA,defineModel:VA,defineOptions:xA,defineProps:OA,defineSSRCustomElement:oR,defineSlots:DA,devtools:kS,effect:cI,effectScope:ly,getCurrentInstance:Jt,getCurrentScope:wf,getCurrentWatcher:KI,getTransitionRawChildren:Tl,guardReactiveProps:Sv,h:Ri,handleError:Ss,hasInjectionContext:QA,hydrate:wR,hydrateOnIdle:pA,hydrateOnInteraction:_A,hydrateOnMediaQuery:gA,hydrateOnVisible:mA,initCustomFormatter:RS,initDirectivesForSSR:bR,inject:zt,isMemoSame:Dv,isProxy:vl,isReactive:xr,isReadonly:$r,isRef:lt,isRuntimeOnly:IS,isShallow:en,isVNode:Br,markRaw:Ay,mergeDefaults:FA,mergeModels:UA,mergeProps:Cv,nextTick:ta,normalizeClass:jn,normalizeProps:rI,normalizeStyle:ea,onActivated:By,onBeforeMount:Lf,onBeforeUnmount:Il,onBeforeUpdate:Ky,onDeactivated:Hy,onErrorCaptured:Qy,onMounted:pn,onRenderTracked:Gy,onRenderTriggered:zy,onScopeDispose:uy,onServerPrefetch:Wy,onUnmounted:Qr,onUpdated:bl,onWatcherCleanup:Py,openBlock:se,popScopeId:tA,provide:mo,proxyRefs:kf,pushScopeId:eA,queuePostFlushCb:Sc,reactive:qn,readonly:Cf,ref:ye,registerRuntimeCompiler:bS,render:eE,renderList:yn,renderSlot:RA,resolveComponent:Al,resolveDirective:AA,resolveDynamicComponent:IA,resolveFilter:VS,resolveTransitionHooks:ui,setBlockTracking:ph,setDevtoolsHook:NS,setTransitionHooks:sr,shallowReactive:Rf,shallowReadonly:kI,shallowRef:Of,ssrContextKey:pv,ssrUtils:DS,stop:lI,toDisplayString:Qe,toHandlerKey:uo,toHandlers:CA,toRaw:Re,toRef:jI,toRefs:LI,toValue:DI,transformVNodeArgs:yS,triggerRef:xI,unref:kt,useAttrs:LA,useCssModule:lR,useCssVars:WS,useHost:Kv,useId:cA,useModel:iS,useSSRContext:mv,useShadowRoot:cR,useSlots:$f,useTemplateRef:lA,useTransitionState:Df,vModelCheckbox:Qf,vModelDynamic:Qv,vModelRadio:Jf,vModelSelect:Lc,vModelText:hn,vShow:Gf,version:Vv,warn:PS,watch:rt,watchEffect:rS,watchPostEffect:gv,watchSyncEffect:_v,withAsyncContext:$A,withCtx:Zt,withDefaults:MA,withDirectives:ln,withKeys:wh,withMemo:CS,withModifiers:ds,withScopeId:nA},Symbol.toStringTag,{value:"Module"}));function SR(){return sE().__VUE_DEVTOOLS_GLOBAL_HOOK__}function sE(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const RR=typeof Proxy=="function",CR="devtools-plugin:setup",PR="plugin:settings:set";let $s,bh;function iE(){var t;return $s!==void 0||(typeof window<"u"&&window.performance?($s=!0,bh=window.performance):typeof globalThis<"u"&&(!((t=globalThis.perf_hooks)===null||t===void 0)&&t.performance)?($s=!0,bh=globalThis.perf_hooks.performance):$s=!1),$s}function oE(){return iE()?bh.now():Date.now()}class OR{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const r={};if(e.settings)for(const o in e.settings){const a=e.settings[o];r[o]=a.defaultValue}const s=`__vue-devtools-plugin-settings__${e.id}`;let i=Object.assign({},r);try{const o=localStorage.getItem(s),a=JSON.parse(o);Object.assign(i,a)}catch{}this.fallbacks={getSettings(){return i},setSettings(o){try{localStorage.setItem(s,JSON.stringify(o))}catch{}i=o},now(){return oE()}},n&&n.on(PR,(o,a)=>{o===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(o,a)=>this.target?this.target.on[a]:(...l)=>{this.onQueue.push({method:a,args:l})}}),this.proxiedTarget=new Proxy({},{get:(o,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...l)=>(this.targetQueue.push({method:a,args:l,resolve:()=>{}}),this.fallbacks[a](...l)):(...l)=>new Promise(u=>{this.targetQueue.push({method:a,args:l,resolve:u})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function aE(t,e){const n=t,r=sE(),s=SR(),i=RR&&n.enableEarlyProxy;if(s&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!i))s.emit(CR,t,e);else{const o=i?new OR(n,s):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:o}),o&&e(o.proxiedTarget)}}const kR=Object.freeze(Object.defineProperty({__proto__:null,isPerformanceSupported:iE,now:oE,setupDevtoolsPlugin:aE},Symbol.toStringTag,{value:"Module"}));/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var cE="store";function Yf(t){return t===void 0&&(t=null),zt(t!==null?t:cE)}function Ci(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function NR(t){return t!==null&&typeof t=="object"}function xR(t){return t&&typeof t.then=="function"}function DR(t,e){return function(){return t(e)}}function lE(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var r=e.indexOf(t);r>-1&&e.splice(r,1)}}function uE(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;Cl(t,n,[],t._modules.root,!0),Xf(t,n,e)}function Xf(t,e,n){var r=t._state,s=t._scope;t.getters={},t._makeLocalGettersCache=Object.create(null);var i=t._wrappedGetters,o={},a={},l=ly(!0);l.run(function(){Ci(i,function(u,h){o[h]=DR(u,t),a[h]=Ae(function(){return o[h]()}),Object.defineProperty(t.getters,h,{get:function(){return a[h].value},enumerable:!0})})}),t._state=qn({data:e}),t._scope=l,t.strict&&UR(t),r&&n&&t._withCommit(function(){r.data=null}),s&&s.stop()}function Cl(t,e,n,r,s){var i=!n.length,o=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[o],t._modulesNamespaceMap[o]=r),!i&&!s){var a=Zf(e,n.slice(0,-1)),l=n[n.length-1];t._withCommit(function(){a[l]=r.state})}var u=r.context=VR(t,o,n);r.forEachMutation(function(h,f){var p=o+f;MR(t,p,h,u)}),r.forEachAction(function(h,f){var p=h.root?f:o+f,g=h.handler||h;LR(t,p,g,u)}),r.forEachGetter(function(h,f){var p=o+f;FR(t,p,h,u)}),r.forEachChild(function(h,f){Cl(t,e,n.concat(f),h,s)})}function VR(t,e,n){var r=e==="",s={dispatch:r?t.dispatch:function(i,o,a){var l=Uc(i,o,a),u=l.payload,h=l.options,f=l.type;return(!h||!h.root)&&(f=e+f),t.dispatch(f,u)},commit:r?t.commit:function(i,o,a){var l=Uc(i,o,a),u=l.payload,h=l.options,f=l.type;(!h||!h.root)&&(f=e+f),t.commit(f,u,h)}};return Object.defineProperties(s,{getters:{get:r?function(){return t.getters}:function(){return hE(t,e)}},state:{get:function(){return Zf(t.state,n)}}}),s}function hE(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach(function(s){if(s.slice(0,r)===e){var i=s.slice(r);Object.defineProperty(n,i,{get:function(){return t.getters[s]},enumerable:!0})}}),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function MR(t,e,n,r){var s=t._mutations[e]||(t._mutations[e]=[]);s.push(function(o){n.call(t,r.state,o)})}function LR(t,e,n,r){var s=t._actions[e]||(t._actions[e]=[]);s.push(function(o){var a=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},o);return xR(a)||(a=Promise.resolve(a)),t._devtoolHook?a.catch(function(l){throw t._devtoolHook.emit("vuex:error",l),l}):a})}function FR(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(i){return n(r.state,r.getters,i.state,i.getters)})}function UR(t){rt(function(){return t._state.data},function(){},{deep:!0,flush:"sync"})}function Zf(t,e){return e.reduce(function(n,r){return n[r]},t)}function Uc(t,e,n){return NR(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}var jR="vuex bindings",zm="vuex:mutations",Ou="vuex:actions",Bs="vuex",$R=0;function BR(t,e){aE({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[jR]},function(n){n.addTimelineLayer({id:zm,label:"Vuex Mutations",color:Gm}),n.addTimelineLayer({id:Ou,label:"Vuex Actions",color:Gm}),n.addInspector({id:Bs,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===t&&r.inspectorId===Bs)if(r.filter){var s=[];mE(s,e._modules.root,r.filter,""),r.rootNodes=s}else r.rootNodes=[pE(e._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===t&&r.inspectorId===Bs){var s=r.nodeId;hE(e,s),r.state=KR(zR(e._modules,s),s==="root"?e.getters:e._makeLocalGettersCache,s)}}),n.on.editInspectorState(function(r){if(r.app===t&&r.inspectorId===Bs){var s=r.nodeId,i=r.path;s!=="root"&&(i=s.split("/").filter(Boolean).concat(i)),e._withCommit(function(){r.set(e._state.data,i,r.state.value)})}}),e.subscribe(function(r,s){var i={};r.payload&&(i.payload=r.payload),i.state=s,n.notifyComponentUpdate(),n.sendInspectorTree(Bs),n.sendInspectorState(Bs),n.addTimelineEvent({layerId:zm,event:{time:Date.now(),title:r.type,data:i}})}),e.subscribeAction({before:function(r,s){var i={};r.payload&&(i.payload=r.payload),r._id=$R++,r._time=Date.now(),i.state=s,n.addTimelineEvent({layerId:Ou,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:i}})},after:function(r,s){var i={},o=Date.now()-r._time;i.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},r.payload&&(i.payload=r.payload),i.state=s,n.addTimelineEvent({layerId:Ou,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:i}})}})})}var Gm=8702998,HR=6710886,qR=16777215,fE={label:"namespaced",textColor:qR,backgroundColor:HR};function dE(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function pE(t,e){return{id:e||"root",label:dE(e),tags:t.namespaced?[fE]:[],children:Object.keys(t._children).map(function(n){return pE(t._children[n],e+n+"/")})}}function mE(t,e,n,r){r.includes(n)&&t.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:e.namespaced?[fE]:[]}),Object.keys(e._children).forEach(function(s){mE(t,e._children[s],n,r+s+"/")})}function KR(t,e,n){e=n==="root"?e:e[n];var r=Object.keys(e),s={state:Object.keys(t.state).map(function(o){return{key:o,editable:!0,value:t.state[o]}})};if(r.length){var i=WR(e);s.getters=Object.keys(i).map(function(o){return{key:o.endsWith("/")?dE(o):o,editable:!1,value:Ih(function(){return i[o]})}})}return s}function WR(t){var e={};return Object.keys(t).forEach(function(n){var r=n.split("/");if(r.length>1){var s=e,i=r.pop();r.forEach(function(o){s[o]||(s[o]={_custom:{value:{},display:o,tooltip:"Module",abstract:!0}}),s=s[o]._custom.value}),s[i]=Ih(function(){return t[n]})}else e[n]=Ih(function(){return t[n]})}),e}function zR(t,e){var n=e.split("/").filter(function(r){return r});return n.reduce(function(r,s,i){var o=r[s];if(!o)throw new Error('Missing module "'+s+'" for path "'+e+'".');return i===n.length-1?o:o._children},e==="root"?t:t.root._children)}function Ih(t){try{return t()}catch(e){return e}}var In=function(e,n){this.runtime=n,this._children=Object.create(null),this._rawModule=e;var r=e.state;this.state=(typeof r=="function"?r():r)||{}},gE={namespaced:{configurable:!0}};gE.namespaced.get=function(){return!!this._rawModule.namespaced};In.prototype.addChild=function(e,n){this._children[e]=n};In.prototype.removeChild=function(e){delete this._children[e]};In.prototype.getChild=function(e){return this._children[e]};In.prototype.hasChild=function(e){return e in this._children};In.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};In.prototype.forEachChild=function(e){Ci(this._children,e)};In.prototype.forEachGetter=function(e){this._rawModule.getters&&Ci(this._rawModule.getters,e)};In.prototype.forEachAction=function(e){this._rawModule.actions&&Ci(this._rawModule.actions,e)};In.prototype.forEachMutation=function(e){this._rawModule.mutations&&Ci(this._rawModule.mutations,e)};Object.defineProperties(In.prototype,gE);var Cs=function(e){this.register([],e,!1)};Cs.prototype.get=function(e){return e.reduce(function(n,r){return n.getChild(r)},this.root)};Cs.prototype.getNamespace=function(e){var n=this.root;return e.reduce(function(r,s){return n=n.getChild(s),r+(n.namespaced?s+"/":"")},"")};Cs.prototype.update=function(e){_E([],this.root,e)};Cs.prototype.register=function(e,n,r){var s=this;r===void 0&&(r=!0);var i=new In(n,r);if(e.length===0)this.root=i;else{var o=this.get(e.slice(0,-1));o.addChild(e[e.length-1],i)}n.modules&&Ci(n.modules,function(a,l){s.register(e.concat(l),a,r)})};Cs.prototype.unregister=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1],s=n.getChild(r);s&&s.runtime&&n.removeChild(r)};Cs.prototype.isRegistered=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1];return n?n.hasChild(r):!1};function _E(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return;_E(t.concat(r),e.getChild(r),n.modules[r])}}function GR(t){return new Yt(t)}var Yt=function(e){var n=this;e===void 0&&(e={});var r=e.plugins;r===void 0&&(r=[]);var s=e.strict;s===void 0&&(s=!1);var i=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Cs(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=i;var o=this,a=this,l=a.dispatch,u=a.commit;this.dispatch=function(p,g){return l.call(o,p,g)},this.commit=function(p,g,E){return u.call(o,p,g,E)},this.strict=s;var h=this._modules.root.state;Cl(this,h,[],this._modules.root),Xf(this,h),r.forEach(function(f){return f(n)})},ed={state:{configurable:!0}};Yt.prototype.install=function(e,n){e.provide(n||cE,this),e.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&BR(e,this)};ed.state.get=function(){return this._state.data};ed.state.set=function(t){};Yt.prototype.commit=function(e,n,r){var s=this,i=Uc(e,n,r),o=i.type,a=i.payload,l={type:o,payload:a},u=this._mutations[o];u&&(this._withCommit(function(){u.forEach(function(f){f(a)})}),this._subscribers.slice().forEach(function(h){return h(l,s.state)}))};Yt.prototype.dispatch=function(e,n){var r=this,s=Uc(e,n),i=s.type,o=s.payload,a={type:i,payload:o},l=this._actions[i];if(l){try{this._actionSubscribers.slice().filter(function(h){return h.before}).forEach(function(h){return h.before(a,r.state)})}catch{}var u=l.length>1?Promise.all(l.map(function(h){return h(o)})):l[0](o);return new Promise(function(h,f){u.then(function(p){try{r._actionSubscribers.filter(function(g){return g.after}).forEach(function(g){return g.after(a,r.state)})}catch{}h(p)},function(p){try{r._actionSubscribers.filter(function(g){return g.error}).forEach(function(g){return g.error(a,r.state,p)})}catch{}f(p)})})}};Yt.prototype.subscribe=function(e,n){return lE(e,this._subscribers,n)};Yt.prototype.subscribeAction=function(e,n){var r=typeof e=="function"?{before:e}:e;return lE(r,this._actionSubscribers,n)};Yt.prototype.watch=function(e,n,r){var s=this;return rt(function(){return e(s.state,s.getters)},n,Object.assign({},r))};Yt.prototype.replaceState=function(e){var n=this;this._withCommit(function(){n._state.data=e})};Yt.prototype.registerModule=function(e,n,r){r===void 0&&(r={}),typeof e=="string"&&(e=[e]),this._modules.register(e,n),Cl(this,this.state,e,this._modules.get(e),r.preserveState),Xf(this,this.state)};Yt.prototype.unregisterModule=function(e){var n=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var r=Zf(n.state,e.slice(0,-1));delete r[e[e.length-1]]}),uE(this)};Yt.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};Yt.prototype.hotUpdate=function(e){this._modules.update(e),uE(this,!0)};Yt.prototype._withCommit=function(e){var n=this._committing;this._committing=!0,e(),this._committing=n};Object.defineProperties(Yt.prototype,ed);var Qm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},QR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},vE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(p=64)),r.push(n[h],n[f],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):QR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||f==null)throw new JR;const p=i<<2|a>>4;if(r.push(p),u!==64){const g=a<<4&240|u>>2;if(r.push(g),f!==64){const E=u<<6&192|f;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class JR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YR=function(t){const e=yE(t);return vE.encodeByteArray(e,!0)},jc=function(t){return YR(t).replace(/\./g,"")},EE=function(t){try{return vE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=()=>XR().__FIREBASE_DEFAULTS__,eC=()=>{if(typeof process>"u"||typeof Qm>"u")return;const t=Qm.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},tC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&EE(t[1]);return e&&JSON.parse(e)},Pl=()=>{try{return ZR()||eC()||tC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},TE=t=>{var e,n;return(n=(e=Pl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},nC=t=>{const e=TE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},wE=()=>{var t;return(t=Pl())===null||t===void 0?void 0:t.config},bE=t=>{var e;return(e=Pl())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[jc(JSON.stringify(n)),jc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}function oC(){var t;const e=(t=Pl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function cC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lC(){const t=xt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function uC(){return!oC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hC(){try{return typeof indexedDB=="object"}catch{return!1}}function fC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC="FirebaseError";class ur extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=dC,Object.setPrototypeOf(this,ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oa.prototype.create)}}class oa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?pC(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new ur(s,a,r)}}function pC(t,e){return t.replace(mC,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const mC=/\{\$([^}]+)}/g;function gC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function $c(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Jm(i)&&Jm(o)){if(!$c(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Jm(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function io(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function oo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function _C(t,e){const n=new yC(t,e);return n.subscribe.bind(n)}class yC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");vC(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=ku),s.error===void 0&&(s.error=ku),s.complete===void 0&&(s.complete=ku);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vC(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ku(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t){return t&&t._delegate?t._delegate:t}class ys{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new rC;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wC(e))try{this.getOrInitializeService({instanceIdentifier:os})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=os){return this.instances.has(e)}getOptions(e=os){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TC(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=os){return this.component?this.component.multipleInstances?e:os:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TC(t){return t===os?void 0:t}function wC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new EC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Pe||(Pe={}));const IC={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},AC=Pe.INFO,SC={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},RC=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=SC[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class td{constructor(e){this.name=e,this._logLevel=AC,this._logHandler=RC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const CC=(t,e)=>e.some(n=>t instanceof n);let Ym,Xm;function PC(){return Ym||(Ym=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OC(){return Xm||(Xm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IE=new WeakMap,Ah=new WeakMap,AE=new WeakMap,Nu=new WeakMap,nd=new WeakMap;function kC(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Mr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&IE.set(n,t)}).catch(()=>{}),nd.set(e,t),e}function NC(t){if(Ah.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Ah.set(t,e)}let Sh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ah.get(t);if(e==="objectStoreNames")return t.objectStoreNames||AE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xC(t){Sh=t(Sh)}function DC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(xu(this),e,...n);return AE.set(r,e.sort?e.sort():[e]),Mr(r)}:OC().includes(t)?function(...e){return t.apply(xu(this),e),Mr(IE.get(this))}:function(...e){return Mr(t.apply(xu(this),e))}}function VC(t){return typeof t=="function"?DC(t):(t instanceof IDBTransaction&&NC(t),CC(t,PC())?new Proxy(t,Sh):t)}function Mr(t){if(t instanceof IDBRequest)return kC(t);if(Nu.has(t))return Nu.get(t);const e=VC(t);return e!==t&&(Nu.set(t,e),nd.set(e,t)),e}const xu=t=>nd.get(t);function MC(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Mr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Mr(o.result),l.oldVersion,l.newVersion,Mr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const LC=["get","getKey","getAll","getAllKeys","count"],FC=["put","add","delete","clear"],Du=new Map;function Zm(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Du.get(e))return Du.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=FC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||LC.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return Du.set(e,i),i}xC(t=>({...t,get:(e,n,r)=>Zm(e,n)||t.get(e,n,r),has:(e,n)=>!!Zm(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(jC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function jC(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rh="@firebase/app",eg="0.10.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir=new td("@firebase/app"),$C="@firebase/app-compat",BC="@firebase/analytics-compat",HC="@firebase/analytics",qC="@firebase/app-check-compat",KC="@firebase/app-check",WC="@firebase/auth",zC="@firebase/auth-compat",GC="@firebase/database",QC="@firebase/database-compat",JC="@firebase/functions",YC="@firebase/functions-compat",XC="@firebase/installations",ZC="@firebase/installations-compat",e1="@firebase/messaging",t1="@firebase/messaging-compat",n1="@firebase/performance",r1="@firebase/performance-compat",s1="@firebase/remote-config",i1="@firebase/remote-config-compat",o1="@firebase/storage",a1="@firebase/storage-compat",c1="@firebase/firestore",l1="@firebase/vertexai-preview",u1="@firebase/firestore-compat",h1="firebase",f1="10.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch="[DEFAULT]",d1={[Rh]:"fire-core",[$C]:"fire-core-compat",[HC]:"fire-analytics",[BC]:"fire-analytics-compat",[KC]:"fire-app-check",[qC]:"fire-app-check-compat",[WC]:"fire-auth",[zC]:"fire-auth-compat",[GC]:"fire-rtdb",[QC]:"fire-rtdb-compat",[JC]:"fire-fn",[YC]:"fire-fn-compat",[XC]:"fire-iid",[ZC]:"fire-iid-compat",[e1]:"fire-fcm",[t1]:"fire-fcm-compat",[n1]:"fire-perf",[r1]:"fire-perf-compat",[s1]:"fire-rc",[i1]:"fire-rc-compat",[o1]:"fire-gcs",[a1]:"fire-gcs-compat",[c1]:"fire-fst",[u1]:"fire-fst-compat",[l1]:"fire-vertex","fire-js":"fire-js",[h1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc=new Map,p1=new Map,Ph=new Map;function tg(t,e){try{t.container.addComponent(e)}catch(n){ir.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function di(t){const e=t.name;if(Ph.has(e))return ir.debug(`There were multiple attempts to register component ${e}.`),!1;Ph.set(e,t);for(const n of Bc.values())tg(n,t);for(const n of p1.values())tg(n,t);return!0}function rd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function xn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Lr=new oa("app","Firebase",m1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Lr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=f1;function SE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ch,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Lr.create("bad-app-name",{appName:String(s)});if(n||(n=wE()),!n)throw Lr.create("no-options");const i=Bc.get(s);if(i){if($c(n,i.options)&&$c(r,i.config))return i;throw Lr.create("duplicate-app",{appName:s})}const o=new bC(s);for(const l of Ph.values())o.addComponent(l);const a=new g1(n,r,o);return Bc.set(s,a),a}function RE(t=Ch){const e=Bc.get(t);if(!e&&t===Ch&&wE())return SE();if(!e)throw Lr.create("no-app",{appName:t});return e}function Fr(t,e,n){var r;let s=(r=d1[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ir.warn(a.join(" "));return}di(new ys(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="firebase-heartbeat-database",y1=1,Lo="firebase-heartbeat-store";let Vu=null;function CE(){return Vu||(Vu=MC(_1,y1,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Lo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Lr.create("idb-open",{originalErrorMessage:t.message})})),Vu}async function v1(t){try{const n=(await CE()).transaction(Lo),r=await n.objectStore(Lo).get(PE(t));return await n.done,r}catch(e){if(e instanceof ur)ir.warn(e.message);else{const n=Lr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ir.warn(n.message)}}}async function ng(t,e){try{const r=(await CE()).transaction(Lo,"readwrite");await r.objectStore(Lo).put(e,PE(t)),await r.done}catch(n){if(n instanceof ur)ir.warn(n.message);else{const r=Lr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ir.warn(r.message)}}}function PE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=1024,T1=30*24*60*60*1e3;class w1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new I1(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=rg();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=T1}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ir.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=rg(),{heartbeatsToSend:r,unsentEntries:s}=b1(this._heartbeatsCache.heartbeats),i=jc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ir.warn(n),""}}}function rg(){return new Date().toISOString().substring(0,10)}function b1(t,e=E1){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),sg(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),sg(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class I1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hC()?fC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await v1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return ng(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return ng(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function sg(t){return jc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(t){di(new ys("platform-logger",e=>new UC(e),"PRIVATE")),di(new ys("heartbeat",e=>new w1(e),"PRIVATE")),Fr(Rh,eg,t),Fr(Rh,eg,"esm2017"),Fr("fire-js","")}A1("");var S1="firebase",R1="10.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fr(S1,R1,"app");function sd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function OE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const C1=OE,kE=new oa("auth","Firebase",OE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=new td("@firebase/auth");function P1(t,...e){Hc.logLevel<=Pe.WARN&&Hc.warn(`Auth (${Pi}): ${t}`,...e)}function lc(t,...e){Hc.logLevel<=Pe.ERROR&&Hc.error(`Auth (${Pi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(t,...e){throw id(t,...e)}function Dn(t,...e){return id(t,...e)}function NE(t,e,n){const r=Object.assign(Object.assign({},C1()),{[e]:n});return new oa("auth","Firebase",r).create(e,{appName:t.name})}function rr(t){return NE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function id(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return kE.create(t,...e)}function _e(t,e,...n){if(!t)throw id(e,...n)}function Zn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw lc(e),new Error(e)}function or(t,e){t||Zn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function O1(){return ig()==="http:"||ig()==="https:"}function ig(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(O1()||aC()||"connection"in navigator)?navigator.onLine:!0}function N1(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,n){this.shortDelay=e,this.longDelay=n,or(n>e,"Short delay should be less than long delay!"),this.isMobile=iC()||cC()}get(){return k1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(t,e){or(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1=new ca(3e4,6e4);function Jr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Yr(t,e,n,r,s={}){return DE(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=aa(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),xE.fetch()(VE(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function DE(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},x1),e);try{const s=new M1(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ya(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ya(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ya(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ya(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw NE(t,h,u);wn(t,h)}}catch(s){if(s instanceof ur)throw s;wn(t,"network-request-failed",{message:String(s)})}}async function la(t,e,n,r,s={}){const i=await Yr(t,e,n,r,s);return"mfaPendingCredential"in i&&wn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function VE(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?od(t.config,s):`${t.config.apiScheme}://${s}`}function V1(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class M1{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Dn(this.auth,"network-request-failed")),D1.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ya(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Dn(t,e,r);return s.customData._tokenResponse=n,s}function og(t){return t!==void 0&&t.enterprise!==void 0}class L1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return V1(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function F1(t,e){return Yr(t,"GET","/v2/recaptchaConfig",Jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U1(t,e){return Yr(t,"POST","/v1/accounts:delete",e)}async function ME(t,e){return Yr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function j1(t,e=!1){const n=rn(t),r=await n.getIdToken(e),s=ad(r);_e(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:yo(Mu(s.auth_time)),issuedAtTime:yo(Mu(s.iat)),expirationTime:yo(Mu(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Mu(t){return Number(t)*1e3}function ad(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return lc("JWT malformed, contained fewer than 3 sections"),null;try{const s=EE(n);return s?JSON.parse(s):(lc("Failed to decode base64 JWT payload"),null)}catch(s){return lc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function ag(t){const e=ad(t);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ur&&$1(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function $1({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yo(this.lastLoginAt),this.creationTime=yo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qc(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Fo(t,ME(n,{idToken:r}));_e(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?LE(i.providerUserInfo):[],a=q1(t.providerData,o),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=l?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new kh(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function H1(t){const e=rn(t);await qc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function q1(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function LE(t){return t.map(e=>{var{providerId:n}=e,r=sd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K1(t,e){const n=await DE(t,{},async()=>{const r=aa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=VE(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",xE.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function W1(t,e){return Yr(t,"POST","/v2/accounts:revokeToken",Jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ag(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=ag(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await K1(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new si;return r&&(_e(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(_e(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(_e(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new si,this.toJSON())}_performRefresh(){return Zn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(t,e){_e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class er{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=sd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new B1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new kh(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Fo(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return j1(this,e)}reload(){return H1(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new er(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await qc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xn(this.auth.app))return Promise.reject(rr(this.auth));const e=await this.getIdToken();return await Fo(this,U1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,u,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,R=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(u=n.createdAt)!==null&&u!==void 0?u:void 0,P=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:_,emailVerified:O,isAnonymous:D,providerData:L,stsTokenManager:b}=n;_e(_&&b,e,"internal-error");const T=si.fromJSON(this.name,b);_e(typeof _=="string",e,"internal-error"),yr(f,e.name),yr(p,e.name),_e(typeof O=="boolean",e,"internal-error"),_e(typeof D=="boolean",e,"internal-error"),yr(g,e.name),yr(E,e.name),yr(R,e.name),yr(S,e.name),yr(x,e.name),yr(P,e.name);const y=new er({uid:_,auth:e,email:p,emailVerified:O,displayName:f,isAnonymous:D,photoURL:E,phoneNumber:g,tenantId:R,stsTokenManager:T,createdAt:x,lastLoginAt:P});return L&&Array.isArray(L)&&(y.providerData=L.map(w=>Object.assign({},w))),S&&(y._redirectEventId=S),y}static async _fromIdTokenResponse(e,n,r=!1){const s=new si;s.updateFromServerResponse(n);const i=new er({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await qc(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];_e(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?LE(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new si;a.updateFromIdToken(r);const l=new er({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new kh(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg=new Map;function tr(t){or(t instanceof Function,"Expected a class definition");let e=cg.get(t);return e?(or(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,cg.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}FE.type="NONE";const lg=FE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uc(t,e,n){return`firebase:${t}:${e}:${n}`}class ii{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=uc(this.userKey,s.apiKey,i),this.fullPersistenceKey=uc("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?er._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ii(tr(lg),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||tr(lg);const o=uc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){const f=er._fromJSON(e,h);u!==i&&(a=f),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new ii(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new ii(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(UE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qE(e))return"Blackberry";if(KE(e))return"Webos";if(jE(e))return"Safari";if((e.includes("chrome/")||$E(e))&&!e.includes("edge/"))return"Chrome";if(HE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function UE(t=xt()){return/firefox\//i.test(t)}function jE(t=xt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $E(t=xt()){return/crios\//i.test(t)}function BE(t=xt()){return/iemobile/i.test(t)}function HE(t=xt()){return/android/i.test(t)}function qE(t=xt()){return/blackberry/i.test(t)}function KE(t=xt()){return/webos/i.test(t)}function cd(t=xt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function z1(t=xt()){var e;return cd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function G1(){return lC()&&document.documentMode===10}function WE(t=xt()){return cd(t)||HE(t)||KE(t)||qE(t)||/windows phone/i.test(t)||BE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(t,e=[]){let n;switch(t){case"Browser":n=ug(xt());break;case"Worker":n=`${ug(xt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Pi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J1(t,e={}){return Yr(t,"GET","/v2/passwordPolicy",Jr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=6;class X1{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Y1,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hg(this),this.idTokenSubscription=new hg(this),this.beforeStateQueue=new Q1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=tr(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await ii.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ME(this,{idToken:e}),r=await er._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(xn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await qc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=N1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xn(this.app))return Promise.reject(rr(this));const n=e?rn(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xn(this.app)?Promise.reject(rr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xn(this.app)?Promise.reject(rr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(tr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await J1(this),n=new X1(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new oa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await W1(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&tr(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await ii.create(this,[tr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&P1(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ps(t){return rn(t)}class hg{constructor(e){this.auth=e,this.observer=null,this.addObserver=_C(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ol={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eP(t){Ol=t}function GE(t){return Ol.loadJS(t)}function tP(){return Ol.recaptchaEnterpriseScript}function nP(){return Ol.gapiScript}function rP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const sP="recaptcha-enterprise",iP="NO_RECAPTCHA";class oP{constructor(e){this.type=sP,this.auth=Ps(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{F1(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new L1(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;og(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(iP)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&og(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=tP();l.length!==0&&(l+=a),GE(l).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function fg(t,e,n,r=!1){const s=new oP(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Nh(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await fg(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await fg(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(t,e){const n=rd(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if($c(i,e??{}))return s;wn(s,"already-initialized")}return n.initialize({options:e})}function cP(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(tr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function lP(t,e,n){const r=Ps(t);_e(r._canInitEmulator,r,"emulator-config-failed"),_e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=QE(e),{host:o,port:a}=uP(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),hP()}function QE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function uP(t){const e=QE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:dg(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:dg(o)}}}function dg(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function hP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zn("not implemented")}_getIdTokenResponse(e){return Zn("not implemented")}_linkToIdToken(e,n){return Zn("not implemented")}_getReauthenticationResolver(e){return Zn("not implemented")}}async function fP(t,e){return Yr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dP(t,e){return la(t,"POST","/v1/accounts:signInWithPassword",Jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pP(t,e){return la(t,"POST","/v1/accounts:signInWithEmailLink",Jr(t,e))}async function mP(t,e){return la(t,"POST","/v1/accounts:signInWithEmailLink",Jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo extends ld{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Uo(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Uo(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nh(e,n,"signInWithPassword",dP);case"emailLink":return pP(e,{email:this._email,oobCode:this._password});default:wn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nh(e,r,"signUpPassword",fP);case"emailLink":return mP(e,{idToken:n,email:this._email,oobCode:this._password});default:wn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oi(t,e){return la(t,"POST","/v1/accounts:signInWithIdp",Jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP="http://localhost";class vs extends ld{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new vs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):wn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=sd(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new vs(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return oi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,oi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,oi(e,n)}buildRequest(){const e={requestUri:gP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=aa(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yP(t){const e=io(oo(t)).link,n=e?io(oo(e)).deep_link_id:null,r=io(oo(t)).deep_link_id;return(r?io(oo(r)).link:null)||r||n||e||t}class ud{constructor(e){var n,r,s,i,o,a;const l=io(oo(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,f=_P((s=l.mode)!==null&&s!==void 0?s:null);_e(u&&h&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=h,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=yP(e);try{return new ud(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(){this.providerId=Oi.PROVIDER_ID}static credential(e,n){return Uo._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ud.parseLink(n);return _e(r,"argument-error"),Uo._fromEmailAndCode(e,r.code,r.tenantId)}}Oi.PROVIDER_ID="password";Oi.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Oi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua extends JE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends ua{constructor(){super("facebook.com")}static credential(e){return vs._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rr.credential(e.oauthAccessToken)}catch{return null}}}Rr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends ua{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return vs._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Cr.credential(n,r)}catch{return null}}}Cr.GOOGLE_SIGN_IN_METHOD="google.com";Cr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends ua{constructor(){super("github.com")}static credential(e){return vs._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pr.credential(e.oauthAccessToken)}catch{return null}}}Pr.GITHUB_SIGN_IN_METHOD="github.com";Pr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends ua{constructor(){super("twitter.com")}static credential(e,n){return vs._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Or.credential(n,r)}catch{return null}}}Or.TWITTER_SIGN_IN_METHOD="twitter.com";Or.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vP(t,e){return la(t,"POST","/v1/accounts:signUp",Jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await er._fromIdTokenResponse(e,r,s),o=pg(r);return new Es({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=pg(r);return new Es({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function pg(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc extends ur{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Kc.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Kc(e,n,r,s)}}function YE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Kc._fromErrorAndOperation(t,i,e,r):i})}async function EP(t,e,n=!1){const r=await Fo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Es._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TP(t,e,n=!1){const{auth:r}=t;if(xn(r.app))return Promise.reject(rr(r));const s="reauthenticate";try{const i=await Fo(t,YE(r,s,e,t),n);_e(i.idToken,r,"internal-error");const o=ad(i.idToken);_e(o,r,"internal-error");const{sub:a}=o;return _e(t.uid===a,r,"user-mismatch"),Es._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&wn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XE(t,e,n=!1){if(xn(t.app))return Promise.reject(rr(t));const r="signIn",s=await YE(t,r,e),i=await Es._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function wP(t,e){return XE(Ps(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZE(t){const e=Ps(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function bP(t,e,n){if(xn(t.app))return Promise.reject(rr(t));const r=Ps(t),o=await Nh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vP).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&ZE(t),l}),a=await Es._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function IP(t,e,n){return xn(t.app)?Promise.reject(rr(t)):wP(rn(t),Oi.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ZE(t),r})}function AP(t,e,n,r){return rn(t).onIdTokenChanged(e,n,r)}function SP(t,e,n){return rn(t).beforeAuthStateChanged(e,n)}function e0(t,e,n,r){return rn(t).onAuthStateChanged(e,n,r)}function RP(t){return rn(t).signOut()}const Wc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Wc,"1"),this.storage.removeItem(Wc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP=1e3,PP=10;class n0 extends t0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);G1()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,PP):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},CP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}n0.type="LOCAL";const OP=n0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0 extends t0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}r0.type="SESSION";const s0=r0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new kl(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await kP(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kl.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=hd("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(){return window}function xP(t){Vn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(){return typeof Vn().WorkerGlobalScope<"u"&&typeof Vn().importScripts=="function"}async function DP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VP(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function MP(){return i0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="firebaseLocalStorageDb",LP=1,zc="firebaseLocalStorage",a0="fbase_key";class ha{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Nl(t,e){return t.transaction([zc],e?"readwrite":"readonly").objectStore(zc)}function FP(){const t=indexedDB.deleteDatabase(o0);return new ha(t).toPromise()}function xh(){const t=indexedDB.open(o0,LP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(zc,{keyPath:a0})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(zc)?e(r):(r.close(),await FP(),e(await xh()))})})}async function mg(t,e,n){const r=Nl(t,!0).put({[a0]:e,value:n});return new ha(r).toPromise()}async function UP(t,e){const n=Nl(t,!1).get(e),r=await new ha(n).toPromise();return r===void 0?null:r.value}function gg(t,e){const n=Nl(t,!0).delete(e);return new ha(n).toPromise()}const jP=800,$P=3;class c0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>$P)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return i0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kl._getInstance(MP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await DP(),!this.activeServiceWorker)return;this.sender=new NP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xh();return await mg(e,Wc,"1"),await gg(e,Wc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>mg(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>UP(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>gg(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Nl(s,!1).getAll();return new ha(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}c0.type="LOCAL";const BP=c0;new ca(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HP(t,e){return e?tr(e):(_e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd extends ld{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return oi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return oi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function qP(t){return XE(t.auth,new fd(t),t.bypassAuthState)}function KP(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),TP(n,new fd(t),t.bypassAuthState)}async function WP(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),EP(n,new fd(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qP;case"linkViaPopup":case"linkViaRedirect":return WP;case"reauthViaPopup":case"reauthViaRedirect":return KP;default:wn(this.auth,"internal-error")}}resolve(e){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP=new ca(2e3,1e4);class Ys extends l0{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ys.currentPopupAction&&Ys.currentPopupAction.cancel(),Ys.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){or(this.filter.length===1,"Popup operations only handle one event");const e=hd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Dn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Dn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ys.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Dn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zP.get())};e()}}Ys.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP="pendingRedirect",hc=new Map;class QP extends l0{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=hc.get(this.auth._key());if(!e){try{const r=await JP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}hc.set(this.auth._key(),e)}return this.bypassAuthState||hc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JP(t,e){const n=ZP(e),r=XP(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function YP(t,e){hc.set(t._key(),e)}function XP(t){return tr(t._redirectPersistence)}function ZP(t){return uc(GP,t.config.apiKey,t.name)}async function eO(t,e,n=!1){if(xn(t.app))return Promise.reject(rr(t));const r=Ps(t),s=HP(r,e),o=await new QP(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=10*60*1e3;class nO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!u0(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Dn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tO&&this.cachedEventUids.clear(),this.cachedEventUids.has(_g(e))}saveEventToCache(e){this.cachedEventUids.add(_g(e)),this.lastProcessedEventTime=Date.now()}}function _g(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function u0({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function rO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return u0(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sO(t,e={}){return Yr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oO=/^https?/;async function aO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await sO(t);for(const n of e)try{if(cO(n))return}catch{}wn(t,"unauthorized-domain")}function cO(t){const e=Oh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!oO.test(n))return!1;if(iO.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=new ca(3e4,6e4);function yg(){const t=Vn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function uO(t){return new Promise((e,n)=>{var r,s,i;function o(){yg(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yg(),n(Dn(t,"network-request-failed"))},timeout:lO.get()})}if(!((s=(r=Vn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Vn().gapi)===null||i===void 0)&&i.load)o();else{const a=rP("iframefcb");return Vn()[a]=()=>{gapi.load?o():n(Dn(t,"network-request-failed"))},GE(`${nP()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw fc=null,e})}let fc=null;function hO(t){return fc=fc||uO(t),fc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=new ca(5e3,15e3),dO="__/auth/iframe",pO="emulator/auth/iframe",mO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _O(t){const e=t.config;_e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?od(e,pO):`https://${t.config.authDomain}/${dO}`,r={apiKey:e.apiKey,appName:t.name,v:Pi},s=gO.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${aa(r).slice(1)}`}async function yO(t){const e=await hO(t),n=Vn().gapi;return _e(n,t,"internal-error"),e.open({where:document.body,url:_O(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mO,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Dn(t,"network-request-failed"),a=Vn().setTimeout(()=>{i(o)},fO.get());function l(){Vn().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EO=500,TO=600,wO="_blank",bO="http://localhost";class vg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function IO(t,e,n,r=EO,s=TO){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},vO),{width:r.toString(),height:s.toString(),top:i,left:o}),u=xt().toLowerCase();n&&(a=$E(u)?wO:n),UE(u)&&(e=e||bO,l.scrollbars="yes");const h=Object.entries(l).reduce((p,[g,E])=>`${p}${g}=${E},`,"");if(z1(u)&&a!=="_self")return AO(e||"",a),new vg(null);const f=window.open(e||"",a,h);_e(f,t,"popup-blocked");try{f.focus()}catch{}return new vg(f)}function AO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO="__/auth/handler",RO="emulator/auth/handler",CO=encodeURIComponent("fac");async function Eg(t,e,n,r,s,i){_e(t.config.authDomain,t,"auth-domain-config-required"),_e(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Pi,eventId:s};if(e instanceof JE){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",gC(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof ua){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),u=l?`#${CO}=${encodeURIComponent(l)}`:"";return`${PO(t)}?${aa(a).slice(1)}${u}`}function PO({config:t}){return t.emulator?od(t,RO):`https://${t.authDomain}/${SO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu="webStorageSupport";class OO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=s0,this._completeRedirectFn=eO,this._overrideRedirectResult=YP}async _openPopup(e,n,r,s){var i;or((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Eg(e,n,r,Oh(),s);return IO(e,o,hd())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Eg(e,n,r,Oh(),s);return xP(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(or(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await yO(e),r=new nO(e);return n.register("authEvent",s=>(_e(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Lu,{type:Lu},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Lu];o!==void 0&&n(!!o),wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=aO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return WE()||jE()||cd()}}const kO=OO;var Tg="@firebase/auth",wg="1.7.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DO(t){di(new ys("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;_e(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zE(t)},u=new Z1(r,s,i,l);return cP(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),di(new ys("auth-internal",e=>{const n=Ps(e.getProvider("auth").getImmediate());return(r=>new NO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fr(Tg,wg,xO(t)),Fr(Tg,wg,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO=5*60,MO=bE("authIdTokenMaxAge")||VO;let bg=null;const LO=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>MO)return;const s=n==null?void 0:n.token;bg!==s&&(bg=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function FO(t=RE()){const e=rd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=aP(t,{popupRedirectResolver:kO,persistence:[BP,OP,s0]}),r=bE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=LO(i.toString());SP(n,o,()=>o(n.currentUser)),AP(n,a=>o(a))}}const s=TE("auth");return s&&lP(n,`http://${s}`),n}function UO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}eP({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Dn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",UO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DO("Browser");var Ig=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ps,h0;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,T){function y(){}y.prototype=T.prototype,b.D=T.prototype,b.prototype=new y,b.prototype.constructor=b,b.C=function(w,k,C){for(var I=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)I[ge-2]=arguments[ge];return T.prototype[k].apply(w,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(b,T,y){y||(y=0);var w=Array(16);if(typeof T=="string")for(var k=0;16>k;++k)w[k]=T.charCodeAt(y++)|T.charCodeAt(y++)<<8|T.charCodeAt(y++)<<16|T.charCodeAt(y++)<<24;else for(k=0;16>k;++k)w[k]=T[y++]|T[y++]<<8|T[y++]<<16|T[y++]<<24;T=b.g[0],y=b.g[1],k=b.g[2];var C=b.g[3],I=T+(C^y&(k^C))+w[0]+3614090360&4294967295;T=y+(I<<7&4294967295|I>>>25),I=C+(k^T&(y^k))+w[1]+3905402710&4294967295,C=T+(I<<12&4294967295|I>>>20),I=k+(y^C&(T^y))+w[2]+606105819&4294967295,k=C+(I<<17&4294967295|I>>>15),I=y+(T^k&(C^T))+w[3]+3250441966&4294967295,y=k+(I<<22&4294967295|I>>>10),I=T+(C^y&(k^C))+w[4]+4118548399&4294967295,T=y+(I<<7&4294967295|I>>>25),I=C+(k^T&(y^k))+w[5]+1200080426&4294967295,C=T+(I<<12&4294967295|I>>>20),I=k+(y^C&(T^y))+w[6]+2821735955&4294967295,k=C+(I<<17&4294967295|I>>>15),I=y+(T^k&(C^T))+w[7]+4249261313&4294967295,y=k+(I<<22&4294967295|I>>>10),I=T+(C^y&(k^C))+w[8]+1770035416&4294967295,T=y+(I<<7&4294967295|I>>>25),I=C+(k^T&(y^k))+w[9]+2336552879&4294967295,C=T+(I<<12&4294967295|I>>>20),I=k+(y^C&(T^y))+w[10]+4294925233&4294967295,k=C+(I<<17&4294967295|I>>>15),I=y+(T^k&(C^T))+w[11]+2304563134&4294967295,y=k+(I<<22&4294967295|I>>>10),I=T+(C^y&(k^C))+w[12]+1804603682&4294967295,T=y+(I<<7&4294967295|I>>>25),I=C+(k^T&(y^k))+w[13]+4254626195&4294967295,C=T+(I<<12&4294967295|I>>>20),I=k+(y^C&(T^y))+w[14]+2792965006&4294967295,k=C+(I<<17&4294967295|I>>>15),I=y+(T^k&(C^T))+w[15]+1236535329&4294967295,y=k+(I<<22&4294967295|I>>>10),I=T+(k^C&(y^k))+w[1]+4129170786&4294967295,T=y+(I<<5&4294967295|I>>>27),I=C+(y^k&(T^y))+w[6]+3225465664&4294967295,C=T+(I<<9&4294967295|I>>>23),I=k+(T^y&(C^T))+w[11]+643717713&4294967295,k=C+(I<<14&4294967295|I>>>18),I=y+(C^T&(k^C))+w[0]+3921069994&4294967295,y=k+(I<<20&4294967295|I>>>12),I=T+(k^C&(y^k))+w[5]+3593408605&4294967295,T=y+(I<<5&4294967295|I>>>27),I=C+(y^k&(T^y))+w[10]+38016083&4294967295,C=T+(I<<9&4294967295|I>>>23),I=k+(T^y&(C^T))+w[15]+3634488961&4294967295,k=C+(I<<14&4294967295|I>>>18),I=y+(C^T&(k^C))+w[4]+3889429448&4294967295,y=k+(I<<20&4294967295|I>>>12),I=T+(k^C&(y^k))+w[9]+568446438&4294967295,T=y+(I<<5&4294967295|I>>>27),I=C+(y^k&(T^y))+w[14]+3275163606&4294967295,C=T+(I<<9&4294967295|I>>>23),I=k+(T^y&(C^T))+w[3]+4107603335&4294967295,k=C+(I<<14&4294967295|I>>>18),I=y+(C^T&(k^C))+w[8]+1163531501&4294967295,y=k+(I<<20&4294967295|I>>>12),I=T+(k^C&(y^k))+w[13]+2850285829&4294967295,T=y+(I<<5&4294967295|I>>>27),I=C+(y^k&(T^y))+w[2]+4243563512&4294967295,C=T+(I<<9&4294967295|I>>>23),I=k+(T^y&(C^T))+w[7]+1735328473&4294967295,k=C+(I<<14&4294967295|I>>>18),I=y+(C^T&(k^C))+w[12]+2368359562&4294967295,y=k+(I<<20&4294967295|I>>>12),I=T+(y^k^C)+w[5]+4294588738&4294967295,T=y+(I<<4&4294967295|I>>>28),I=C+(T^y^k)+w[8]+2272392833&4294967295,C=T+(I<<11&4294967295|I>>>21),I=k+(C^T^y)+w[11]+1839030562&4294967295,k=C+(I<<16&4294967295|I>>>16),I=y+(k^C^T)+w[14]+4259657740&4294967295,y=k+(I<<23&4294967295|I>>>9),I=T+(y^k^C)+w[1]+2763975236&4294967295,T=y+(I<<4&4294967295|I>>>28),I=C+(T^y^k)+w[4]+1272893353&4294967295,C=T+(I<<11&4294967295|I>>>21),I=k+(C^T^y)+w[7]+4139469664&4294967295,k=C+(I<<16&4294967295|I>>>16),I=y+(k^C^T)+w[10]+3200236656&4294967295,y=k+(I<<23&4294967295|I>>>9),I=T+(y^k^C)+w[13]+681279174&4294967295,T=y+(I<<4&4294967295|I>>>28),I=C+(T^y^k)+w[0]+3936430074&4294967295,C=T+(I<<11&4294967295|I>>>21),I=k+(C^T^y)+w[3]+3572445317&4294967295,k=C+(I<<16&4294967295|I>>>16),I=y+(k^C^T)+w[6]+76029189&4294967295,y=k+(I<<23&4294967295|I>>>9),I=T+(y^k^C)+w[9]+3654602809&4294967295,T=y+(I<<4&4294967295|I>>>28),I=C+(T^y^k)+w[12]+3873151461&4294967295,C=T+(I<<11&4294967295|I>>>21),I=k+(C^T^y)+w[15]+530742520&4294967295,k=C+(I<<16&4294967295|I>>>16),I=y+(k^C^T)+w[2]+3299628645&4294967295,y=k+(I<<23&4294967295|I>>>9),I=T+(k^(y|~C))+w[0]+4096336452&4294967295,T=y+(I<<6&4294967295|I>>>26),I=C+(y^(T|~k))+w[7]+1126891415&4294967295,C=T+(I<<10&4294967295|I>>>22),I=k+(T^(C|~y))+w[14]+2878612391&4294967295,k=C+(I<<15&4294967295|I>>>17),I=y+(C^(k|~T))+w[5]+4237533241&4294967295,y=k+(I<<21&4294967295|I>>>11),I=T+(k^(y|~C))+w[12]+1700485571&4294967295,T=y+(I<<6&4294967295|I>>>26),I=C+(y^(T|~k))+w[3]+2399980690&4294967295,C=T+(I<<10&4294967295|I>>>22),I=k+(T^(C|~y))+w[10]+4293915773&4294967295,k=C+(I<<15&4294967295|I>>>17),I=y+(C^(k|~T))+w[1]+2240044497&4294967295,y=k+(I<<21&4294967295|I>>>11),I=T+(k^(y|~C))+w[8]+1873313359&4294967295,T=y+(I<<6&4294967295|I>>>26),I=C+(y^(T|~k))+w[15]+4264355552&4294967295,C=T+(I<<10&4294967295|I>>>22),I=k+(T^(C|~y))+w[6]+2734768916&4294967295,k=C+(I<<15&4294967295|I>>>17),I=y+(C^(k|~T))+w[13]+1309151649&4294967295,y=k+(I<<21&4294967295|I>>>11),I=T+(k^(y|~C))+w[4]+4149444226&4294967295,T=y+(I<<6&4294967295|I>>>26),I=C+(y^(T|~k))+w[11]+3174756917&4294967295,C=T+(I<<10&4294967295|I>>>22),I=k+(T^(C|~y))+w[2]+718787259&4294967295,k=C+(I<<15&4294967295|I>>>17),I=y+(C^(k|~T))+w[9]+3951481745&4294967295,b.g[0]=b.g[0]+T&4294967295,b.g[1]=b.g[1]+(k+(I<<21&4294967295|I>>>11))&4294967295,b.g[2]=b.g[2]+k&4294967295,b.g[3]=b.g[3]+C&4294967295}r.prototype.u=function(b,T){T===void 0&&(T=b.length);for(var y=T-this.blockSize,w=this.B,k=this.h,C=0;C<T;){if(k==0)for(;C<=y;)s(this,b,C),C+=this.blockSize;if(typeof b=="string"){for(;C<T;)if(w[k++]=b.charCodeAt(C++),k==this.blockSize){s(this,w),k=0;break}}else for(;C<T;)if(w[k++]=b[C++],k==this.blockSize){s(this,w),k=0;break}}this.h=k,this.o+=T},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var T=1;T<b.length-8;++T)b[T]=0;var y=8*this.o;for(T=b.length-8;T<b.length;++T)b[T]=y&255,y/=256;for(this.u(b),b=Array(16),T=y=0;4>T;++T)for(var w=0;32>w;w+=8)b[y++]=this.g[T]>>>w&255;return b};function i(b,T){var y=a;return Object.prototype.hasOwnProperty.call(y,b)?y[b]:y[b]=T(b)}function o(b,T){this.h=T;for(var y=[],w=!0,k=b.length-1;0<=k;k--){var C=b[k]|0;w&&C==T||(y[k]=C,w=!1)}this.g=y}var a={};function l(b){return-128<=b&&128>b?i(b,function(T){return new o([T|0],0>T?-1:0)}):new o([b|0],0>b?-1:0)}function u(b){if(isNaN(b)||!isFinite(b))return f;if(0>b)return S(u(-b));for(var T=[],y=1,w=0;b>=y;w++)T[w]=b/y|0,y*=4294967296;return new o(T,0)}function h(b,T){if(b.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(b.charAt(0)=="-")return S(h(b.substring(1),T));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=u(Math.pow(T,8)),w=f,k=0;k<b.length;k+=8){var C=Math.min(8,b.length-k),I=parseInt(b.substring(k,k+C),T);8>C?(C=u(Math.pow(T,C)),w=w.j(C).add(u(I))):(w=w.j(y),w=w.add(u(I)))}return w}var f=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(R(this))return-S(this).m();for(var b=0,T=1,y=0;y<this.g.length;y++){var w=this.i(y);b+=(0<=w?w:4294967296+w)*T,T*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(E(this))return"0";if(R(this))return"-"+S(this).toString(b);for(var T=u(Math.pow(b,6)),y=this,w="";;){var k=O(y,T).g;y=x(y,k.j(T));var C=((0<y.g.length?y.g[0]:y.h)>>>0).toString(b);if(y=k,E(y))return C+w;for(;6>C.length;)C="0"+C;w=C+w}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function E(b){if(b.h!=0)return!1;for(var T=0;T<b.g.length;T++)if(b.g[T]!=0)return!1;return!0}function R(b){return b.h==-1}t.l=function(b){return b=x(this,b),R(b)?-1:E(b)?0:1};function S(b){for(var T=b.g.length,y=[],w=0;w<T;w++)y[w]=~b.g[w];return new o(y,~b.h).add(p)}t.abs=function(){return R(this)?S(this):this},t.add=function(b){for(var T=Math.max(this.g.length,b.g.length),y=[],w=0,k=0;k<=T;k++){var C=w+(this.i(k)&65535)+(b.i(k)&65535),I=(C>>>16)+(this.i(k)>>>16)+(b.i(k)>>>16);w=I>>>16,C&=65535,I&=65535,y[k]=I<<16|C}return new o(y,y[y.length-1]&-2147483648?-1:0)};function x(b,T){return b.add(S(T))}t.j=function(b){if(E(this)||E(b))return f;if(R(this))return R(b)?S(this).j(S(b)):S(S(this).j(b));if(R(b))return S(this.j(S(b)));if(0>this.l(g)&&0>b.l(g))return u(this.m()*b.m());for(var T=this.g.length+b.g.length,y=[],w=0;w<2*T;w++)y[w]=0;for(w=0;w<this.g.length;w++)for(var k=0;k<b.g.length;k++){var C=this.i(w)>>>16,I=this.i(w)&65535,ge=b.i(k)>>>16,Ie=b.i(k)&65535;y[2*w+2*k]+=I*Ie,P(y,2*w+2*k),y[2*w+2*k+1]+=C*Ie,P(y,2*w+2*k+1),y[2*w+2*k+1]+=I*ge,P(y,2*w+2*k+1),y[2*w+2*k+2]+=C*ge,P(y,2*w+2*k+2)}for(w=0;w<T;w++)y[w]=y[2*w+1]<<16|y[2*w];for(w=T;w<2*T;w++)y[w]=0;return new o(y,0)};function P(b,T){for(;(b[T]&65535)!=b[T];)b[T+1]+=b[T]>>>16,b[T]&=65535,T++}function _(b,T){this.g=b,this.h=T}function O(b,T){if(E(T))throw Error("division by zero");if(E(b))return new _(f,f);if(R(b))return T=O(S(b),T),new _(S(T.g),S(T.h));if(R(T))return T=O(b,S(T)),new _(S(T.g),T.h);if(30<b.g.length){if(R(b)||R(T))throw Error("slowDivide_ only works with positive integers.");for(var y=p,w=T;0>=w.l(b);)y=D(y),w=D(w);var k=L(y,1),C=L(w,1);for(w=L(w,2),y=L(y,2);!E(w);){var I=C.add(w);0>=I.l(b)&&(k=k.add(y),C=I),w=L(w,1),y=L(y,1)}return T=x(b,k.j(T)),new _(k,T)}for(k=f;0<=b.l(T);){for(y=Math.max(1,Math.floor(b.m()/T.m())),w=Math.ceil(Math.log(y)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),C=u(y),I=C.j(T);R(I)||0<I.l(b);)y-=w,C=u(y),I=C.j(T);E(C)&&(C=p),k=k.add(C),b=x(b,I)}return new _(k,b)}t.A=function(b){return O(this,b).h},t.and=function(b){for(var T=Math.max(this.g.length,b.g.length),y=[],w=0;w<T;w++)y[w]=this.i(w)&b.i(w);return new o(y,this.h&b.h)},t.or=function(b){for(var T=Math.max(this.g.length,b.g.length),y=[],w=0;w<T;w++)y[w]=this.i(w)|b.i(w);return new o(y,this.h|b.h)},t.xor=function(b){for(var T=Math.max(this.g.length,b.g.length),y=[],w=0;w<T;w++)y[w]=this.i(w)^b.i(w);return new o(y,this.h^b.h)};function D(b){for(var T=b.g.length+1,y=[],w=0;w<T;w++)y[w]=b.i(w)<<1|b.i(w-1)>>>31;return new o(y,b.h)}function L(b,T){var y=T>>5;T%=32;for(var w=b.g.length-y,k=[],C=0;C<w;C++)k[C]=0<T?b.i(C+y)>>>T|b.i(C+y+1)<<32-T:b.i(C+y);return new o(k,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,h0=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,ps=o}).apply(typeof Ig<"u"?Ig:typeof self<"u"?self:typeof window<"u"?window:{});var Xa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var f0,d0,ao,p0,dc,Dh,m0,g0,_0;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,m){return c==Array.prototype||c==Object.prototype||(c[d]=m.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xa=="object"&&Xa];for(var d=0;d<c.length;++d){var m=c[d];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function s(c,d){if(d)e:{var m=r;c=c.split(".");for(var v=0;v<c.length-1;v++){var V=c[v];if(!(V in m))break e;m=m[V]}c=c[c.length-1],v=m[c],d=d(v),d!=v&&d!=null&&e(m,c,{configurable:!0,writable:!0,value:d})}}function i(c,d){c instanceof String&&(c+="");var m=0,v=!1,V={next:function(){if(!v&&m<c.length){var F=m++;return{value:d(F,c[F]),done:!1}}return v=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}s("Array.prototype.values",function(c){return c||function(){return i(this,function(d,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function u(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,m){return c.call.apply(c.bind,arguments)}function f(c,d,m){if(!c)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,v),c.apply(d,V)}}return function(){return c.apply(d,arguments)}}function p(c,d,m){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function g(c,d){var m=Array.prototype.slice.call(arguments,1);return function(){var v=m.slice();return v.push.apply(v,arguments),c.apply(this,v)}}function E(c,d){function m(){}m.prototype=d.prototype,c.aa=d.prototype,c.prototype=new m,c.prototype.constructor=c,c.Qb=function(v,V,F){for(var J=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)J[Be-2]=arguments[Be];return d.prototype[V].apply(v,J)}}function R(c){const d=c.length;if(0<d){const m=Array(d);for(let v=0;v<d;v++)m[v]=c[v];return m}return[]}function S(c,d){for(let m=1;m<arguments.length;m++){const v=arguments[m];if(l(v)){const V=c.length||0,F=v.length||0;c.length=V+F;for(let J=0;J<F;J++)c[V+J]=v[J]}else c.push(v)}}class x{constructor(d,m){this.i=d,this.j=m,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function P(c){return/^[\s\xa0]*$/.test(c)}function _(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function O(c){return O[" "](c),c}O[" "]=function(){};var D=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function L(c,d,m){for(const v in c)d.call(m,c[v],v,c)}function b(c,d){for(const m in c)d.call(void 0,c[m],m,c)}function T(c){const d={};for(const m in c)d[m]=c[m];return d}const y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(c,d){let m,v;for(let V=1;V<arguments.length;V++){v=arguments[V];for(m in v)c[m]=v[m];for(let F=0;F<y.length;F++)m=y[F],Object.prototype.hasOwnProperty.call(v,m)&&(c[m]=v[m])}}function k(c){var d=1;c=c.split(":");const m=[];for(;0<d&&c.length;)m.push(c.shift()),d--;return c.length&&m.push(c.join(":")),m}function C(c){a.setTimeout(()=>{throw c},0)}function I(){var c=Je;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class ge{constructor(){this.h=this.g=null}add(d,m){const v=Ie.get();v.set(d,m),this.h?this.h.next=v:this.g=v,this.h=v}}var Ie=new x(()=>new ne,c=>c.reset());class ne{constructor(){this.next=this.g=this.h=null}set(d,m){this.h=d,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let me,te=!1,Je=new ge,mn=()=>{const c=a.Promise.resolve(void 0);me=()=>{c.then(sn)}};var sn=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(m){C(m)}var d=Ie;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}te=!1};function Ye(){this.s=this.s,this.C=this.C}Ye.prototype.s=!1,Ye.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ye.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Xe(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Xe.prototype.h=function(){this.defaultPrevented=!0};var hr=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const m=()=>{};a.addEventListener("test",m,d),a.removeEventListener("test",m,d)}catch{}return c}();function Cn(c,d){if(Xe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var m=this.type=c.type,v=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(D){e:{try{O(d.nodeName);var V=!0;break e}catch{}V=!1}V||(d=null)}}else m=="mouseover"?d=c.fromElement:m=="mouseout"&&(d=c.toElement);this.relatedTarget=d,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:$t[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Cn.aa.h.call(this)}}E(Cn,Xe);var $t={2:"touch",3:"pen",4:"mouse"};Cn.prototype.h=function(){Cn.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var $="closure_listenable_"+(1e6*Math.random()|0),ee=0;function X(c,d,m,v,V){this.listener=c,this.proxy=null,this.src=d,this.type=m,this.capture=!!v,this.ha=V,this.key=++ee,this.da=this.fa=!1}function re(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ce(c){this.src=c,this.g={},this.h=0}Ce.prototype.add=function(c,d,m,v,V){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var J=A(c,d,v,V);return-1<J?(d=c[J],m||(d.fa=!1)):(d=new X(d,this.src,F,!!v,V),d.fa=m,c.push(d)),d};function je(c,d){var m=d.type;if(m in c.g){var v=c.g[m],V=Array.prototype.indexOf.call(v,d,void 0),F;(F=0<=V)&&Array.prototype.splice.call(v,V,1),F&&(re(d),c.g[m].length==0&&(delete c.g[m],c.h--))}}function A(c,d,m,v){for(var V=0;V<c.length;++V){var F=c[V];if(!F.da&&F.listener==d&&F.capture==!!m&&F.ha==v)return V}return-1}var N="closure_lm_"+(1e6*Math.random()|0),M={};function H(c,d,m,v,V){if(Array.isArray(d)){for(var F=0;F<d.length;F++)H(c,d[F],m,v,V);return null}return m=ce(m),c&&c[$]?c.K(d,m,u(v)?!!v.capture:!!v,V):j(c,d,m,!1,v,V)}function j(c,d,m,v,V,F){if(!d)throw Error("Invalid event type");var J=u(V)?!!V.capture:!!V,Be=le(c);if(Be||(c[N]=Be=new Ce(c)),m=Be.add(d,m,v,J,F),m.proxy)return m;if(v=K(),m.proxy=v,v.src=c,v.listener=m,c.addEventListener)hr||(V=J),V===void 0&&(V=!1),c.addEventListener(d.toString(),v,V);else if(c.attachEvent)c.attachEvent(G(d.toString()),v);else if(c.addListener&&c.removeListener)c.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return m}function K(){function c(m){return d.call(c.src,c.listener,m)}const d=W;return c}function Y(c,d,m,v,V){if(Array.isArray(d))for(var F=0;F<d.length;F++)Y(c,d[F],m,v,V);else v=u(v)?!!v.capture:!!v,m=ce(m),c&&c[$]?(c=c.i,d=String(d).toString(),d in c.g&&(F=c.g[d],m=A(F,m,v,V),-1<m&&(re(F[m]),Array.prototype.splice.call(F,m,1),F.length==0&&(delete c.g[d],c.h--)))):c&&(c=le(c))&&(d=c.g[d.toString()],c=-1,d&&(c=A(d,m,v,V)),(m=-1<c?d[c]:null)&&Q(m))}function Q(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[$])je(d.i,c);else{var m=c.type,v=c.proxy;d.removeEventListener?d.removeEventListener(m,v,c.capture):d.detachEvent?d.detachEvent(G(m),v):d.addListener&&d.removeListener&&d.removeListener(v),(m=le(d))?(je(m,c),m.h==0&&(m.src=null,d[N]=null)):re(c)}}}function G(c){return c in M?M[c]:M[c]="on"+c}function W(c,d){if(c.da)c=!0;else{d=new Cn(d,this);var m=c.listener,v=c.ha||c.src;c.fa&&Q(c),c=m.call(v,d)}return c}function le(c){return c=c[N],c instanceof Ce?c:null}var Z="__closure_events_fn_"+(1e9*Math.random()>>>0);function ce(c){return typeof c=="function"?c:(c[Z]||(c[Z]=function(d){return c.handleEvent(d)}),c[Z])}function oe(){Ye.call(this),this.i=new Ce(this),this.M=this,this.F=null}E(oe,Ye),oe.prototype[$]=!0,oe.prototype.removeEventListener=function(c,d,m,v){Y(this,c,d,m,v)};function fe(c,d){var m,v=c.F;if(v)for(m=[];v;v=v.F)m.push(v);if(c=c.M,v=d.type||d,typeof d=="string")d=new Xe(d,c);else if(d instanceof Xe)d.target=d.target||c;else{var V=d;d=new Xe(v,c),w(d,V)}if(V=!0,m)for(var F=m.length-1;0<=F;F--){var J=d.g=m[F];V=Me(J,v,!0,d)&&V}if(J=d.g=c,V=Me(J,v,!0,d)&&V,V=Me(J,v,!1,d)&&V,m)for(F=0;F<m.length;F++)J=d.g=m[F],V=Me(J,v,!1,d)&&V}oe.prototype.N=function(){if(oe.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var m=c.g[d],v=0;v<m.length;v++)re(m[v]);delete c.g[d],c.h--}}this.F=null},oe.prototype.K=function(c,d,m,v){return this.i.add(String(c),d,!1,m,v)},oe.prototype.L=function(c,d,m,v){return this.i.add(String(c),d,!0,m,v)};function Me(c,d,m,v){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var V=!0,F=0;F<d.length;++F){var J=d[F];if(J&&!J.da&&J.capture==m){var Be=J.listener,gt=J.ha||J.src;J.fa&&je(c.i,J),V=Be.call(gt,v)!==!1&&V}}return V&&!v.defaultPrevented}function xe(c,d,m){if(typeof c=="function")m&&(c=p(c,m));else if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function Tt(c){c.g=xe(()=>{c.g=null,c.i&&(c.i=!1,Tt(c))},c.l);const d=c.h;c.h=null,c.m.apply(null,d)}class ht extends Ye{constructor(d,m){super(),this.m=d,this.l=m,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Tt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mt(c){Ye.call(this),this.h=c,this.g={}}E(mt,Ye);var wt=[];function fr(c){L(c.g,function(d,m){this.g.hasOwnProperty(m)&&Q(d)},c),c.g={}}mt.prototype.N=function(){mt.aa.N.call(this),fr(this)},mt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xs=a.JSON.stringify,Dt=a.JSON.parse,on=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Ds(){}Ds.prototype.h=null;function pp(c){return c.h||(c.h=c.i())}function mp(){}var Fi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function su(){Xe.call(this,"d")}E(su,Xe);function iu(){Xe.call(this,"c")}E(iu,Xe);var Xr={},gp=null;function Ia(){return gp=gp||new oe}Xr.La="serverreachability";function _p(c){Xe.call(this,Xr.La,c)}E(_p,Xe);function Ui(c){const d=Ia();fe(d,new _p(d))}Xr.STAT_EVENT="statevent";function yp(c,d){Xe.call(this,Xr.STAT_EVENT,c),this.stat=d}E(yp,Xe);function Vt(c){const d=Ia();fe(d,new yp(d,c))}Xr.Ma="timingevent";function vp(c,d){Xe.call(this,Xr.Ma,c),this.size=d}E(vp,Xe);function ji(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function $i(){this.g=!0}$i.prototype.xa=function(){this.g=!1};function wb(c,d,m,v,V,F){c.info(function(){if(c.g)if(F)for(var J="",Be=F.split("&"),gt=0;gt<Be.length;gt++){var De=Be[gt].split("=");if(1<De.length){var bt=De[0];De=De[1];var It=bt.split("_");J=2<=It.length&&It[1]=="type"?J+(bt+"="+De+"&"):J+(bt+"=redacted&")}}else J=null;else J=F;return"XMLHTTP REQ ("+v+") [attempt "+V+"]: "+d+`
`+m+`
`+J})}function bb(c,d,m,v,V,F,J){c.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+V+"]: "+d+`
`+m+`
`+F+" "+J})}function Vs(c,d,m,v){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+Ab(c,m)+(v?" "+v:"")})}function Ib(c,d){c.info(function(){return"TIMEOUT: "+d})}$i.prototype.info=function(){};function Ab(c,d){if(!c.g)return d;if(!d)return null;try{var m=JSON.parse(d);if(m){for(c=0;c<m.length;c++)if(Array.isArray(m[c])){var v=m[c];if(!(2>v.length)){var V=v[1];if(Array.isArray(V)&&!(1>V.length)){var F=V[0];if(F!="noop"&&F!="stop"&&F!="close")for(var J=1;J<V.length;J++)V[J]=""}}}}return xs(m)}catch{return d}}var Aa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ep={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ou;function Sa(){}E(Sa,Ds),Sa.prototype.g=function(){return new XMLHttpRequest},Sa.prototype.i=function(){return{}},ou=new Sa;function dr(c,d,m,v){this.j=c,this.i=d,this.l=m,this.R=v||1,this.U=new mt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Tp}function Tp(){this.i=null,this.g="",this.h=!1}var wp={},au={};function cu(c,d,m){c.L=1,c.v=Oa(Kn(d)),c.m=m,c.P=!0,bp(c,null)}function bp(c,d){c.F=Date.now(),Ra(c),c.A=Kn(c.v);var m=c.A,v=c.R;Array.isArray(v)||(v=[String(v)]),Lp(m.i,"t",v),c.C=0,m=c.j.J,c.h=new Tp,c.g=tm(c.j,m?d:null,!c.m),0<c.O&&(c.M=new ht(p(c.Y,c,c.g),c.O)),d=c.U,m=c.g,v=c.ca;var V="readystatechange";Array.isArray(V)||(V&&(wt[0]=V.toString()),V=wt);for(var F=0;F<V.length;F++){var J=H(m,V[F],v||d.handleEvent,!1,d.h||d);if(!J)break;d.g[J.key]=J}d=c.H?T(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Ui(),wb(c.i,c.u,c.A,c.l,c.R,c.m)}dr.prototype.ca=function(c){c=c.target;const d=this.M;d&&Wn(c)==3?d.j():this.Y(c)},dr.prototype.Y=function(c){try{if(c==this.g)e:{const It=Wn(this.g);var d=this.g.Ba();const Fs=this.g.Z();if(!(3>It)&&(It!=3||this.g&&(this.h.h||this.g.oa()||qp(this.g)))){this.J||It!=4||d==7||(d==8||0>=Fs?Ui(3):Ui(2)),lu(this);var m=this.g.Z();this.X=m;t:if(Ip(this)){var v=qp(this.g);c="";var V=v.length,F=Wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zr(this),Bi(this);var J="";break t}this.h.i=new a.TextDecoder}for(d=0;d<V;d++)this.h.h=!0,c+=this.h.i.decode(v[d],{stream:!(F&&d==V-1)});v.length=0,this.h.g+=c,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=m==200,bb(this.i,this.u,this.A,this.l,this.R,It,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,gt=this.g;if((Be=gt.g?gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(Be)){var De=Be;break t}}De=null}if(m=De)Vs(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,uu(this,m);else{this.o=!1,this.s=3,Vt(12),Zr(this),Bi(this);break e}}if(this.P){m=!0;let gn;for(;!this.J&&this.C<J.length;)if(gn=Sb(this,J),gn==au){It==4&&(this.s=4,Vt(14),m=!1),Vs(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==wp){this.s=4,Vt(15),Vs(this.i,this.l,J,"[Invalid Chunk]"),m=!1;break}else Vs(this.i,this.l,gn,null),uu(this,gn);if(Ip(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||J.length!=0||this.h.h||(this.s=1,Vt(16),m=!1),this.o=this.o&&m,!m)Vs(this.i,this.l,J,"[Invalid Chunked Response]"),Zr(this),Bi(this);else if(0<J.length&&!this.W){this.W=!0;var bt=this.j;bt.g==this&&bt.ba&&!bt.M&&(bt.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),gu(bt),bt.M=!0,Vt(11))}}else Vs(this.i,this.l,J,null),uu(this,J);It==4&&Zr(this),this.o&&!this.J&&(It==4?Yp(this.j,this):(this.o=!1,Ra(this)))}else Hb(this.g),m==400&&0<J.indexOf("Unknown SID")?(this.s=3,Vt(12)):(this.s=0,Vt(13)),Zr(this),Bi(this)}}}catch{}finally{}};function Ip(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Sb(c,d){var m=c.C,v=d.indexOf(`
`,m);return v==-1?au:(m=Number(d.substring(m,v)),isNaN(m)?wp:(v+=1,v+m>d.length?au:(d=d.slice(v,v+m),c.C=v+m,d)))}dr.prototype.cancel=function(){this.J=!0,Zr(this)};function Ra(c){c.S=Date.now()+c.I,Ap(c,c.I)}function Ap(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ji(p(c.ba,c),d)}function lu(c){c.B&&(a.clearTimeout(c.B),c.B=null)}dr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ib(this.i,this.A),this.L!=2&&(Ui(),Vt(17)),Zr(this),this.s=2,Bi(this)):Ap(this,this.S-c)};function Bi(c){c.j.G==0||c.J||Yp(c.j,c)}function Zr(c){lu(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,fr(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function uu(c,d){try{var m=c.j;if(m.G!=0&&(m.g==c||hu(m.h,c))){if(!c.K&&hu(m.h,c)&&m.G==3){try{var v=m.Da.g.parse(d)}catch{v=null}if(Array.isArray(v)&&v.length==3){var V=v;if(V[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<c.F)Va(m),xa(m);else break e;mu(m),Vt(18)}}else m.za=V[1],0<m.za-m.T&&37500>V[2]&&m.F&&m.v==0&&!m.C&&(m.C=ji(p(m.Za,m),6e3));if(1>=Cp(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else ts(m,11)}else if((c.K||m.g==c)&&Va(m),!P(d))for(V=m.Da.g.parse(d),d=0;d<V.length;d++){let De=V[d];if(m.T=De[0],De=De[1],m.G==2)if(De[0]=="c"){m.K=De[1],m.ia=De[2];const bt=De[3];bt!=null&&(m.la=bt,m.j.info("VER="+m.la));const It=De[4];It!=null&&(m.Aa=It,m.j.info("SVER="+m.Aa));const Fs=De[5];Fs!=null&&typeof Fs=="number"&&0<Fs&&(v=1.5*Fs,m.L=v,m.j.info("backChannelRequestTimeoutMs_="+v)),v=m;const gn=c.g;if(gn){const La=gn.g?gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(La){var F=v.h;F.g||La.indexOf("spdy")==-1&&La.indexOf("quic")==-1&&La.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(fu(F,F.h),F.h=null))}if(v.D){const _u=gn.g?gn.g.getResponseHeader("X-HTTP-Session-Id"):null;_u&&(v.ya=_u,Ge(v.I,v.D,_u))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-c.F,m.j.info("Handshake RTT: "+m.R+"ms")),v=m;var J=c;if(v.qa=em(v,v.J?v.ia:null,v.W),J.K){Pp(v.h,J);var Be=J,gt=v.L;gt&&(Be.I=gt),Be.B&&(lu(Be),Ra(Be)),v.g=J}else Qp(v);0<m.i.length&&Da(m)}else De[0]!="stop"&&De[0]!="close"||ts(m,7);else m.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?ts(m,7):pu(m):De[0]!="noop"&&m.l&&m.l.ta(De),m.v=0)}}Ui(4)}catch{}}var Rb=class{constructor(c,d){this.g=c,this.map=d}};function Sp(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Rp(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Cp(c){return c.h?1:c.g?c.g.size:0}function hu(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function fu(c,d){c.g?c.g.add(d):c.h=d}function Pp(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}Sp.prototype.cancel=function(){if(this.i=Op(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Op(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(const m of c.g.values())d=d.concat(m.D);return d}return R(c.i)}function Cb(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var d=[],m=c.length,v=0;v<m;v++)d.push(c[v]);return d}d=[],m=0;for(v in c)d[m++]=c[v];return d}function Pb(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var d=[];c=c.length;for(var m=0;m<c;m++)d.push(m);return d}d=[],m=0;for(const v in c)d[m++]=v;return d}}}function kp(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var m=Pb(c),v=Cb(c),V=v.length,F=0;F<V;F++)d.call(void 0,v[F],m&&m[F],c)}var Np=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ob(c,d){if(c){c=c.split("&");for(var m=0;m<c.length;m++){var v=c[m].indexOf("="),V=null;if(0<=v){var F=c[m].substring(0,v);V=c[m].substring(v+1)}else F=c[m];d(F,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function es(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof es){this.h=c.h,Ca(this,c.j),this.o=c.o,this.g=c.g,Pa(this,c.s),this.l=c.l;var d=c.i,m=new Ki;m.i=d.i,d.g&&(m.g=new Map(d.g),m.h=d.h),xp(this,m),this.m=c.m}else c&&(d=String(c).match(Np))?(this.h=!1,Ca(this,d[1]||"",!0),this.o=Hi(d[2]||""),this.g=Hi(d[3]||"",!0),Pa(this,d[4]),this.l=Hi(d[5]||"",!0),xp(this,d[6]||"",!0),this.m=Hi(d[7]||"")):(this.h=!1,this.i=new Ki(null,this.h))}es.prototype.toString=function(){var c=[],d=this.j;d&&c.push(qi(d,Dp,!0),":");var m=this.g;return(m||d=="file")&&(c.push("//"),(d=this.o)&&c.push(qi(d,Dp,!0),"@"),c.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&c.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&c.push("/"),c.push(qi(m,m.charAt(0)=="/"?xb:Nb,!0))),(m=this.i.toString())&&c.push("?",m),(m=this.m)&&c.push("#",qi(m,Vb)),c.join("")};function Kn(c){return new es(c)}function Ca(c,d,m){c.j=m?Hi(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Pa(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function xp(c,d,m){d instanceof Ki?(c.i=d,Mb(c.i,c.h)):(m||(d=qi(d,Db)),c.i=new Ki(d,c.h))}function Ge(c,d,m){c.i.set(d,m)}function Oa(c){return Ge(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Hi(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function qi(c,d,m){return typeof c=="string"?(c=encodeURI(c).replace(d,kb),m&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function kb(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Dp=/[#\/\?@]/g,Nb=/[#\?:]/g,xb=/[#\?]/g,Db=/[#\?@]/g,Vb=/#/g;function Ki(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function pr(c){c.g||(c.g=new Map,c.h=0,c.i&&Ob(c.i,function(d,m){c.add(decodeURIComponent(d.replace(/\+/g," ")),m)}))}t=Ki.prototype,t.add=function(c,d){pr(this),this.i=null,c=Ms(this,c);var m=this.g.get(c);return m||this.g.set(c,m=[]),m.push(d),this.h+=1,this};function Vp(c,d){pr(c),d=Ms(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function Mp(c,d){return pr(c),d=Ms(c,d),c.g.has(d)}t.forEach=function(c,d){pr(this),this.g.forEach(function(m,v){m.forEach(function(V){c.call(d,V,v,this)},this)},this)},t.na=function(){pr(this);const c=Array.from(this.g.values()),d=Array.from(this.g.keys()),m=[];for(let v=0;v<d.length;v++){const V=c[v];for(let F=0;F<V.length;F++)m.push(d[v])}return m},t.V=function(c){pr(this);let d=[];if(typeof c=="string")Mp(this,c)&&(d=d.concat(this.g.get(Ms(this,c))));else{c=Array.from(this.g.values());for(let m=0;m<c.length;m++)d=d.concat(c[m])}return d},t.set=function(c,d){return pr(this),this.i=null,c=Ms(this,c),Mp(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function Lp(c,d,m){Vp(c,d),0<m.length&&(c.i=null,c.g.set(Ms(c,d),R(m)),c.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],d=Array.from(this.g.keys());for(var m=0;m<d.length;m++){var v=d[m];const F=encodeURIComponent(String(v)),J=this.V(v);for(v=0;v<J.length;v++){var V=F;J[v]!==""&&(V+="="+encodeURIComponent(String(J[v]))),c.push(V)}}return this.i=c.join("&")};function Ms(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function Mb(c,d){d&&!c.j&&(pr(c),c.i=null,c.g.forEach(function(m,v){var V=v.toLowerCase();v!=V&&(Vp(this,v),Lp(this,V,m))},c)),c.j=d}function Lb(c,d){const m=new $i;if(a.Image){const v=new Image;v.onload=g(mr,m,"TestLoadImage: loaded",!0,d,v),v.onerror=g(mr,m,"TestLoadImage: error",!1,d,v),v.onabort=g(mr,m,"TestLoadImage: abort",!1,d,v),v.ontimeout=g(mr,m,"TestLoadImage: timeout",!1,d,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=c}else d(!1)}function Fb(c,d){const m=new $i,v=new AbortController,V=setTimeout(()=>{v.abort(),mr(m,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:v.signal}).then(F=>{clearTimeout(V),F.ok?mr(m,"TestPingServer: ok",!0,d):mr(m,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(V),mr(m,"TestPingServer: error",!1,d)})}function mr(c,d,m,v,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),v(m)}catch{}}function Ub(){this.g=new on}function jb(c,d,m){const v=m||"";try{kp(c,function(V,F){let J=V;u(V)&&(J=xs(V)),d.push(v+F+"="+encodeURIComponent(J))})}catch(V){throw d.push(v+"type="+encodeURIComponent("_badmap")),V}}function Wi(c){this.l=c.Ub||null,this.j=c.eb||!1}E(Wi,Ds),Wi.prototype.g=function(){return new ka(this.l,this.j)},Wi.prototype.i=function(c){return function(){return c}}({});function ka(c,d){oe.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(ka,oe),t=ka.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Gi(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zi(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Gi(this)),this.g&&(this.readyState=3,Gi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fp(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fp(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?zi(this):Gi(this),this.readyState==3&&Fp(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,zi(this))},t.Qa=function(c){this.g&&(this.response=c,zi(this))},t.ga=function(){this.g&&zi(this)};function zi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Gi(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],d=this.h.entries();for(var m=d.next();!m.done;)m=m.value,c.push(m[0]+": "+m[1]),m=d.next();return c.join(`\r
`)};function Gi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ka.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Up(c){let d="";return L(c,function(m,v){d+=v,d+=":",d+=m,d+=`\r
`}),d}function du(c,d,m){e:{for(v in m){var v=!1;break e}v=!0}v||(m=Up(m),typeof c=="string"?m!=null&&encodeURIComponent(String(m)):Ge(c,d,m))}function et(c){oe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(et,oe);var $b=/^https?$/i,Bb=["POST","PUT"];t=et.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,m,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ou.g(),this.v=this.o?pp(this.o):pp(ou),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(F){jp(this,F);return}if(c=m||"",m=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var V in v)m.set(V,v[V]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const F of v.keys())m.set(F,v.get(F));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(m.keys()).find(F=>F.toLowerCase()=="content-type"),V=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Bb,d,void 0))||v||V||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,J]of m)this.g.setRequestHeader(F,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hp(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){jp(this,F)}};function jp(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,$p(c),Na(c)}function $p(c){c.A||(c.A=!0,fe(c,"complete"),fe(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,fe(this,"complete"),fe(this,"abort"),Na(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Na(this,!0)),et.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Bp(this):this.bb())},t.bb=function(){Bp(this)};function Bp(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Wn(c)!=4||c.Z()!=2)){if(c.u&&Wn(c)==4)xe(c.Ea,0,c);else if(fe(c,"readystatechange"),Wn(c)==4){c.h=!1;try{const J=c.Z();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var m;if(!(m=d)){var v;if(v=J===0){var V=String(c.D).match(Np)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),v=!$b.test(V?V.toLowerCase():"")}m=v}if(m)fe(c,"complete"),fe(c,"success");else{c.m=6;try{var F=2<Wn(c)?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.Z()+"]",$p(c)}}finally{Na(c)}}}}function Na(c,d){if(c.g){Hp(c);const m=c.g,v=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||fe(c,"ready");try{m.onreadystatechange=v}catch{}}}function Hp(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Wn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Wn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),Dt(d)}};function qp(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Hb(c){const d={};c=(c.g&&2<=Wn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<c.length;v++){if(P(c[v]))continue;var m=k(c[v]);const V=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const F=d[V]||[];d[V]=F,F.push(m)}b(d,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qi(c,d,m){return m&&m.internalChannelParams&&m.internalChannelParams[c]||d}function Kp(c){this.Aa=0,this.i=[],this.j=new $i,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qi("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qi("baseRetryDelayMs",5e3,c),this.cb=Qi("retryDelaySeedMs",1e4,c),this.Wa=Qi("forwardChannelMaxRetries",2,c),this.wa=Qi("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Sp(c&&c.concurrentRequestLimit),this.Da=new Ub,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Kp.prototype,t.la=8,t.G=1,t.connect=function(c,d,m,v){Vt(0),this.W=c,this.H=d||{},m&&v!==void 0&&(this.H.OSID=m,this.H.OAID=v),this.F=this.X,this.I=em(this,null,this.W),Da(this)};function pu(c){if(Wp(c),c.G==3){var d=c.U++,m=Kn(c.I);if(Ge(m,"SID",c.K),Ge(m,"RID",d),Ge(m,"TYPE","terminate"),Ji(c,m),d=new dr(c,c.j,d),d.L=2,d.v=Oa(Kn(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=d.v,m=!0),m||(d.g=tm(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Ra(d)}Zp(c)}function xa(c){c.g&&(gu(c),c.g.cancel(),c.g=null)}function Wp(c){xa(c),c.u&&(a.clearTimeout(c.u),c.u=null),Va(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Da(c){if(!Rp(c.h)&&!c.s){c.s=!0;var d=c.Ga;me||mn(),te||(me(),te=!0),Je.add(d,c),c.B=0}}function qb(c,d){return Cp(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ji(p(c.Ga,c,d),Xp(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const V=new dr(this,this.j,c);let F=this.o;if(this.S&&(F?(F=T(F),w(F,this.S)):F=this.S),this.m!==null||this.O||(V.H=F,F=null),this.P)e:{for(var d=0,m=0;m<this.i.length;m++){t:{var v=this.i[m];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(d+=v,4096<d){d=m;break e}if(d===4096||m===this.i.length-1){d=m+1;break e}}d=1e3}else d=1e3;d=Gp(this,V,d),m=Kn(this.I),Ge(m,"RID",c),Ge(m,"CVER",22),this.D&&Ge(m,"X-HTTP-Session-Id",this.D),Ji(this,m),F&&(this.O?d="headers="+encodeURIComponent(String(Up(F)))+"&"+d:this.m&&du(m,this.m,F)),fu(this.h,V),this.Ua&&Ge(m,"TYPE","init"),this.P?(Ge(m,"$req",d),Ge(m,"SID","null"),V.T=!0,cu(V,m,null)):cu(V,m,d),this.G=2}}else this.G==3&&(c?zp(this,c):this.i.length==0||Rp(this.h)||zp(this))};function zp(c,d){var m;d?m=d.l:m=c.U++;const v=Kn(c.I);Ge(v,"SID",c.K),Ge(v,"RID",m),Ge(v,"AID",c.T),Ji(c,v),c.m&&c.o&&du(v,c.m,c.o),m=new dr(c,c.j,m,c.B+1),c.m===null&&(m.H=c.o),d&&(c.i=d.D.concat(c.i)),d=Gp(c,m,1e3),m.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),fu(c.h,m),cu(m,v,d)}function Ji(c,d){c.H&&L(c.H,function(m,v){Ge(d,v,m)}),c.l&&kp({},function(m,v){Ge(d,v,m)})}function Gp(c,d,m){m=Math.min(c.i.length,m);var v=c.l?p(c.l.Na,c.l,c):null;e:{var V=c.i;let F=-1;for(;;){const J=["count="+m];F==-1?0<m?(F=V[0].g,J.push("ofs="+F)):F=0:J.push("ofs="+F);let Be=!0;for(let gt=0;gt<m;gt++){let De=V[gt].g;const bt=V[gt].map;if(De-=F,0>De)F=Math.max(0,V[gt].g-100),Be=!1;else try{jb(bt,J,"req"+De+"_")}catch{v&&v(bt)}}if(Be){v=J.join("&");break e}}}return c=c.i.splice(0,m),d.D=c,v}function Qp(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;me||mn(),te||(me(),te=!0),Je.add(d,c),c.v=0}}function mu(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ji(p(c.Fa,c),Xp(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Jp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ji(p(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Vt(10),xa(this),Jp(this))};function gu(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Jp(c){c.g=new dr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Kn(c.qa);Ge(d,"RID","rpc"),Ge(d,"SID",c.K),Ge(d,"AID",c.T),Ge(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ge(d,"TO",c.ja),Ge(d,"TYPE","xmlhttp"),Ji(c,d),c.m&&c.o&&du(d,c.m,c.o),c.L&&(c.g.I=c.L);var m=c.g;c=c.ia,m.L=1,m.v=Oa(Kn(d)),m.m=null,m.P=!0,bp(m,c)}t.Za=function(){this.C!=null&&(this.C=null,xa(this),mu(this),Vt(19))};function Va(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Yp(c,d){var m=null;if(c.g==d){Va(c),gu(c),c.g=null;var v=2}else if(hu(c.h,d))m=d.D,Pp(c.h,d),v=1;else return;if(c.G!=0){if(d.o)if(v==1){m=d.m?d.m.length:0,d=Date.now()-d.F;var V=c.B;v=Ia(),fe(v,new vp(v,m)),Da(c)}else Qp(c);else if(V=d.s,V==3||V==0&&0<d.X||!(v==1&&qb(c,d)||v==2&&mu(c)))switch(m&&0<m.length&&(d=c.h,d.i=d.i.concat(m)),V){case 1:ts(c,5);break;case 4:ts(c,10);break;case 3:ts(c,6);break;default:ts(c,2)}}}function Xp(c,d){let m=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(m*=2),m*d}function ts(c,d){if(c.j.info("Error code "+d),d==2){var m=p(c.fb,c),v=c.Xa;const V=!v;v=new es(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ca(v,"https"),Oa(v),V?Lb(v.toString(),m):Fb(v.toString(),m)}else Vt(2);c.G=0,c.l&&c.l.sa(d),Zp(c),Wp(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function Zp(c){if(c.G=0,c.ka=[],c.l){const d=Op(c.h);(d.length!=0||c.i.length!=0)&&(S(c.ka,d),S(c.ka,c.i),c.h.i.length=0,R(c.i),c.i.length=0),c.l.ra()}}function em(c,d,m){var v=m instanceof es?Kn(m):new es(m);if(v.g!="")d&&(v.g=d+"."+v.g),Pa(v,v.s);else{var V=a.location;v=V.protocol,d=d?d+"."+V.hostname:V.hostname,V=+V.port;var F=new es(null);v&&Ca(F,v),d&&(F.g=d),V&&Pa(F,V),m&&(F.l=m),v=F}return m=c.D,d=c.ya,m&&d&&Ge(v,m,d),Ge(v,"VER",c.la),Ji(c,v),v}function tm(c,d,m){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new et(new Wi({eb:m})):new et(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function nm(){}t=nm.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ma(){}Ma.prototype.g=function(c,d){return new Xt(c,d)};function Xt(c,d){oe.call(this),this.g=new Kp(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!P(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!P(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Ls(this)}E(Xt,oe),Xt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xt.prototype.close=function(){pu(this.g)},Xt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var m={};m.__data__=c,c=m}else this.u&&(m={},m.__data__=xs(c),c=m);d.i.push(new Rb(d.Ya++,c)),d.G==3&&Da(d)},Xt.prototype.N=function(){this.g.l=null,delete this.j,pu(this.g),delete this.g,Xt.aa.N.call(this)};function rm(c){su.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(const m in d){c=m;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}E(rm,su);function sm(){iu.call(this),this.status=1}E(sm,iu);function Ls(c){this.g=c}E(Ls,nm),Ls.prototype.ua=function(){fe(this.g,"a")},Ls.prototype.ta=function(c){fe(this.g,new rm(c))},Ls.prototype.sa=function(c){fe(this.g,new sm)},Ls.prototype.ra=function(){fe(this.g,"b")},Ma.prototype.createWebChannel=Ma.prototype.g,Xt.prototype.send=Xt.prototype.o,Xt.prototype.open=Xt.prototype.m,Xt.prototype.close=Xt.prototype.close,_0=function(){return new Ma},g0=function(){return Ia()},m0=Xr,Dh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Aa.NO_ERROR=0,Aa.TIMEOUT=8,Aa.HTTP_ERROR=6,dc=Aa,Ep.COMPLETE="complete",p0=Ep,mp.EventType=Fi,Fi.OPEN="a",Fi.CLOSE="b",Fi.ERROR="c",Fi.MESSAGE="d",oe.prototype.listen=oe.prototype.K,ao=mp,d0=Wi,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,f0=et}).apply(typeof Xa<"u"?Xa:typeof self<"u"?self:typeof window<"u"?window:{});const Ag="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}St.UNAUTHENTICATED=new St(null),St.GOOGLE_CREDENTIALS=new St("google-credentials-uid"),St.FIRST_PARTY=new St("first-party-uid"),St.MOCK_USER=new St("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ki="10.13.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=new td("@firebase/firestore");function eo(){return Ts.logLevel}function ae(t,...e){if(Ts.logLevel<=Pe.DEBUG){const n=e.map(dd);Ts.debug(`Firestore (${ki}): ${t}`,...n)}}function ar(t,...e){if(Ts.logLevel<=Pe.ERROR){const n=e.map(dd);Ts.error(`Firestore (${ki}): ${t}`,...n)}}function pi(t,...e){if(Ts.logLevel<=Pe.WARN){const n=e.map(dd);Ts.warn(`Firestore (${ki}): ${t}`,...n)}}function dd(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(t="Unexpected state"){const e=`FIRESTORE (${ki}) INTERNAL ASSERTION FAILED: `+t;throw ar(e),new Error(e)}function qe(t,e){t||ve()}function Te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends ur{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(St.UNAUTHENTICATED))}shutdown(){}}class $O{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class BO{constructor(e){this.t=e,this.currentUser=St.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Ur;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ur,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ur)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qe(typeof r.accessToken=="string"),new y0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string"),new St(e)}}class HO{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=St.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class qO{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new HO(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(St.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class KO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WO{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,ae("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(qe(typeof n.token=="string"),this.R=n.token,new KO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=zO(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Ve(t,e){return t<e?-1:t>e?1:0}function mi(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ue(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ut(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new ut(0,0))}static max(){return new Ee(new ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,n,r){n===void 0?n=0:n>e.length&&ve(),r===void 0?r=e.length-n:r>e.length-n&&ve(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return jo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof jo?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class tt extends jo{construct(e,n,r){return new tt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const GO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yt extends jo{construct(e,n,r){return new yt(e,n,r)}static isValidIdentifier(e){return GO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new yt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ue(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new ue(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ue(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new ue(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yt(n)}static emptyPath(){return new yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.path=e}static fromPath(e){return new he(tt.fromString(e))}static fromName(e){return new he(tt.fromString(e).popFirst(5))}static empty(){return new he(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new tt(e.slice()))}}function QO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ee.fromTimestamp(r===1e9?new ut(n+1,0):new ut(n,r));return new qr(s,he.empty(),e)}function JO(t){return new qr(t.readTime,t.key,-1)}class qr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new qr(Ee.min(),he.empty(),-1)}static max(){return new qr(Ee.max(),he.empty(),-1)}}function YO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=he.comparator(t.documentKey,e.documentKey),n!==0?n:Ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fa(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==XO)throw t;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):q.reject(n)}static resolve(e){return new q((n,r)=>{n(e)})}static reject(e){return new q((n,r)=>{r(e)})}static waitFor(e){return new q((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=q.resolve(!1);for(const r of e)n=n.next(s=>s?q.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new q((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(h=>{o[u]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new q((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function ek(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function da(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}pd.oe=-1;function xl(t){return t==null}function Gc(t){return t===0&&1/t==-1/0}function tk(t){return typeof t=="number"&&Number.isInteger(t)&&!Gc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ni(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function E0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,n){this.comparator=e,this.root=n||_t.EMPTY}insert(e,n){return new Ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_t.BLACK,null,null))}remove(e){return new Ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Za(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Za(this.root,e,this.comparator,!1)}getReverseIterator(){return new Za(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Za(this.root,e,this.comparator,!0)}}class Za{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _t{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??_t.RED,this.left=s??_t.EMPTY,this.right=i??_t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new _t(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return _t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return _t.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ve();const e=this.left.check();if(e!==this.right.check())throw ve();return e+(this.isRed()?0:1)}}_t.EMPTY=null,_t.RED=!0,_t.BLACK=!1;_t.EMPTY=new class{constructor(){this.size=0}get key(){throw ve()}get value(){throw ve()}get color(){throw ve()}get left(){throw ve()}get right(){throw ve()}copy(e,n,r,s,i){return this}insert(e,n,r){return new _t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.comparator=e,this.data=new Ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Rg(this.data.getIterator())}getIteratorFrom(e){return new Rg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new vt(this.comparator);return n.data=e,n}}class Rg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.fields=e,e.sort(yt.comparator)}static empty(){return new vn([])}unionWith(e){let n=new vt(yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return mi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new T0("Invalid base64 string: "+i):i}}(e);return new Et(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Et(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Et.EMPTY_BYTE_STRING=new Et("");const nk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kr(t){if(qe(!!t),typeof t=="string"){let e=0;const n=nk.exec(t);if(qe(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nt(t.seconds),nanos:nt(t.nanos)}}function nt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ws(t){return typeof t=="string"?Et.fromBase64String(t):Et.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function gd(t){const e=t.mapValue.fields.__previous_value__;return md(e)?gd(e):e}function $o(t){const e=Kr(t.mapValue.fields.__local_write_time__.timestampValue);return new ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e,n,r,s,i,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Bo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Bo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Bo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function bs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?md(t)?4:ik(t)?9007199254740991:sk(t)?10:11:ve()}function Bn(t,e){if(t===e)return!0;const n=bs(t);if(n!==bs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $o(t).isEqual($o(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Kr(s.timestampValue),a=Kr(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ws(s.bytesValue).isEqual(ws(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return nt(s.geoPointValue.latitude)===nt(i.geoPointValue.latitude)&&nt(s.geoPointValue.longitude)===nt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return nt(s.integerValue)===nt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=nt(s.doubleValue),a=nt(i.doubleValue);return o===a?Gc(o)===Gc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return mi(t.arrayValue.values||[],e.arrayValue.values||[],Bn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Sg(o)!==Sg(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Bn(o[l],a[l])))return!1;return!0}(t,e);default:return ve()}}function Ho(t,e){return(t.values||[]).find(n=>Bn(n,e))!==void 0}function gi(t,e){if(t===e)return 0;const n=bs(t),r=bs(e);if(n!==r)return Ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=nt(i.integerValue||i.doubleValue),l=nt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Cg(t.timestampValue,e.timestampValue);case 4:return Cg($o(t),$o(e));case 5:return Ve(t.stringValue,e.stringValue);case 6:return function(i,o){const a=ws(i),l=ws(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=Ve(a[u],l[u]);if(h!==0)return h}return Ve(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Ve(nt(i.latitude),nt(o.latitude));return a!==0?a:Ve(nt(i.longitude),nt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Pg(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,u,h;const f=i.fields||{},p=o.fields||{},g=(a=f.value)===null||a===void 0?void 0:a.arrayValue,E=(l=p.value)===null||l===void 0?void 0:l.arrayValue,R=Ve(((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0,((h=E==null?void 0:E.values)===null||h===void 0?void 0:h.length)||0);return R!==0?R:Pg(g,E)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===ec.mapValue&&o===ec.mapValue)return 0;if(i===ec.mapValue)return 1;if(o===ec.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const p=Ve(l[f],h[f]);if(p!==0)return p;const g=gi(a[l[f]],u[h[f]]);if(g!==0)return g}return Ve(l.length,h.length)}(t.mapValue,e.mapValue);default:throw ve()}}function Cg(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ve(t,e);const n=Kr(t),r=Kr(e),s=Ve(n.seconds,r.seconds);return s!==0?s:Ve(n.nanos,r.nanos)}function Pg(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=gi(n[s],r[s]);if(i)return i}return Ve(n.length,r.length)}function _i(t){return Vh(t)}function Vh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Kr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ws(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return he.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Vh(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Vh(n.fields[o])}`;return s+"}"}(t.mapValue):ve()}function Mh(t){return!!t&&"integerValue"in t}function _d(t){return!!t&&"arrayValue"in t}function Og(t){return!!t&&"nullValue"in t}function kg(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pc(t){return!!t&&"mapValue"in t}function sk(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function vo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ni(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=vo(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ik(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!pc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vo(n)}setAll(e){let n=yt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=vo(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());pc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];pc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ni(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new cn(vo(this.value))}}function w0(t){const e=[];return Ni(t.fields,(n,r)=>{const s=new yt([n]);if(pc(r)){const i=w0(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ct(e,0,Ee.min(),Ee.min(),Ee.min(),cn.empty(),0)}static newFoundDocument(e,n,r,s){return new Ct(e,1,n,Ee.min(),r,s,0)}static newNoDocument(e,n){return new Ct(e,2,n,Ee.min(),Ee.min(),cn.empty(),0)}static newUnknownDocument(e,n){return new Ct(e,3,n,Ee.min(),Ee.min(),cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ct&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ct(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n){this.position=e,this.inclusive=n}}function Ng(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=he.comparator(he.fromName(o.referenceValue),n.key):r=gi(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function xg(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Bn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n="asc"){this.field=e,this.dir=n}}function ok(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{}class at extends b0{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ck(e,n,r):n==="array-contains"?new hk(e,r):n==="in"?new fk(e,r):n==="not-in"?new dk(e,r):n==="array-contains-any"?new pk(e,r):new at(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new lk(e,r):new uk(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(gi(n,this.value)):n!==null&&bs(this.value)===bs(n)&&this.matchesComparison(gi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hn extends b0{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Hn(e,n)}matches(e){return I0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function I0(t){return t.op==="and"}function A0(t){return ak(t)&&I0(t)}function ak(t){for(const e of t.filters)if(e instanceof Hn)return!1;return!0}function Lh(t){if(t instanceof at)return t.field.canonicalString()+t.op.toString()+_i(t.value);if(A0(t))return t.filters.map(e=>Lh(e)).join(",");{const e=t.filters.map(n=>Lh(n)).join(",");return`${t.op}(${e})`}}function S0(t,e){return t instanceof at?function(r,s){return s instanceof at&&r.op===s.op&&r.field.isEqual(s.field)&&Bn(r.value,s.value)}(t,e):t instanceof Hn?function(r,s){return s instanceof Hn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&S0(o,s.filters[a]),!0):!1}(t,e):void ve()}function R0(t){return t instanceof at?function(n){return`${n.field.canonicalString()} ${n.op} ${_i(n.value)}`}(t):t instanceof Hn?function(n){return n.op.toString()+" {"+n.getFilters().map(R0).join(" ,")+"}"}(t):"Filter"}class ck extends at{constructor(e,n,r){super(e,n,r),this.key=he.fromName(r.referenceValue)}matches(e){const n=he.comparator(e.key,this.key);return this.matchesComparison(n)}}class lk extends at{constructor(e,n){super(e,"in",n),this.keys=C0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class uk extends at{constructor(e,n){super(e,"not-in",n),this.keys=C0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function C0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>he.fromName(r.referenceValue))}class hk extends at{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _d(n)&&Ho(n.arrayValue,this.value)}}class fk extends at{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ho(this.value.arrayValue,n)}}class dk extends at{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ho(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ho(this.value.arrayValue,n)}}class pk extends at{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_d(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ho(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function Dg(t,e=null,n=[],r=[],s=null,i=null,o=null){return new mk(t,e,n,r,s,i,o)}function yd(t){const e=Te(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Lh(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),xl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>_i(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>_i(r)).join(",")),e.ue=n}return e.ue}function vd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ok(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!S0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!xg(t.startAt,e.startAt)&&xg(t.endAt,e.endAt)}function Fh(t){return he.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function gk(t,e,n,r,s,i,o,a){return new Dl(t,e,n,r,s,i,o,a)}function Ed(t){return new Dl(t)}function Vg(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function _k(t){return t.collectionGroup!==null}function Eo(t){const e=Te(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new vt(yt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Jc(i,r))}),n.has(yt.keyField().canonicalString())||e.ce.push(new Jc(yt.keyField(),r))}return e.ce}function Mn(t){const e=Te(t);return e.le||(e.le=yk(e,Eo(t))),e.le}function yk(t,e){if(t.limitType==="F")return Dg(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Jc(s.field,i)});const n=t.endAt?new Qc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Qc(t.startAt.position,t.startAt.inclusive):null;return Dg(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Uh(t,e,n){return new Dl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vl(t,e){return vd(Mn(t),Mn(e))&&t.limitType===e.limitType}function P0(t){return`${yd(Mn(t))}|lt:${t.limitType}`}function Ws(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>R0(s)).join(", ")}]`),xl(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>_i(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>_i(s)).join(",")),`Target(${r})`}(Mn(t))}; limitType=${t.limitType})`}function Ml(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):he.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Eo(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=Ng(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Eo(r),s)||r.endAt&&!function(o,a,l){const u=Ng(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Eo(r),s))}(t,e)}function vk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function O0(t){return(e,n)=>{let r=!1;for(const s of Eo(t)){const i=Ek(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function Ek(t,e,n){const r=t.field.isKeyField()?he.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?gi(l,u):ve()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ni(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return E0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk=new Ze(he.comparator);function cr(){return Tk}const k0=new Ze(he.comparator);function co(...t){let e=k0;for(const n of t)e=e.insert(n.key,n);return e}function N0(t){let e=k0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function as(){return To()}function x0(){return To()}function To(){return new xi(t=>t.toString(),(t,e)=>t.isEqual(e))}const wk=new Ze(he.comparator),bk=new vt(he.comparator);function Se(...t){let e=bk;for(const n of t)e=e.add(n);return e}const Ik=new vt(Ve);function Ak(){return Ik}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(e)?"-0":e}}function D0(t){return{integerValue:""+t}}function Sk(t,e){return tk(e)?D0(e):Td(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(){this._=void 0}}function Rk(t,e,n){return t instanceof Yc?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&md(i)&&(i=gd(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof qo?M0(t,e):t instanceof Ko?L0(t,e):function(s,i){const o=V0(s,i),a=Mg(o)+Mg(s.Pe);return Mh(o)&&Mh(s.Pe)?D0(a):Td(s.serializer,a)}(t,e)}function Ck(t,e,n){return t instanceof qo?M0(t,e):t instanceof Ko?L0(t,e):n}function V0(t,e){return t instanceof Xc?function(r){return Mh(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Yc extends Ll{}class qo extends Ll{constructor(e){super(),this.elements=e}}function M0(t,e){const n=F0(e);for(const r of t.elements)n.some(s=>Bn(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ko extends Ll{constructor(e){super(),this.elements=e}}function L0(t,e){let n=F0(e);for(const r of t.elements)n=n.filter(s=>!Bn(s,r));return{arrayValue:{values:n}}}class Xc extends Ll{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Mg(t){return nt(t.integerValue||t.doubleValue)}function F0(t){return _d(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Pk(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof qo&&s instanceof qo||r instanceof Ko&&s instanceof Ko?mi(r.elements,s.elements,Bn):r instanceof Xc&&s instanceof Xc?Bn(r.Pe,s.Pe):r instanceof Yc&&s instanceof Yc}(t.transform,e.transform)}class Ok{constructor(e,n){this.version=e,this.transformResults=n}}class Ln{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ln}static exists(e){return new Ln(void 0,e)}static updateTime(e){return new Ln(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Fl{}function U0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new wd(t.key,Ln.none()):new pa(t.key,t.data,Ln.none());{const n=t.data,r=cn.empty();let s=new vt(yt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Os(t.key,r,new vn(s.toArray()),Ln.none())}}function kk(t,e,n){t instanceof pa?function(s,i,o){const a=s.value.clone(),l=Fg(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Os?function(s,i,o){if(!mc(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Fg(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(j0(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function wo(t,e,n,r){return t instanceof pa?function(i,o,a,l){if(!mc(i.precondition,o))return a;const u=i.value.clone(),h=Ug(i.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Os?function(i,o,a,l){if(!mc(i.precondition,o))return a;const u=Ug(i.fieldTransforms,l,o),h=o.data;return h.setAll(j0(i)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return mc(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Nk(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=V0(r.transform,s||null);i!=null&&(n===null&&(n=cn.empty()),n.set(r.field,i))}return n||null}function Lg(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&mi(r,s,(i,o)=>Pk(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class pa extends Fl{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Os extends Fl{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function j0(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Fg(t,e,n){const r=new Map;qe(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,Ck(o,a,n[s]))}return r}function Ug(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,Rk(i,o,e))}return r}class wd extends Fl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xk extends Fl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&kk(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=wo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=wo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=x0();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=U0(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Se())}isEqual(e){return this.batchId===e.batchId&&mi(this.mutations,e.mutations,(n,r)=>Lg(n,r))&&mi(this.baseMutations,e.baseMutations,(n,r)=>Lg(n,r))}}class bd{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){qe(e.mutations.length===r.length);let s=function(){return wk}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new bd(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st,Ne;function Lk(t){switch(t){default:return ve();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function $0(t){if(t===void 0)return ar("GRPC error has no .code"),z.UNKNOWN;switch(t){case st.OK:return z.OK;case st.CANCELLED:return z.CANCELLED;case st.UNKNOWN:return z.UNKNOWN;case st.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case st.INTERNAL:return z.INTERNAL;case st.UNAVAILABLE:return z.UNAVAILABLE;case st.UNAUTHENTICATED:return z.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case st.NOT_FOUND:return z.NOT_FOUND;case st.ALREADY_EXISTS:return z.ALREADY_EXISTS;case st.PERMISSION_DENIED:return z.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case st.ABORTED:return z.ABORTED;case st.OUT_OF_RANGE:return z.OUT_OF_RANGE;case st.UNIMPLEMENTED:return z.UNIMPLEMENTED;case st.DATA_LOSS:return z.DATA_LOSS;default:return ve()}}(Ne=st||(st={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk=new ps([4294967295,4294967295],0);function jg(t){const e=Fk().encode(t),n=new h0;return n.update(e),new Uint8Array(n.digest())}function $g(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ps([n,r],0),new ps([s,i],0)]}class Id{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new lo(`Invalid padding: ${n}`);if(r<0)throw new lo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new lo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new lo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ps.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(ps.fromNumber(r)));return s.compare(Uk)===1&&(s=new ps([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=jg(e),[r,s]=$g(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Id(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=jg(e),[r,s]=$g(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class lo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,ma.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ul(Ee.min(),s,new Ze(Ve),cr(),Se())}}class ma{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ma(r,n,Se(),Se(),Se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class B0{constructor(e,n){this.targetId=e,this.me=n}}class H0{constructor(e,n,r=Et.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Bg{constructor(){this.fe=0,this.ge=qg(),this.pe=Et.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Se(),n=Se(),r=Se();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ve()}}),new ma(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=qg()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class jk{constructor(e){this.Le=e,this.Be=new Map,this.ke=cr(),this.qe=Hg(),this.Qe=new Ze(Ve)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ve()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(Fh(i))if(r===0){const o=new he(i.path);this.Ue(n,o,Ct.newNoDocument(o,Ee.min()))}else qe(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=ws(r).toUint8Array()}catch(l){if(l instanceof T0)return pi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Id(o,s,i)}catch(l){return pi(l instanceof lo?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&Fh(a.target)){const l=new he(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Ct.newNoDocument(l,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=Se();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new Ul(e,n,this.Qe,this.ke,r);return this.ke=cr(),this.qe=Hg(),this.Qe=new Ze(Ve),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Bg,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new vt(Ve),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ae("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Bg),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Hg(){return new Ze(he.comparator)}function qg(){return new Ze(he.comparator)}const $k={asc:"ASCENDING",desc:"DESCENDING"},Bk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hk={and:"AND",or:"OR"};class qk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function jh(t,e){return t.useProto3Json||xl(e)?e:{value:e}}function Zc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function q0(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Kk(t,e){return Zc(t,e.toTimestamp())}function Fn(t){return qe(!!t),Ee.fromTimestamp(function(n){const r=Kr(n);return new ut(r.seconds,r.nanos)}(t))}function Ad(t,e){return $h(t,e).canonicalString()}function $h(t,e){const n=function(s){return new tt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function K0(t){const e=tt.fromString(t);return qe(J0(e)),e}function Bh(t,e){return Ad(t.databaseId,e.path)}function Fu(t,e){const n=K0(e);if(n.get(1)!==t.databaseId.projectId)throw new ue(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ue(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new he(z0(n))}function W0(t,e){return Ad(t.databaseId,e)}function Wk(t){const e=K0(t);return e.length===4?tt.emptyPath():z0(e)}function Hh(t){return new tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function z0(t){return qe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Kg(t,e,n){return{name:Bh(t,e),fields:n.value.mapValue.fields}}function zk(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,h){return u.useProto3Json?(qe(h===void 0||typeof h=="string"),Et.fromBase64String(h||"")):(qe(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Et.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?z.UNKNOWN:$0(u.code);return new ue(h,u.message||"")}(o);n=new H0(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Fu(t,r.document.name),i=Fn(r.document.updateTime),o=r.document.createTime?Fn(r.document.createTime):Ee.min(),a=new cn({mapValue:{fields:r.document.fields}}),l=Ct.newFoundDocument(s,i,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new gc(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Fu(t,r.document),i=r.readTime?Fn(r.readTime):Ee.min(),o=Ct.newNoDocument(s,i),a=r.removedTargetIds||[];n=new gc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Fu(t,r.document),i=r.removedTargetIds||[];n=new gc([],i,s,null)}else{if(!("filter"in e))return ve();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new Mk(s,i),a=r.targetId;n=new B0(a,o)}}return n}function Gk(t,e){let n;if(e instanceof pa)n={update:Kg(t,e.key,e.value)};else if(e instanceof wd)n={delete:Bh(t,e.key)};else if(e instanceof Os)n={update:Kg(t,e.key,e.data),updateMask:rN(e.fieldMask)};else{if(!(e instanceof xk))return ve();n={verify:Bh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Yc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof qo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ko)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Xc)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ve()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:Kk(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ve()}(t,e.precondition)),n}function Qk(t,e){return t&&t.length>0?(qe(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Fn(s.updateTime):Fn(i);return o.isEqual(Ee.min())&&(o=Fn(i)),new Ok(o,s.transformResults||[])}(n,e))):[]}function Jk(t,e){return{documents:[W0(t,e.path)]}}function Yk(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=W0(t,s);const i=function(u){if(u.length!==0)return Q0(Hn.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(h=>function(p){return{field:zs(p.field),direction:eN(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=jh(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:s}}function Xk(t){let e=Wk(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){qe(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const p=G0(f);return p instanceof Hn&&A0(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(E){return new Jc(Gs(E.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,xl(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,g=f.values||[];return new Qc(g,p)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const p=!f.before,g=f.values||[];return new Qc(g,p)}(n.endAt)),gk(e,s,o,i,a,"F",l,u)}function Zk(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function G0(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Gs(n.unaryFilter.field);return at.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Gs(n.unaryFilter.field);return at.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Gs(n.unaryFilter.field);return at.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Gs(n.unaryFilter.field);return at.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ve()}}(t):t.fieldFilter!==void 0?function(n){return at.create(Gs(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ve()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Hn.create(n.compositeFilter.filters.map(r=>G0(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ve()}}(n.compositeFilter.op))}(t):ve()}function eN(t){return $k[t]}function tN(t){return Bk[t]}function nN(t){return Hk[t]}function zs(t){return{fieldPath:t.canonicalString()}}function Gs(t){return yt.fromServerFormat(t.fieldPath)}function Q0(t){return t instanceof at?function(n){if(n.op==="=="){if(kg(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NAN"}};if(Og(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(kg(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NOT_NAN"}};if(Og(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zs(n.field),op:tN(n.op),value:n.value}}}(t):t instanceof Hn?function(n){const r=n.getFilters().map(s=>Q0(s));return r.length===1?r[0]:{compositeFilter:{op:nN(n.op),filters:r}}}(t):ve()}function rN(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function J0(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e,n,r,s,i=Ee.min(),o=Ee.min(),a=Et.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new kr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e){this.ct=e}}function iN(t){const e=Xk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Uh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(){this.un=new aN}addToCollectionParentIndex(e,n){return this.un.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(qr.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(qr.min())}updateCollectionGroup(e,n,r){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class aN{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new vt(tt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new vt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new yi(0)}static kn(){return new yi(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(){this.changes=new xi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ct.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&wo(r.mutation,s,vn.empty(),ut.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Se()){const s=as();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=co();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=as();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Se()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=cr();const o=To(),a=function(){return To()}();return n.forEach((l,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof Os)?i=i.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),wo(h.mutation,u,h.mutation.getFieldMask(),ut.now())):o.set(u.key,vn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>{var f;return a.set(u,new lN(h,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=To();let s=new Ze((o,a)=>o-a),i=Se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||vn.empty();h=a.applyToLocalView(u,h),r.set(l,h);const f=(s.get(a.batchId)||Se()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,f=x0();h.forEach(p=>{if(!i.has(p)){const g=U0(n.get(p),r.get(p));g!==null&&f.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return he.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_k(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):q.resolve(as());let a=-1,l=i;return o.next(u=>q.forEach(u,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?q.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{l=l.insert(h,p)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,Se())).next(h=>({batchId:a,changes:N0(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new he(n)).next(r=>{let s=co();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=co();return this.indexManager.getCollectionParents(e,i).next(a=>q.forEach(a,l=>{const u=function(f,p){return new Dl(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,Ct.newInvalidDocument(h)))});let a=co();return o.forEach((l,u)=>{const h=i.get(l);h!==void 0&&wo(h.mutation,u,vn.empty(),ut.now()),Ml(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return q.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Fn(s.createTime)}}(n)),q.resolve()}getNamedQuery(e,n){return q.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:iN(s.bundledQuery),readTime:Fn(s.readTime)}}(n)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(){this.overlays=new Ze(he.comparator),this.Ir=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=as();return q.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),q.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),q.resolve()}getOverlaysForCollection(e,n,r){const s=as(),i=n.length+1,o=new he(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return q.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ze((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=as(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=as(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=s)););return q.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Vk(n,r));let i=this.Ir.get(n);i===void 0&&(i=Se(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(){this.sessionToken=Et.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(){this.Tr=new vt(dt.Er),this.dr=new vt(dt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new dt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new dt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new he(new tt([])),r=new dt(n,e),s=new dt(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new he(new tt([])),r=new dt(n,e),s=new dt(n,e+1);let i=Se();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new dt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class dt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return he.comparator(e.key,n.key)||Ve(e.wr,n.wr)}static Ar(e,n){return Ve(e.wr,n.wr)||he.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new vt(dt.Er)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Dk(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new dt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return q.resolve(o)}lookupMutationBatch(e,n){return q.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new dt(n,0),s=new dt(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new vt(Ve);return n.forEach(s=>{const i=new dt(s,0),o=new dt(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;he.isDocumentKey(i)||(i=i.child(""));const o=new dt(new he(i),0);let a=new vt(Ve);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.wr)),!0)},o),q.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){qe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return q.forEach(n.mutations,s=>{const i=new dt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new dt(n,0),s=this.br.firstAfterOrEqual(r);return q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e){this.Mr=e,this.docs=function(){return new Ze(he.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return q.resolve(r?r.document.mutableCopy():Ct.newInvalidDocument(n))}getEntries(e,n){let r=cr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Ct.newInvalidDocument(s))}),q.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=cr();const o=n.path,a=new he(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||YO(JO(h),r)<=0||(s.has(h.key)||Ml(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return q.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ve()}Or(e,n){return q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new gN(this)}getSize(e){return q.resolve(this.size)}}class gN extends cN{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),q.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e){this.persistence=e,this.Nr=new xi(n=>yd(n),vd),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Sd,this.targetCount=0,this.kr=yi.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),q.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new yi(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.Kn(n),q.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),q.waitFor(i).next(()=>s)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return q.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),q.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),q.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return q.resolve(r)}containsKey(e,n){return q.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,n){this.qr={},this.overlays={},this.Qr=new pd(0),this.Kr=!1,this.Kr=!0,this.$r=new dN,this.referenceDelegate=e(this),this.Ur=new _N(this),this.indexManager=new oN,this.remoteDocumentCache=function(s){return new mN(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new sN(n),this.Gr=new hN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new fN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new pN(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ae("MemoryPersistence","Starting transaction:",e);const s=new vN(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return q.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class vN extends ZO{constructor(e){super(),this.currentSequenceNumber=e}}class Rd{constructor(e){this.persistence=e,this.Jr=new Sd,this.Yr=null}static Zr(e){return new Rd(e)}get Xr(){if(this.Yr)return this.Yr;throw ve()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),q.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),q.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.Xr,r=>{const s=he.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,Ee.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return q.or([()=>q.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=Se(),s=Se();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Cd(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return uC()?8:ek(xt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new EN;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(eo()<=Pe.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Ws(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),q.resolve()):(eo()<=Pe.DEBUG&&ae("QueryEngine","Query:",Ws(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(eo()<=Pe.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Ws(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mn(n))):q.resolve())}Yi(e,n){if(Vg(n))return q.resolve(null);let r=Mn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Uh(n,null,"F"),r=Mn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Se(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,Uh(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,s){return Vg(n)||s.isEqual(Ee.min())?q.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?q.resolve(null):(eo()<=Pe.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ws(n)),this.rs(e,o,n,QO(s,-1)).next(a=>a))})}ts(e,n){let r=new vt(O0(e));return n.forEach((s,i)=>{Ml(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return eo()<=Pe.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Ws(n)),this.Ji.getDocumentsMatchingQuery(e,n,qr.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new Ze(Ve),this._s=new xi(i=>yd(i),vd),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uN(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function bN(t,e,n,r){return new wN(t,e,n,r)}async function Y0(t,e){const n=Te(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Se();for(const u of s){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of i){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function IN(t,e){const n=Te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const f=u.batch,p=f.keys();let g=q.resolve();return p.forEach(E=>{g=g.next(()=>h.getEntry(l,E)).next(R=>{const S=u.docVersions.get(E);qe(S!==null),R.version.compareTo(S)<0&&(f.applyToRemoteDocument(R,u),R.isValidDocument()&&(R.setReadTime(u.commitVersion),h.addEntry(R)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Se();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function X0(t){const e=Te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function AN(t,e){const n=Te(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;a.push(n.Ur.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(i,h.addedDocuments,f)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Et.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(f,g),function(R,S,x){return R.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(p,g,h)&&a.push(n.Ur.updateTargetData(i,g))});let l=cr(),u=Se();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(SN(i,o,e.documentUpdates).next(h=>{l=h.Ps,u=h.Is})),!r.isEqual(Ee.min())){const h=n.Ur.getLastRemoteSnapshotVersion(i).next(f=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return q.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.os=s,i))}function SN(t,e,n){let r=Se(),s=Se();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=cr();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Ee.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ae("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:s}})}function RN(t,e){const n=Te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function CN(t,e){const n=Te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,q.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new kr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function qh(t,e,n){const r=Te(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!da(o))throw o;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function Wg(t,e,n){const r=Te(t);let s=Ee.min(),i=Se();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,h){const f=Te(l),p=f._s.get(h);return p!==void 0?q.resolve(f.os.get(p)):f.Ur.getTargetData(u,h)}(r,o,Mn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:Ee.min(),n?i:Se())).next(a=>(PN(r,vk(e),a),{documents:a,Ts:i})))}function PN(t,e,n){let r=t.us.get(e)||Ee.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class zg{constructor(){this.activeTargetIds=Ak()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ON{constructor(){this.so=new zg,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new zg,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tc=null;function Uu(){return tc===null?tc=function(){return 268435456+Math.round(2147483648*Math.random())}():tc++,"0x"+tc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const At="WebChannelConnection";class DN extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=Uu(),l=this.xo(n,r.toUriEncodedString());ae("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,i,o),this.No(n,l,u,s).then(h=>(ae("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw pi("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",s),h})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ki}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=NN[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=Uu();return new Promise((o,a)=>{const l=new f0;l.setWithCredentials(!0),l.listenOnce(p0.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case dc.NO_ERROR:const h=l.getResponseJson();ae(At,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case dc.TIMEOUT:ae(At,`RPC '${e}' ${i} timed out`),a(new ue(z.DEADLINE_EXCEEDED,"Request time out"));break;case dc.HTTP_ERROR:const f=l.getStatus();if(ae(At,`RPC '${e}' ${i} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const E=function(S){const x=S.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(x)>=0?x:z.UNKNOWN}(g.status);a(new ue(E,g.message))}else a(new ue(z.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ue(z.UNAVAILABLE,"Connection failed."));break;default:ve()}}finally{ae(At,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);ae(At,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const s=Uu(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=_0(),a=g0(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new d0({})),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");ae(At,`Creating RPC '${e}' stream ${s}: ${h}`,l);const f=o.createWebChannel(h,l);let p=!1,g=!1;const E=new xN({Io:S=>{g?ae(At,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(p||(ae(At,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),ae(At,`RPC '${e}' stream ${s} sending:`,S),f.send(S))},To:()=>f.close()}),R=(S,x,P)=>{S.listen(x,_=>{try{P(_)}catch(O){setTimeout(()=>{throw O},0)}})};return R(f,ao.EventType.OPEN,()=>{g||(ae(At,`RPC '${e}' stream ${s} transport opened.`),E.yo())}),R(f,ao.EventType.CLOSE,()=>{g||(g=!0,ae(At,`RPC '${e}' stream ${s} transport closed`),E.So())}),R(f,ao.EventType.ERROR,S=>{g||(g=!0,pi(At,`RPC '${e}' stream ${s} transport errored:`,S),E.So(new ue(z.UNAVAILABLE,"The operation could not be completed")))}),R(f,ao.EventType.MESSAGE,S=>{var x;if(!g){const P=S.data[0];qe(!!P);const _=P,O=_.error||((x=_[0])===null||x===void 0?void 0:x.error);if(O){ae(At,`RPC '${e}' stream ${s} received error:`,O);const D=O.status;let L=function(y){const w=st[y];if(w!==void 0)return $0(w)}(D),b=O.message;L===void 0&&(L=z.INTERNAL,b="Unknown error status: "+D+" with message "+O.message),g=!0,E.So(new ue(L,b)),f.close()}else ae(At,`RPC '${e}' stream ${s} received:`,P),E.bo(P)}}),R(a,m0.STAT_EVENT,S=>{S.stat===Dh.PROXY?ae(At,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===Dh.NOPROXY&&ae(At,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.wo()},0),E}}function ju(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(t){return new qk(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&ae("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e,n,r,s,i,o,a,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Z0(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(ar(n.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new ue(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class VN extends eT{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=zk(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ee.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Ee.min():o.readTime?Fn(o.readTime):Ee.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Hh(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Fh(l)?{documents:Jk(i,l)}:{query:Yk(i,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=q0(i,o.resumeToken);const u=jh(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Ee.min())>0){a.readTime=Zc(i,o.snapshotVersion.toTimestamp());const u=jh(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=Zk(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Hh(this.serializer),n.removeTarget=e,this.a_(n)}}class MN extends eT{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return qe(!!e.streamToken),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=Qk(e.writeResults,e.commitTime),r=Fn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Hh(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Gk(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new ue(z.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,$h(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ue(z.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,$h(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ue(z.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class FN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ar(n),this.D_=!1):ae("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{ks(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Te(l);u.L_.add(4),await ga(u),u.q_.set("Unknown"),u.L_.delete(4),await $l(u)}(this))})}),this.q_=new FN(r,s)}}async function $l(t){if(ks(t))for(const e of t.B_)await e(!0)}async function ga(t){for(const e of t.B_)await e(!1)}function tT(t,e){const n=Te(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Nd(n)?kd(n):Di(n).r_()&&Od(n,e))}function Pd(t,e){const n=Te(t),r=Di(n);n.N_.delete(e),r.r_()&&nT(n,e),n.N_.size===0&&(r.r_()?r.o_():ks(n)&&n.q_.set("Unknown"))}function Od(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Di(t).A_(e)}function nT(t,e){t.Q_.xe(e),Di(t).R_(e)}function kd(t){t.Q_=new jk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Di(t).start(),t.q_.v_()}function Nd(t){return ks(t)&&!Di(t).n_()&&t.N_.size>0}function ks(t){return Te(t).L_.size===0}function rT(t){t.Q_=void 0}async function jN(t){t.q_.set("Online")}async function $N(t){t.N_.forEach((e,n)=>{Od(t,e)})}async function BN(t,e){rT(t),Nd(t)?(t.q_.M_(e),kd(t)):t.q_.set("Unknown")}async function HN(t,e,n){if(t.q_.set("Online"),e instanceof H0&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await el(t,r)}else if(e instanceof gc?t.Q_.Ke(e):e instanceof B0?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ee.min()))try{const r=await X0(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.N_.get(u);h&&i.N_.set(u,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const h=i.N_.get(l);if(!h)return;i.N_.set(l,h.withResumeToken(Et.EMPTY_BYTE_STRING,h.snapshotVersion)),nT(i,l);const f=new kr(h.target,l,u,h.sequenceNumber);Od(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ae("RemoteStore","Failed to raise snapshot:",r),await el(t,r)}}async function el(t,e,n){if(!da(e))throw e;t.L_.add(1),await ga(t),t.q_.set("Offline"),n||(n=()=>X0(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ae("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await $l(t)})}function sT(t,e){return e().catch(n=>el(t,n,e))}async function Bl(t){const e=Te(t),n=Wr(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;qN(e);)try{const s=await RN(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,KN(e,s)}catch(s){await el(e,s)}iT(e)&&oT(e)}function qN(t){return ks(t)&&t.O_.length<10}function KN(t,e){t.O_.push(e);const n=Wr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function iT(t){return ks(t)&&!Wr(t).n_()&&t.O_.length>0}function oT(t){Wr(t).start()}async function WN(t){Wr(t).p_()}async function zN(t){const e=Wr(t);for(const n of t.O_)e.m_(n.mutations)}async function GN(t,e,n){const r=t.O_.shift(),s=bd.from(r,e,n);await sT(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Bl(t)}async function QN(t,e){e&&Wr(t).V_&&await async function(r,s){if(function(o){return Lk(o)&&o!==z.ABORTED}(s.code)){const i=r.O_.shift();Wr(r).s_(),await sT(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Bl(r)}}(t,e),iT(t)&&oT(t)}async function Qg(t,e){const n=Te(t);n.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const r=ks(n);n.L_.add(3),await ga(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await $l(n)}async function JN(t,e){const n=Te(t);e?(n.L_.delete(2),await $l(n)):e||(n.L_.add(2),await ga(n),n.q_.set("Unknown"))}function Di(t){return t.K_||(t.K_=function(n,r,s){const i=Te(n);return i.w_(),new VN(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:jN.bind(null,t),Ro:$N.bind(null,t),mo:BN.bind(null,t),d_:HN.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Nd(t)?kd(t):t.q_.set("Unknown")):(await t.K_.stop(),rT(t))})),t.K_}function Wr(t){return t.U_||(t.U_=function(n,r,s){const i=Te(n);return i.w_(),new MN(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:WN.bind(null,t),mo:QN.bind(null,t),f_:zN.bind(null,t),g_:GN.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Bl(t)):(await t.U_.stop(),t.O_.length>0&&(ae("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new xd(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dd(t,e){if(ar("AsyncQueue",`${e}: ${t}`),da(t))return new ue(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.comparator=e?(n,r)=>e(n,r)||he.comparator(n.key,r.key):(n,r)=>he.comparator(n.key,r.key),this.keyedMap=co(),this.sortedSet=new Ze(this.comparator)}static emptySet(e){return new ai(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ai)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ai;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(){this.W_=new Ze(he.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ve():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class vi{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new vi(e,n,ai.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class XN{constructor(){this.queries=Yg(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=Te(n),i=s.queries;s.queries=Yg(),i.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new ue(z.ABORTED,"Firestore shutting down"))}}function Yg(){return new xi(t=>P0(t),Vl)}async function ZN(t,e){const n=Te(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new YN,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Dd(o,`Initialization of query '${Ws(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&Vd(n)}async function ex(t,e){const n=Te(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function tx(t,e){const n=Te(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&Vd(n)}function nx(t,e,n){const r=Te(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function Vd(t){t.Y_.forEach(e=>{e.next()})}var Kh,Xg;(Xg=Kh||(Kh={})).ea="default",Xg.Cache="cache";class rx{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new vi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=vi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Kh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e){this.key=e}}class cT{constructor(e){this.key=e}}class sx{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Se(),this.mutatedKeys=Se(),this.Aa=O0(e),this.Ra=new ai(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Jg,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),g=Ml(this.query,f)?f:null,E=!!p&&this.mutatedKeys.has(p.key),R=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let S=!1;p&&g?p.data.isEqual(g.data)?E!==R&&(r.track({type:3,doc:g}),S=!0):this.ga(p,g)||(r.track({type:2,doc:g}),S=!0,(l&&this.Aa(g,l)>0||u&&this.Aa(g,u)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),S=!0):p&&!g&&(r.track({type:1,doc:p}),S=!0,(l||u)&&(a=!0)),S&&(g?(o=o.add(g),i=R?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,f)=>function(g,E){const R=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve()}};return R(g)-R(E)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new vi(this.query,e.Ra,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Jg,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Se(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new cT(r))}),this.da.forEach(r=>{e.has(r)||n.push(new aT(r))}),n}ba(e){this.Ta=e.Ts,this.da=Se();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return vi.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class ix{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ox{constructor(e){this.key=e,this.va=!1}}class ax{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new xi(a=>P0(a),Vl),this.Ma=new Map,this.xa=new Set,this.Oa=new Ze(he.comparator),this.Na=new Map,this.La=new Sd,this.Ba={},this.ka=new Map,this.qa=yi.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function cx(t,e,n=!0){const r=pT(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await lT(r,e,n,!0),s}async function lx(t,e){const n=pT(t);await lT(n,e,!0,!1)}async function lT(t,e,n,r){const s=await CN(t.localStore,Mn(e)),i=s.targetId,o=n?t.sharedClientState.addLocalQueryTarget(i):"not-current";let a;return r&&(a=await ux(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&tT(t.remoteStore,s),a}async function ux(t,e,n,r,s){t.Ka=(f,p,g)=>async function(R,S,x,P){let _=S.view.ma(x);_.ns&&(_=await Wg(R.localStore,S.query,!1).then(({documents:b})=>S.view.ma(b,_)));const O=P&&P.targetChanges.get(S.targetId),D=P&&P.targetMismatches.get(S.targetId)!=null,L=S.view.applyChanges(_,R.isPrimaryClient,O,D);return e_(R,S.targetId,L.wa),L.snapshot}(t,f,p,g);const i=await Wg(t.localStore,e,!0),o=new sx(e,i.Ts),a=o.ma(i.documents),l=ma.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);e_(t,n,u.wa);const h=new ix(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function hx(t,e,n){const r=Te(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!Vl(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await qh(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Pd(r.remoteStore,s.targetId),Wh(r,s.targetId)}).catch(fa)):(Wh(r,s.targetId),await qh(r.localStore,s.targetId,!0))}async function fx(t,e){const n=Te(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Pd(n.remoteStore,r.targetId))}async function dx(t,e,n){const r=Ex(t);try{const s=await function(o,a){const l=Te(o),u=ut.now(),h=a.reduce((g,E)=>g.add(E.key),Se());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let E=cr(),R=Se();return l.cs.getEntries(g,h).next(S=>{E=S,E.forEach((x,P)=>{P.isValidDocument()||(R=R.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,E)).next(S=>{f=S;const x=[];for(const P of a){const _=Nk(P,f.get(P.key).overlayedDocument);_!=null&&x.push(new Os(P.key,_,w0(_.value.mapValue),Ln.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,x,a)}).next(S=>{p=S;const x=S.applyToLocalDocumentSet(f,R);return l.documentOverlayCache.saveOverlays(g,S.batchId,x)})}).then(()=>({batchId:p.batchId,changes:N0(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new Ze(Ve)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,s.batchId,n),await _a(r,s.changes),await Bl(r.remoteStore)}catch(s){const i=Dd(s,"Failed to persist write");n.reject(i)}}async function uT(t,e){const n=Te(t);try{const r=await AN(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(qe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?qe(o.va):s.removedDocuments.size>0&&(qe(o.va),o.va=!1))}),await _a(n,r,e)}catch(r){await fa(r)}}function Zg(t,e,n){const r=Te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Te(o);l.onlineState=a;let u=!1;l.queries.forEach((h,f)=>{for(const p of f.j_)p.Z_(a)&&(u=!0)}),u&&Vd(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function px(t,e,n){const r=Te(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new Ze(he.comparator);o=o.insert(i,Ct.newNoDocument(i,Ee.min()));const a=Se().add(i),l=new Ul(Ee.min(),new Map,new Ze(Ve),o,a);await uT(r,l),r.Oa=r.Oa.remove(i),r.Na.delete(e),Md(r)}else await qh(r.localStore,e,!1).then(()=>Wh(r,e,n)).catch(fa)}async function mx(t,e){const n=Te(t),r=e.batch.batchId;try{const s=await IN(n.localStore,e);fT(n,r,null),hT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _a(n,s)}catch(s){await fa(s)}}async function gx(t,e,n){const r=Te(t);try{const s=await function(o,a){const l=Te(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(qe(f!==null),h=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);fT(r,e,n),hT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await _a(r,s)}catch(s){await fa(s)}}function hT(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function fT(t,e,n){const r=Te(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function Wh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||dT(t,r)})}function dT(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Pd(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Md(t))}function e_(t,e,n){for(const r of n)r instanceof aT?(t.La.addReference(r.key,e),_x(t,r)):r instanceof cT?(ae("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||dT(t,r.key)):ve()}function _x(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ae("SyncEngine","New document in limbo: "+n),t.xa.add(r),Md(t))}function Md(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new he(tt.fromString(e)),r=t.qa.next();t.Na.set(r,new ox(n)),t.Oa=t.Oa.insert(n,r),tT(t.remoteStore,new kr(Mn(Ed(n.path)),r,"TargetPurposeLimboResolution",pd.oe))}}async function _a(t,e,n){const r=Te(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){s.push(u);const f=Cd.Wi(l.targetId,u);i.push(f)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(l,u){const h=Te(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>q.forEach(u,p=>q.forEach(p.$i,g=>h.persistence.referenceDelegate.addReference(f,p.targetId,g)).next(()=>q.forEach(p.Ui,g=>h.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))}catch(f){if(!da(f))throw f;ae("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const p=f.targetId;if(!f.fromCache){const g=h.os.get(p),E=g.snapshotVersion,R=g.withLastLimboFreeSnapshotVersion(E);h.os=h.os.insert(p,R)}}}(r.localStore,i))}async function yx(t,e){const n=Te(t);if(!n.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());const r=await Y0(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new ue(z.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _a(n,r.hs)}}function vx(t,e){const n=Te(t),r=n.Na.get(e);if(r&&r.va)return Se().add(r.key);{let s=Se();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function pT(t){const e=Te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=uT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=px.bind(null,e),e.Ca.d_=tx.bind(null,e.eventManager),e.Ca.$a=nx.bind(null,e.eventManager),e}function Ex(t){const e=Te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gx.bind(null,e),e}class t_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=jl(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return bN(this.persistence,new TN,e.initialUser,this.serializer)}createPersistence(e){return new yN(Rd.Zr,this.serializer)}createSharedClientState(e){return new ON}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Tx{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Zg(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=yx.bind(null,this.syncEngine),await JN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new XN}()}createDatastore(e){const n=jl(e.databaseInfo.databaseId),r=function(i){return new DN(i)}(e.databaseInfo);return function(i,o,a,l){return new LN(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new UN(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Zg(this.syncEngine,n,0),function(){return Gg.D()?new Gg:new kN}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,h){const f=new ax(s,i,o,a,l,u);return h&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Te(s);ae("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await ga(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):ar("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=St.UNAUTHENTICATED,this.clientId=v0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{ae("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(ae("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ue(z.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Dd(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function $u(t,e){t.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Y0(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function n_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Ax(t);ae("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Qg(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Qg(e.remoteStore,s)),t._onlineComponents=e}function Ix(t){return t.name==="FirebaseError"?t.code===z.FAILED_PRECONDITION||t.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Ax(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{await $u(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Ix(n))throw n;pi("Error using user provided cache. Falling back to memory cache: "+n),await $u(t,new t_)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),await $u(t,new t_);return t._offlineComponents}async function mT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),await n_(t,t._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),await n_(t,new Tx))),t._onlineComponents}function Sx(t){return mT(t).then(e=>e.syncEngine)}async function Rx(t){const e=await mT(t),n=e.eventManager;return n.onListen=cx.bind(null,e.syncEngine),n.onUnlisten=hx.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=lx.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=fx.bind(null,e.syncEngine),n}function Cx(t,e,n={}){const r=new Ur;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const h=new wx({next:p=>{o.enqueueAndForget(()=>ex(i,f));const g=p.docs.has(a);!g&&p.fromCache?u.reject(new ue(z.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?u.reject(new ue(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new rx(Ed(a.path),h,{includeMetadataChanges:!0,_a:!0});return ZN(i,f)}(await Rx(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(t,e,n){if(!n)throw new ue(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Ox(t,e,n,r){if(e===!0&&r===!0)throw new ue(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function s_(t){if(!he.isDocumentKey(t))throw new ue(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ld(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ve()}function Ei(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ue(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ld(t);throw new ue(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ue(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ox("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ue(z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ue(z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ue(z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fd{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new i_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ue(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ue(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new i_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new jO;switch(r.type){case"firstParty":return new qO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=r_.get(n);r&&(ae("ComponentProvider","Removing Datastore"),r_.delete(n),r.terminate())}(this),Promise.resolve()}}function kx(t,e,n,r={}){var s;const i=(t=Ei(t,Fd))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&pi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=St.MOCK_USER;else{a=sC(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ue(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new St(u)}t._authCredentials=new $O(new y0(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ud(this.firestore,e,this._query)}}class fn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}}class Wo extends Ud{constructor(e,n,r){super(e,n,Ed(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new he(e))}withConverter(e){return new Wo(this.firestore,e,this._path)}}function o_(t,e,...n){if(t=rn(t),arguments.length===1&&(e=v0.newId()),Px("doc","path",e),t instanceof Fd){const r=tt.fromString(e,...n);return s_(r),new fn(t,null,new he(r))}{if(!(t instanceof fn||t instanceof Wo))throw new ue(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(tt.fromString(e,...n));return s_(r),new fn(t.firestore,t instanceof Wo?t.converter:null,new he(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new Z0(this,"async_queue_retry"),this.Eu=()=>{const n=ju();n&&ae("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=ju();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=ju();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new Ur;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!da(e))throw e;ae("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ar("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const s=xd.createAndSchedule(this,e,n,r,i=>this.Vu(i));return this.lu.push(s),s}du(){this.hu&&ve()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}class Hl extends Fd{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new Nx}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||yT(this),this._firestoreClient.terminate()}}function xx(t,e){const n=typeof t=="object"?t:RE(),r=typeof t=="string"?t:"(default)",s=rd(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=nC("firestore");i&&kx(s,...i)}return s}function _T(t){return t._firestoreClient||yT(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function yT(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,u,h){return new rk(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,gT(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new bx(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ti(Et.fromBase64String(e))}catch(n){throw new ue(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ti(Et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=/^__.*__$/;class Vx{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Os(e,this.data,this.fieldMask,n,this.fieldTransforms):new pa(e,this.data,n,this.fieldTransforms)}}function ET(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve()}}class Hd{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.yu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new Hd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Su({path:r,Du:!1});return s.vu(e),s}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Su({path:r,Du:!1});return s.yu(),s}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return tl(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(ET(this.wu)&&Dx.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class Mx{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||jl(e)}Nu(e,n,r,s=!1){return new Hd({wu:e,methodName:n,Ou:r,path:yt.emptyPath(),Du:!1,xu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lx(t){const e=t._freezeSettings(),n=jl(t._databaseId);return new Mx(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Fx(t,e,n,r,s,i={}){const o=t.Nu(i.merge||i.mergeFields?2:0,e,n,s);IT("Data must be an object, but it was:",o,r);const a=wT(r,o);let l,u;if(i.merge)l=new vn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const p=Ux(e,f,n);if(!o.contains(p))throw new ue(z.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);$x(h,p)||h.push(p)}l=new vn(h),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new Vx(new cn(a),l,u)}function TT(t,e){if(bT(t=rn(t)))return IT("Unsupported field value:",e,t),wT(t,e);if(t instanceof vT)return function(r,s){if(!ET(s.wu))throw s.Mu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Mu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=TT(a,s.Fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=rn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Sk(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=ut.fromDate(r);return{timestampValue:Zc(s.serializer,i)}}if(r instanceof ut){const i=new ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zc(s.serializer,i)}}if(r instanceof $d)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ti)return{bytesValue:q0(s.serializer,r._byteString)};if(r instanceof fn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Ad(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Bd)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return Td(a.serializer,l)})}}}}}}(r,s);throw s.Mu(`Unsupported field value: ${Ld(r)}`)}(t,e)}function wT(t,e){const n={};return E0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ni(t,(r,s)=>{const i=TT(s,e.bu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function bT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ut||t instanceof $d||t instanceof Ti||t instanceof fn||t instanceof vT||t instanceof Bd)}function IT(t,e,n){if(!bT(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Ld(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function Ux(t,e,n){if((e=rn(e))instanceof jd)return e._internalPath;if(typeof e=="string")return AT(t,e);throw tl("Field path arguments must be of type string or ",t,!1,void 0,n)}const jx=new RegExp("[~\\*/\\[\\]]");function AT(t,e,n){if(e.search(jx)>=0)throw tl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new jd(...e.split("."))._internalPath}catch{throw tl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function tl(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new ue(z.INVALID_ARGUMENT,a+t+l)}function $x(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Bx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(RT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Bx extends ST{data(){return super.data()}}function RT(t,e){return typeof e=="string"?AT(t,e):e instanceof jd?e._internalPath:e._delegate._internalPath}class Hx{convertValue(e,n="none"){switch(bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ni(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>nt(o.doubleValue));return new Bd(i)}convertGeoPoint(e){return new $d(nt(e.latitude),nt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=gd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($o(e));default:return null}}convertTimestamp(e){const n=Kr(e);return new ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=tt.fromString(e);qe(J0(r));const s=new Bo(r.get(1),r.get(3)),i=new he(r.popFirst(5));return s.isEqual(n)||ar(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class CT extends ST{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Wx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(RT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Wx extends CT{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(t){t=Ei(t,fn);const e=Ei(t.firestore,Hl);return Cx(_T(e),t._key).then(n=>Yx(e,t,n))}class Gx extends Hx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ti(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,n)}}function Qx(t,e,n){t=Ei(t,fn);const r=Ei(t.firestore,Hl),s=qx(t.converter,e);return PT(r,[Fx(Lx(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Ln.none())])}function Jx(t){return PT(Ei(t.firestore,Hl),[new wd(t._key,Ln.none())])}function PT(t,e){return function(r,s){const i=new Ur;return r.asyncQueue.enqueueAndForget(async()=>dx(await Sx(r),s,i)),i.promise}(_T(t),e)}function Yx(t,e,n){const r=n.docs.get(e._key),s=new Gx(t);return new CT(t,s,e._key,r,new Kx(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){ki=s})(Pi),di(new ys("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Hl(new BO(r.getProvider("auth-internal")),new WO(r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ue(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bo(u.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Fr(Ag,"4.7.1",e),Fr(Ag,"4.7.1","esm2017")})();const Xx={apiKey:"AIzaSyAMBXbCVYqCAxFvEtj1q46wHYQdMNp2D8A",authDomain:"samle-48b27.firebaseapp.com",projectId:"samle-48b27",storageBucket:"samle-48b27.appspot.com",messagingSenderId:"33990985691",appId:"1:33990985691:web:1c428e46b0908c2ac5c9fe"},OT=SE(Xx),wi=FO(OT),a_=xx(OT);/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Qs=typeof document<"u";function kT(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Zx(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&kT(t.default)}const Fe=Object.assign;function Bu(t,e){const n={};for(const r in e){const s=e[r];n[r]=bn(s)?s.map(t):t(s)}return n}const bo=()=>{},bn=Array.isArray,NT=/#/g,eD=/&/g,tD=/\//g,nD=/=/g,rD=/\?/g,xT=/\+/g,sD=/%5B/g,iD=/%5D/g,DT=/%5E/g,oD=/%60/g,VT=/%7B/g,aD=/%7C/g,MT=/%7D/g,cD=/%20/g;function qd(t){return encodeURI(""+t).replace(aD,"|").replace(sD,"[").replace(iD,"]")}function lD(t){return qd(t).replace(VT,"{").replace(MT,"}").replace(DT,"^")}function zh(t){return qd(t).replace(xT,"%2B").replace(cD,"+").replace(NT,"%23").replace(eD,"%26").replace(oD,"`").replace(VT,"{").replace(MT,"}").replace(DT,"^")}function uD(t){return zh(t).replace(nD,"%3D")}function hD(t){return qd(t).replace(NT,"%23").replace(rD,"%3F")}function fD(t){return t==null?"":hD(t).replace(tD,"%2F")}function zo(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const dD=/\/$/,pD=t=>t.replace(dD,"");function Hu(t,e,n="/"){let r,s={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),s=t(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=yD(r??e,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:zo(o)}}function mD(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function c_(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function gD(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&bi(e.matched[r],n.matched[s])&&LT(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function bi(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function LT(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!_D(t[n],e[n]))return!1;return!0}function _D(t,e){return bn(t)?l_(t,e):bn(e)?l_(e,t):t===e}function l_(t,e){return bn(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function yD(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const vr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Go;(function(t){t.pop="pop",t.push="push"})(Go||(Go={}));var Io;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Io||(Io={}));function vD(t){if(!t)if(Qs){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),pD(t)}const ED=/^[^#]+#/;function TD(t,e){return t.replace(ED,"#")+e}function wD(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const ql=()=>({left:window.scrollX,top:window.scrollY});function bD(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=wD(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function u_(t,e){return(history.state?history.state.position-e:-1)+t}const Gh=new Map;function ID(t,e){Gh.set(t,e)}function AD(t){const e=Gh.get(t);return Gh.delete(t),e}let SD=()=>location.protocol+"//"+location.host;function FT(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let a=s.includes(t.slice(i))?t.slice(i).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),c_(l,"")}return c_(n,t)+r+s}function RD(t,e,n,r){let s=[],i=[],o=null;const a=({state:p})=>{const g=FT(t,location),E=n.value,R=e.value;let S=0;if(p){if(n.value=g,e.value=p,o&&o===E){o=null;return}S=R?p.position-R.position:0}else r(g);s.forEach(x=>{x(n.value,E,{delta:S,type:Go.pop,direction:S?S>0?Io.forward:Io.back:Io.unknown})})};function l(){o=n.value}function u(p){s.push(p);const g=()=>{const E=s.indexOf(p);E>-1&&s.splice(E,1)};return i.push(g),g}function h(){const{history:p}=window;p.state&&p.replaceState(Fe({},p.state,{scroll:ql()}),"")}function f(){for(const p of i)p();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:l,listen:u,destroy:f}}function h_(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?ql():null}}function CD(t){const{history:e,location:n}=window,r={value:FT(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,u,h){const f=t.indexOf("#"),p=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+l:SD()+t+l;try{e[h?"replaceState":"pushState"](u,"",p),s.value=u}catch(g){console.error(g),n[h?"replace":"assign"](p)}}function o(l,u){const h=Fe({},e.state,h_(s.value.back,l,s.value.forward,!0),u,{position:s.value.position});i(l,h,!0),r.value=l}function a(l,u){const h=Fe({},s.value,e.state,{forward:l,scroll:ql()});i(h.current,h,!0);const f=Fe({},h_(r.value,l,null),{position:h.position+1},u);i(l,f,!1),r.value=l}return{location:r,state:s,push:a,replace:o}}function PD(t){t=vD(t);const e=CD(t),n=RD(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=Fe({location:"",base:t,go:r,createHref:TD.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function OD(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),PD(t)}function kD(t){return typeof t=="string"||t&&typeof t=="object"}function UT(t){return typeof t=="string"||typeof t=="symbol"}const jT=Symbol("");var f_;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(f_||(f_={}));function Ii(t,e){return Fe(new Error,{type:t,[jT]:!0},e)}function Gn(t,e){return t instanceof Error&&jT in t&&(e==null||!!(t.type&e))}const d_="[^/]+?",ND={sensitive:!1,strict:!1,start:!0,end:!0},xD=/[.+*?^${}()[\]/\\]/g;function DD(t,e){const n=Fe({},ND,e),r=[];let s=n.start?"^":"";const i=[];for(const u of t){const h=u.length?[]:[90];n.strict&&!u.length&&(s+="/");for(let f=0;f<u.length;f++){const p=u[f];let g=40+(n.sensitive?.25:0);if(p.type===0)f||(s+="/"),s+=p.value.replace(xD,"\\$&"),g+=40;else if(p.type===1){const{value:E,repeatable:R,optional:S,regexp:x}=p;i.push({name:E,repeatable:R,optional:S});const P=x||d_;if(P!==d_){g+=10;try{new RegExp(`(${P})`)}catch(O){throw new Error(`Invalid custom RegExp for param "${E}" (${P}): `+O.message)}}let _=R?`((?:${P})(?:/(?:${P}))*)`:`(${P})`;f||(_=S&&u.length<2?`(?:/${_})`:"/"+_),S&&(_+="?"),s+=_,g+=20,S&&(g+=-8),R&&(g+=-20),P===".*"&&(g+=-50)}h.push(g)}r.push(h)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(u){const h=u.match(o),f={};if(!h)return null;for(let p=1;p<h.length;p++){const g=h[p]||"",E=i[p-1];f[E.name]=g&&E.repeatable?g.split("/"):g}return f}function l(u){let h="",f=!1;for(const p of t){(!f||!h.endsWith("/"))&&(h+="/"),f=!1;for(const g of p)if(g.type===0)h+=g.value;else if(g.type===1){const{value:E,repeatable:R,optional:S}=g,x=E in u?u[E]:"";if(bn(x)&&!R)throw new Error(`Provided param "${E}" is an array but it is not repeatable (* or + modifiers)`);const P=bn(x)?x.join("/"):x;if(!P)if(S)p.length<2&&(h.endsWith("/")?h=h.slice(0,-1):f=!0);else throw new Error(`Missing required param "${E}"`);h+=P}}return h||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function VD(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function $T(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=VD(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(p_(r))return 1;if(p_(s))return-1}return s.length-r.length}function p_(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const MD={type:0,value:""},LD=/[a-zA-Z0-9_]/;function FD(t){if(!t)return[[]];if(t==="/")return[[MD]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${n})/"${u}": ${g}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,l,u="",h="";function f(){u&&(n===0?i.push({type:0,value:u}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:h,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function p(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&f(),o()):l===":"?(f(),n=1):p();break;case 4:p(),n=r;break;case 1:l==="("?n=2:LD.test(l)?p():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+l:n=3:h+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,h="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),f(),o(),s}function UD(t,e,n){const r=DD(FD(t.path),n),s=Fe(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function jD(t,e){const n=[],r=new Map;e=y_({strict:!1,end:!0,sensitive:!1},e);function s(f){return r.get(f)}function i(f,p,g){const E=!g,R=g_(f);R.aliasOf=g&&g.record;const S=y_(e,f),x=[R];if("alias"in f){const O=typeof f.alias=="string"?[f.alias]:f.alias;for(const D of O)x.push(g_(Fe({},R,{components:g?g.record.components:R.components,path:D,aliasOf:g?g.record:R})))}let P,_;for(const O of x){const{path:D}=O;if(p&&D[0]!=="/"){const L=p.record.path,b=L[L.length-1]==="/"?"":"/";O.path=p.record.path+(D&&b+D)}if(P=UD(O,p,S),g?g.alias.push(P):(_=_||P,_!==P&&_.alias.push(P),E&&f.name&&!__(P)&&o(f.name)),BT(P)&&l(P),R.children){const L=R.children;for(let b=0;b<L.length;b++)i(L[b],P,g&&g.children[b])}g=g||P}return _?()=>{o(_)}:bo}function o(f){if(UT(f)){const p=r.get(f);p&&(r.delete(f),n.splice(n.indexOf(p),1),p.children.forEach(o),p.alias.forEach(o))}else{const p=n.indexOf(f);p>-1&&(n.splice(p,1),f.record.name&&r.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return n}function l(f){const p=HD(f,n);n.splice(p,0,f),f.record.name&&!__(f)&&r.set(f.record.name,f)}function u(f,p){let g,E={},R,S;if("name"in f&&f.name){if(g=r.get(f.name),!g)throw Ii(1,{location:f});S=g.record.name,E=Fe(m_(p.params,g.keys.filter(_=>!_.optional).concat(g.parent?g.parent.keys.filter(_=>_.optional):[]).map(_=>_.name)),f.params&&m_(f.params,g.keys.map(_=>_.name))),R=g.stringify(E)}else if(f.path!=null)R=f.path,g=n.find(_=>_.re.test(R)),g&&(E=g.parse(R),S=g.record.name);else{if(g=p.name?r.get(p.name):n.find(_=>_.re.test(p.path)),!g)throw Ii(1,{location:f,currentLocation:p});S=g.record.name,E=Fe({},p.params,f.params),R=g.stringify(E)}const x=[];let P=g;for(;P;)x.unshift(P.record),P=P.parent;return{name:S,path:R,params:E,matched:x,meta:BD(x)}}t.forEach(f=>i(f));function h(){n.length=0,r.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:h,getRoutes:a,getRecordMatcher:s}}function m_(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function g_(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:$D(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function $D(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function __(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function BD(t){return t.reduce((e,n)=>Fe(e,n.meta),{})}function y_(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function HD(t,e){let n=0,r=e.length;for(;n!==r;){const i=n+r>>1;$T(t,e[i])<0?r=i:n=i+1}const s=qD(t);return s&&(r=e.lastIndexOf(s,r-1)),r}function qD(t){let e=t;for(;e=e.parent;)if(BT(e)&&$T(t,e)===0)return e}function BT({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function KD(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(xT," "),o=i.indexOf("="),a=zo(o<0?i:i.slice(0,o)),l=o<0?null:zo(i.slice(o+1));if(a in e){let u=e[a];bn(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function v_(t){let e="";for(let n in t){const r=t[n];if(n=uD(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(bn(r)?r.map(i=>i&&zh(i)):[r&&zh(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function WD(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=bn(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const zD=Symbol(""),E_=Symbol(""),Kl=Symbol(""),Kd=Symbol(""),Qh=Symbol("");function to(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Sr(t,e,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((a,l)=>{const u=p=>{p===!1?l(Ii(4,{from:n,to:e})):p instanceof Error?l(p):kD(p)?l(Ii(2,{from:e,to:p})):(o&&r.enterCallbacks[s]===o&&typeof p=="function"&&o.push(p),a())},h=i(()=>t.call(r&&r.instances[s],e,n,u));let f=Promise.resolve(h);t.length<3&&(f=f.then(u)),f.catch(p=>l(p))})}function qu(t,e,n,r,s=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(kT(l)){const h=(l.__vccOpts||l)[e];h&&i.push(Sr(h,n,r,o,a,s))}else{let u=l();i.push(()=>u.then(h=>{if(!h)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=Zx(h)?h.default:h;o.mods[a]=h,o.components[a]=f;const g=(f.__vccOpts||f)[e];return g&&Sr(g,n,r,o,a,s)()}))}}return i}function T_(t){const e=zt(Kl),n=zt(Kd),r=Ae(()=>{const l=kt(t.to);return e.resolve(l)}),s=Ae(()=>{const{matched:l}=r.value,{length:u}=l,h=l[u-1],f=n.matched;if(!h||!f.length)return-1;const p=f.findIndex(bi.bind(null,h));if(p>-1)return p;const g=w_(l[u-2]);return u>1&&w_(h)===g&&f[f.length-1].path!==g?f.findIndex(bi.bind(null,l[u-2])):p}),i=Ae(()=>s.value>-1&&YD(n.params,r.value.params)),o=Ae(()=>s.value>-1&&s.value===n.matched.length-1&&LT(n.params,r.value.params));function a(l={}){return JD(l)?e[kt(t.replace)?"replace":"push"](kt(t.to)).catch(bo):Promise.resolve()}return{route:r,href:Ae(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}const GD=Rs({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:T_,setup(t,{slots:e}){const n=qn(T_(t)),{options:r}=zt(Kl),s=Ae(()=>({[b_(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[b_(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:Ri("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),QD=GD;function JD(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function YD(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!bn(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function w_(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const b_=(t,e,n)=>t??e??n,XD=Rs({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=zt(Qh),s=Ae(()=>t.route||r.value),i=zt(E_,0),o=Ae(()=>{let u=kt(i);const{matched:h}=s.value;let f;for(;(f=h[u])&&!f.components;)u++;return u}),a=Ae(()=>s.value.matched[o.value]);mo(E_,Ae(()=>o.value+1)),mo(zD,a),mo(Qh,s);const l=ye();return rt(()=>[l.value,a.value,t.name],([u,h,f],[p,g,E])=>{h&&(h.instances[f]=u,g&&g!==h&&u&&u===p&&(h.leaveGuards.size||(h.leaveGuards=g.leaveGuards),h.updateGuards.size||(h.updateGuards=g.updateGuards))),u&&h&&(!g||!bi(h,g)||!p)&&(h.enterCallbacks[f]||[]).forEach(R=>R(u))},{flush:"post"}),()=>{const u=s.value,h=t.name,f=a.value,p=f&&f.components[h];if(!p)return I_(n.default,{Component:p,route:u});const g=f.props[h],E=g?g===!0?u.params:typeof g=="function"?g(u):g:null,S=Ri(p,Fe({},E,e,{onVnodeUnmounted:x=>{x.component.isUnmounted&&(f.instances[h]=null)},ref:l}));return I_(n.default,{Component:S,route:u})||S}}});function I_(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const ZD=XD;function eV(t){const e=jD(t.routes,t),n=t.parseQuery||KD,r=t.stringifyQuery||v_,s=t.history,i=to(),o=to(),a=to(),l=Of(vr);let u=vr;Qs&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=Bu.bind(null,$=>""+$),f=Bu.bind(null,fD),p=Bu.bind(null,zo);function g($,ee){let X,re;return UT($)?(X=e.getRecordMatcher($),re=ee):re=$,e.addRoute(re,X)}function E($){const ee=e.getRecordMatcher($);ee&&e.removeRoute(ee)}function R(){return e.getRoutes().map($=>$.record)}function S($){return!!e.getRecordMatcher($)}function x($,ee){if(ee=Fe({},ee||l.value),typeof $=="string"){const N=Hu(n,$,ee.path),M=e.resolve({path:N.path},ee),H=s.createHref(N.fullPath);return Fe(N,M,{params:p(M.params),hash:zo(N.hash),redirectedFrom:void 0,href:H})}let X;if($.path!=null)X=Fe({},$,{path:Hu(n,$.path,ee.path).path});else{const N=Fe({},$.params);for(const M in N)N[M]==null&&delete N[M];X=Fe({},$,{params:f(N)}),ee.params=f(ee.params)}const re=e.resolve(X,ee),Ce=$.hash||"";re.params=h(p(re.params));const je=mD(r,Fe({},$,{hash:lD(Ce),path:re.path})),A=s.createHref(je);return Fe({fullPath:je,hash:Ce,query:r===v_?WD($.query):$.query||{}},re,{redirectedFrom:void 0,href:A})}function P($){return typeof $=="string"?Hu(n,$,l.value.path):Fe({},$)}function _($,ee){if(u!==$)return Ii(8,{from:ee,to:$})}function O($){return b($)}function D($){return O(Fe(P($),{replace:!0}))}function L($){const ee=$.matched[$.matched.length-1];if(ee&&ee.redirect){const{redirect:X}=ee;let re=typeof X=="function"?X($):X;return typeof re=="string"&&(re=re.includes("?")||re.includes("#")?re=P(re):{path:re},re.params={}),Fe({query:$.query,hash:$.hash,params:re.path!=null?{}:$.params},re)}}function b($,ee){const X=u=x($),re=l.value,Ce=$.state,je=$.force,A=$.replace===!0,N=L(X);if(N)return b(Fe(P(N),{state:typeof N=="object"?Fe({},Ce,N.state):Ce,force:je,replace:A}),ee||X);const M=X;M.redirectedFrom=ee;let H;return!je&&gD(r,re,X)&&(H=Ii(16,{to:M,from:re}),sn(re,re,!0,!1)),(H?Promise.resolve(H):w(M,re)).catch(j=>Gn(j)?Gn(j,2)?j:mn(j):te(j,M,re)).then(j=>{if(j){if(Gn(j,2))return b(Fe({replace:A},P(j.to),{state:typeof j.to=="object"?Fe({},Ce,j.to.state):Ce,force:je}),ee||M)}else j=C(M,re,!0,A,Ce);return k(M,re,j),j})}function T($,ee){const X=_($,ee);return X?Promise.reject(X):Promise.resolve()}function y($){const ee=hr.values().next().value;return ee&&typeof ee.runWithContext=="function"?ee.runWithContext($):$()}function w($,ee){let X;const[re,Ce,je]=tV($,ee);X=qu(re.reverse(),"beforeRouteLeave",$,ee);for(const N of re)N.leaveGuards.forEach(M=>{X.push(Sr(M,$,ee))});const A=T.bind(null,$,ee);return X.push(A),$t(X).then(()=>{X=[];for(const N of i.list())X.push(Sr(N,$,ee));return X.push(A),$t(X)}).then(()=>{X=qu(Ce,"beforeRouteUpdate",$,ee);for(const N of Ce)N.updateGuards.forEach(M=>{X.push(Sr(M,$,ee))});return X.push(A),$t(X)}).then(()=>{X=[];for(const N of je)if(N.beforeEnter)if(bn(N.beforeEnter))for(const M of N.beforeEnter)X.push(Sr(M,$,ee));else X.push(Sr(N.beforeEnter,$,ee));return X.push(A),$t(X)}).then(()=>($.matched.forEach(N=>N.enterCallbacks={}),X=qu(je,"beforeRouteEnter",$,ee,y),X.push(A),$t(X))).then(()=>{X=[];for(const N of o.list())X.push(Sr(N,$,ee));return X.push(A),$t(X)}).catch(N=>Gn(N,8)?N:Promise.reject(N))}function k($,ee,X){a.list().forEach(re=>y(()=>re($,ee,X)))}function C($,ee,X,re,Ce){const je=_($,ee);if(je)return je;const A=ee===vr,N=Qs?history.state:{};X&&(re||A?s.replace($.fullPath,Fe({scroll:A&&N&&N.scroll},Ce)):s.push($.fullPath,Ce)),l.value=$,sn($,ee,X,A),mn()}let I;function ge(){I||(I=s.listen(($,ee,X)=>{if(!Cn.listening)return;const re=x($),Ce=L(re);if(Ce){b(Fe(Ce,{replace:!0}),re).catch(bo);return}u=re;const je=l.value;Qs&&ID(u_(je.fullPath,X.delta),ql()),w(re,je).catch(A=>Gn(A,12)?A:Gn(A,2)?(b(A.to,re).then(N=>{Gn(N,20)&&!X.delta&&X.type===Go.pop&&s.go(-1,!1)}).catch(bo),Promise.reject()):(X.delta&&s.go(-X.delta,!1),te(A,re,je))).then(A=>{A=A||C(re,je,!1),A&&(X.delta&&!Gn(A,8)?s.go(-X.delta,!1):X.type===Go.pop&&Gn(A,20)&&s.go(-1,!1)),k(re,je,A)}).catch(bo)}))}let Ie=to(),ne=to(),me;function te($,ee,X){mn($);const re=ne.list();return re.length?re.forEach(Ce=>Ce($,ee,X)):console.error($),Promise.reject($)}function Je(){return me&&l.value!==vr?Promise.resolve():new Promise(($,ee)=>{Ie.add([$,ee])})}function mn($){return me||(me=!$,ge(),Ie.list().forEach(([ee,X])=>$?X($):ee()),Ie.reset()),$}function sn($,ee,X,re){const{scrollBehavior:Ce}=t;if(!Qs||!Ce)return Promise.resolve();const je=!X&&AD(u_($.fullPath,0))||(re||!X)&&history.state&&history.state.scroll||null;return ta().then(()=>Ce($,ee,je)).then(A=>A&&bD(A)).catch(A=>te(A,$,ee))}const Ye=$=>s.go($);let Xe;const hr=new Set,Cn={currentRoute:l,listening:!0,addRoute:g,removeRoute:E,clearRoutes:e.clearRoutes,hasRoute:S,getRoutes:R,resolve:x,options:t,push:O,replace:D,go:Ye,back:()=>Ye(-1),forward:()=>Ye(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:ne.add,isReady:Je,install($){const ee=this;$.component("RouterLink",QD),$.component("RouterView",ZD),$.config.globalProperties.$router=ee,Object.defineProperty($.config.globalProperties,"$route",{enumerable:!0,get:()=>kt(l)}),Qs&&!Xe&&l.value===vr&&(Xe=!0,O(s.location).catch(Ce=>{}));const X={};for(const Ce in vr)Object.defineProperty(X,Ce,{get:()=>l.value[Ce],enumerable:!0});$.provide(Kl,ee),$.provide(Kd,Rf(X)),$.provide(Qh,l);const re=$.unmount;hr.add($),$.unmount=function(){hr.delete($),hr.size<1&&(u=vr,I&&I(),I=null,l.value=vr,Xe=!1,me=!1),re()}}};function $t($){return $.reduce((ee,X)=>ee.then(()=>y(X)),Promise.resolve())}return Cn}function tV(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(u=>bi(u,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(u=>bi(u,l))||s.push(l))}return[n,r,s]}function Wd(){return zt(Kl)}function nV(t){return zt(Kd)}const An=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},rV={class:"navbar"},sV={class:"container"},iV={class:"nav-right"},oV={class:"user-dropdown"},aV={__name:"Navbar",setup(t){const e=ye(!1),n=ye(!1),r=ye(null),s=Wd(),i=ye(null),o=()=>{e.value=!e.value},a=()=>{n.value=!n.value},l=async()=>{try{await RP(wi),s.push("/"),n.value=!1}catch(f){console.error("Error signing out:",f)}},u=f=>{i.value&&!i.value.contains(f.target)&&(n.value=!1)};let h;return pn(()=>{h=e0(wi,f=>{r.value=f}),document.addEventListener("click",u)}),Qr(()=>{h&&h(),document.removeEventListener("click",u)}),(f,p)=>{const g=Al("router-link");return se(),de("nav",rV,[B("div",sV,[ke(g,{to:"/",class:"logo"},{default:Zt(()=>p[0]||(p[0]=[B("img",{src:"/logo.png",alt:"Logo"},null,-1)])),_:1}),B("div",iV,[B("div",{class:"user-menu",ref_key:"userMenu",ref:i},[B("button",{onClick:a,class:"user-icon","aria-label":"User menu"},p[1]||(p[1]=[B("svg",{xmlns:"http://www.w3.org/2000/svg",height:"32",width:"32",viewBox:"0 0 512 512"},[B("path",{d:"M406.5 399.6C387.4 352.9 341.5 320 288 320l-64 0c-53.5 0-99.4 32.9-118.5 79.6C69.9 362.2 48 311.7 48 256C48 141.1 141.1 48 256 48s208 93.1 208 208c0 55.7-21.9 106.2-57.5 143.6zm-40.1 32.7C334.4 452.4 296.6 464 256 464s-78.4-11.6-110.5-31.7c7.3-36.7 39.7-64.3 78.5-64.3l64 0c38.8 0 71.2 27.6 78.5 64.3zM256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-272a40 40 0 1 1 0-80 40 40 0 1 1 0 80zm-88-40a88 88 0 1 0 176 0 88 88 0 1 0 -176 0z"})],-1)])),ln(B("div",oV,[r.value?pt("",!0):(se(),tn(g,{key:0,to:"/signin"},{default:Zt(()=>p[2]||(p[2]=[qt("Sign In")])),_:1})),r.value?pt("",!0):(se(),tn(g,{key:1,to:"/signup"},{default:Zt(()=>p[3]||(p[3]=[qt("Sign Up")])),_:1})),r.value?(se(),tn(g,{key:2,to:"/favorites"},{default:Zt(()=>p[4]||(p[4]=[qt("Favorites")])),_:1})):pt("",!0),r.value?(se(),de("a",{key:3,onClick:l,href:"#"},"Sign Out")):pt("",!0)],512),[[Gf,n.value]])],512),B("div",{class:jn(["menu-icon",{open:e.value}]),onClick:o},p[5]||(p[5]=[B("span",null,null,-1),B("span",null,null,-1),B("span",null,null,-1)]),2)]),B("ul",{class:jn(["nav-links",{open:e.value}])},[B("li",null,[ke(g,{to:"/"},{default:Zt(()=>p[6]||(p[6]=[qt("Home")])),_:1})]),B("li",null,[ke(g,{to:"/about"},{default:Zt(()=>p[7]||(p[7]=[qt("About")])),_:1})]),B("li",null,[ke(g,{to:"/contact"},{default:Zt(()=>p[8]||(p[8]=[qt("Contact")])),_:1})])],2)])])}}},cV=An(aV,[["__scopeId","data-v-4e3d9fb4"]]),lV={id:"app"},uV={__name:"App",setup(t){const e=Yf();let n;return pn(()=>{n=e0(wi,r=>{e.dispatch("setUser",r)})}),Qr(()=>{n&&n()}),(r,s)=>{const i=Al("router-view");return se(),de("div",lV,[ke(cV),ke(i)])}}},hV={class:"recipe-card"},fV=["src","alt"],dV={class:"recipe-content"},pV=["title"],mV=["title"],gV={__name:"RecipeCard",props:{recipe:{type:Object,required:!0}},setup(t){return(e,n)=>{const r=Al("router-link");return se(),tn(zf,{appear:"",name:"card",mode:"out-in"},{default:Zt(()=>[B("div",hV,[B("img",{src:t.recipe.strMealThumb,alt:t.recipe.strMeal},null,8,fV),B("div",dV,[B("h3",{title:t.recipe.strMeal},Qe(t.recipe.strMeal),9,pV),n[1]||(n[1]=B("hr",null,null,-1)),B("p",{title:"Category: "+t.recipe.strCategory},"Category: "+Qe(t.recipe.strCategory),9,mV),ke(r,{to:"/recipe/"+t.recipe.idMeal,class:"btn"},{default:Zt(()=>n[0]||(n[0]=[qt("View Recipe")])),_:1},8,["to"])])])]),_:1})}}},HT=An(gV,[["__scopeId","data-v-569195b0"]]),_V="/Cook-Castle/assets/pot.CU0_HBx-.gif",yV={class:"loading-spinner"},vV={__name:"LoadingSpinner",setup(t){return(e,n)=>(se(),de("div",yV,n[0]||(n[0]=[B("div",{class:"spinner"},[B("img",{src:_V,alt:""})],-1),B("p",null,"Loading recipes...",-1)])))}},nl=An(vV,[["__scopeId","data-v-a355a6e3"]]);function qT(t,e){return function(){return t.apply(e,arguments)}}const{toString:EV}=Object.prototype,{getPrototypeOf:zd}=Object,Wl=(t=>e=>{const n=EV.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Sn=t=>(t=t.toLowerCase(),e=>Wl(e)===t),zl=t=>e=>typeof e===t,{isArray:Vi}=Array,Qo=zl("undefined");function TV(t){return t!==null&&!Qo(t)&&t.constructor!==null&&!Qo(t.constructor)&&nn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const KT=Sn("ArrayBuffer");function wV(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&KT(t.buffer),e}const bV=zl("string"),nn=zl("function"),WT=zl("number"),Gl=t=>t!==null&&typeof t=="object",IV=t=>t===!0||t===!1,_c=t=>{if(Wl(t)!=="object")return!1;const e=zd(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},AV=Sn("Date"),SV=Sn("File"),RV=Sn("Blob"),CV=Sn("FileList"),PV=t=>Gl(t)&&nn(t.pipe),OV=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||nn(t.append)&&((e=Wl(t))==="formdata"||e==="object"&&nn(t.toString)&&t.toString()==="[object FormData]"))},kV=Sn("URLSearchParams"),[NV,xV,DV,VV]=["ReadableStream","Request","Response","Headers"].map(Sn),MV=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ya(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Vi(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,t[a],a,t)}}function zT(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const cs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,GT=t=>!Qo(t)&&t!==cs;function Jh(){const{caseless:t}=GT(this)&&this||{},e={},n=(r,s)=>{const i=t&&zT(e,s)||s;_c(e[i])&&_c(r)?e[i]=Jh(e[i],r):_c(r)?e[i]=Jh({},r):Vi(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&ya(arguments[r],n);return e}const LV=(t,e,n,{allOwnKeys:r}={})=>(ya(e,(s,i)=>{n&&nn(s)?t[i]=qT(s,n):t[i]=s},{allOwnKeys:r}),t),FV=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),UV=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},jV=(t,e,n,r)=>{let s,i,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&zd(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},$V=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},BV=t=>{if(!t)return null;if(Vi(t))return t;let e=t.length;if(!WT(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},HV=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&zd(Uint8Array)),qV=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},KV=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},WV=Sn("HTMLFormElement"),zV=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),A_=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),GV=Sn("RegExp"),QT=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};ya(n,(s,i)=>{let o;(o=e(s,i,t))!==!1&&(r[i]=o||s)}),Object.defineProperties(t,r)},QV=t=>{QT(t,(e,n)=>{if(nn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(nn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},JV=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Vi(t)?r(t):r(String(t).split(e)),n},YV=()=>{},XV=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Ku="abcdefghijklmnopqrstuvwxyz",S_="0123456789",JT={DIGIT:S_,ALPHA:Ku,ALPHA_DIGIT:Ku+Ku.toUpperCase()+S_},ZV=(t=16,e=JT.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function eM(t){return!!(t&&nn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const tM=t=>{const e=new Array(10),n=(r,s)=>{if(Gl(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=Vi(r)?[]:{};return ya(r,(o,a)=>{const l=n(o,s+1);!Qo(l)&&(i[a]=l)}),e[s]=void 0,i}}return r};return n(t,0)},nM=Sn("AsyncFunction"),rM=t=>t&&(Gl(t)||nn(t))&&nn(t.then)&&nn(t.catch),YT=((t,e)=>t?setImmediate:e?((n,r)=>(cs.addEventListener("message",({source:s,data:i})=>{s===cs&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),cs.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",nn(cs.postMessage)),sM=typeof queueMicrotask<"u"?queueMicrotask.bind(cs):typeof process<"u"&&process.nextTick||YT,U={isArray:Vi,isArrayBuffer:KT,isBuffer:TV,isFormData:OV,isArrayBufferView:wV,isString:bV,isNumber:WT,isBoolean:IV,isObject:Gl,isPlainObject:_c,isReadableStream:NV,isRequest:xV,isResponse:DV,isHeaders:VV,isUndefined:Qo,isDate:AV,isFile:SV,isBlob:RV,isRegExp:GV,isFunction:nn,isStream:PV,isURLSearchParams:kV,isTypedArray:HV,isFileList:CV,forEach:ya,merge:Jh,extend:LV,trim:MV,stripBOM:FV,inherits:UV,toFlatObject:jV,kindOf:Wl,kindOfTest:Sn,endsWith:$V,toArray:BV,forEachEntry:qV,matchAll:KV,isHTMLForm:WV,hasOwnProperty:A_,hasOwnProp:A_,reduceDescriptors:QT,freezeMethods:QV,toObjectSet:JV,toCamelCase:zV,noop:YV,toFiniteNumber:XV,findKey:zT,global:cs,isContextDefined:GT,ALPHABET:JT,generateString:ZV,isSpecCompliantForm:eM,toJSONObject:tM,isAsyncFn:nM,isThenable:rM,setImmediate:YT,asap:sM};function we(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}U.inherits(we,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:U.toJSONObject(this.config),code:this.code,status:this.status}}});const XT=we.prototype,ZT={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{ZT[t]={value:t}});Object.defineProperties(we,ZT);Object.defineProperty(XT,"isAxiosError",{value:!0});we.from=(t,e,n,r,s,i)=>{const o=Object.create(XT);return U.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),we.call(o,t.message,e,n,r,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const iM=null;function Yh(t){return U.isPlainObject(t)||U.isArray(t)}function ew(t){return U.endsWith(t,"[]")?t.slice(0,-2):t}function R_(t,e,n){return t?t.concat(e).map(function(s,i){return s=ew(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function oM(t){return U.isArray(t)&&!t.some(Yh)}const aM=U.toFlatObject(U,{},null,function(e){return/^is[A-Z]/.test(e)});function Ql(t,e,n){if(!U.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=U.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,S){return!U.isUndefined(S[R])});const r=n.metaTokens,s=n.visitor||h,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&U.isSpecCompliantForm(e);if(!U.isFunction(s))throw new TypeError("visitor must be a function");function u(E){if(E===null)return"";if(U.isDate(E))return E.toISOString();if(!l&&U.isBlob(E))throw new we("Blob is not supported. Use a Buffer instead.");return U.isArrayBuffer(E)||U.isTypedArray(E)?l&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function h(E,R,S){let x=E;if(E&&!S&&typeof E=="object"){if(U.endsWith(R,"{}"))R=r?R:R.slice(0,-2),E=JSON.stringify(E);else if(U.isArray(E)&&oM(E)||(U.isFileList(E)||U.endsWith(R,"[]"))&&(x=U.toArray(E)))return R=ew(R),x.forEach(function(_,O){!(U.isUndefined(_)||_===null)&&e.append(o===!0?R_([R],O,i):o===null?R:R+"[]",u(_))}),!1}return Yh(E)?!0:(e.append(R_(S,R,i),u(E)),!1)}const f=[],p=Object.assign(aM,{defaultVisitor:h,convertValue:u,isVisitable:Yh});function g(E,R){if(!U.isUndefined(E)){if(f.indexOf(E)!==-1)throw Error("Circular reference detected in "+R.join("."));f.push(E),U.forEach(E,function(x,P){(!(U.isUndefined(x)||x===null)&&s.call(e,x,U.isString(P)?P.trim():P,R,p))===!0&&g(x,R?R.concat(P):[P])}),f.pop()}}if(!U.isObject(t))throw new TypeError("data must be an object");return g(t),e}function C_(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Gd(t,e){this._pairs=[],t&&Ql(t,this,e)}const tw=Gd.prototype;tw.append=function(e,n){this._pairs.push([e,n])};tw.toString=function(e){const n=e?function(r){return e.call(this,r,C_)}:C_;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function cM(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function nw(t,e,n){if(!e)return t;const r=n&&n.encode||cM,s=n&&n.serialize;let i;if(s?i=s(e,n):i=U.isURLSearchParams(e)?e.toString():new Gd(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class P_{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){U.forEach(this.handlers,function(r){r!==null&&e(r)})}}const rw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},lM=typeof URLSearchParams<"u"?URLSearchParams:Gd,uM=typeof FormData<"u"?FormData:null,hM=typeof Blob<"u"?Blob:null,fM={isBrowser:!0,classes:{URLSearchParams:lM,FormData:uM,Blob:hM},protocols:["http","https","file","blob","url","data"]},Qd=typeof window<"u"&&typeof document<"u",Xh=typeof navigator=="object"&&navigator||void 0,dM=Qd&&(!Xh||["ReactNative","NativeScript","NS"].indexOf(Xh.product)<0),pM=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",mM=Qd&&window.location.href||"http://localhost",gM=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Qd,hasStandardBrowserEnv:dM,hasStandardBrowserWebWorkerEnv:pM,navigator:Xh,origin:mM},Symbol.toStringTag,{value:"Module"})),Gt={...gM,...fM};function _M(t,e){return Ql(t,new Gt.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return Gt.isNode&&U.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function yM(t){return U.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function vM(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function sw(t){function e(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&U.isArray(s)?s.length:o,l?(U.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!U.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],i)&&U.isArray(s[o])&&(s[o]=vM(s[o])),!a)}if(U.isFormData(t)&&U.isFunction(t.entries)){const n={};return U.forEachEntry(t,(r,s)=>{e(yM(r),s,n,0)}),n}return null}function EM(t,e,n){if(U.isString(t))try{return(e||JSON.parse)(t),U.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const va={transitional:rw,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=U.isObject(e);if(i&&U.isHTMLForm(e)&&(e=new FormData(e)),U.isFormData(e))return s?JSON.stringify(sw(e)):e;if(U.isArrayBuffer(e)||U.isBuffer(e)||U.isStream(e)||U.isFile(e)||U.isBlob(e)||U.isReadableStream(e))return e;if(U.isArrayBufferView(e))return e.buffer;if(U.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return _M(e,this.formSerializer).toString();if((a=U.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Ql(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),EM(e)):e}],transformResponse:[function(e){const n=this.transitional||va.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(U.isResponse(e)||U.isReadableStream(e))return e;if(e&&U.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?we.from(a,we.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Gt.classes.FormData,Blob:Gt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};U.forEach(["delete","get","head","post","put","patch"],t=>{va.headers[t]={}});const TM=U.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),wM=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&TM[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},O_=Symbol("internals");function no(t){return t&&String(t).trim().toLowerCase()}function yc(t){return t===!1||t==null?t:U.isArray(t)?t.map(yc):String(t)}function bM(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const IM=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Wu(t,e,n,r,s){if(U.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!U.isString(e)){if(U.isString(r))return e.indexOf(r)!==-1;if(U.isRegExp(r))return r.test(e)}}function AM(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function SM(t,e){const n=U.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}class Qt{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(a,l,u){const h=no(l);if(!h)throw new Error("header name must be a non-empty string");const f=U.findKey(s,h);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||l]=yc(a))}const o=(a,l)=>U.forEach(a,(u,h)=>i(u,h,l));if(U.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(U.isString(e)&&(e=e.trim())&&!IM(e))o(wM(e),n);else if(U.isHeaders(e))for(const[a,l]of e.entries())i(l,a,r);else e!=null&&i(n,e,r);return this}get(e,n){if(e=no(e),e){const r=U.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return bM(s);if(U.isFunction(n))return n.call(this,s,r);if(U.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=no(e),e){const r=U.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Wu(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(o){if(o=no(o),o){const a=U.findKey(r,o);a&&(!n||Wu(r,r[a],a,n))&&(delete r[a],s=!0)}}return U.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||Wu(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return U.forEach(this,(s,i)=>{const o=U.findKey(r,i);if(o){n[o]=yc(s),delete n[i];return}const a=e?AM(i):String(i).trim();a!==i&&delete n[i],n[a]=yc(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return U.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&U.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[O_]=this[O_]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=no(o);r[a]||(SM(s,o),r[a]=!0)}return U.isArray(e)?e.forEach(i):i(e),this}}Qt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);U.reduceDescriptors(Qt.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});U.freezeMethods(Qt);function zu(t,e){const n=this||va,r=e||n,s=Qt.from(r.headers);let i=r.data;return U.forEach(t,function(a){i=a.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function iw(t){return!!(t&&t.__CANCEL__)}function Mi(t,e,n){we.call(this,t??"canceled",we.ERR_CANCELED,e,n),this.name="CanceledError"}U.inherits(Mi,we,{__CANCEL__:!0});function ow(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new we("Request failed with status code "+n.status,[we.ERR_BAD_REQUEST,we.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function RM(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function CM(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),h=r[i];o||(o=u),n[s]=l,r[s]=u;let f=i,p=0;for(;f!==s;)p+=n[f++],f=f%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),u-o<e)return;const g=h&&u-h;return g?Math.round(p*1e3/g):void 0}}function PM(t,e){let n=0,r=1e3/e,s,i;const o=(u,h=Date.now())=>{n=h,s=null,i&&(clearTimeout(i),i=null),t.apply(null,u)};return[(...u)=>{const h=Date.now(),f=h-n;f>=r?o(u,h):(s=u,i||(i=setTimeout(()=>{i=null,o(s)},r-f)))},()=>s&&o(s)]}const rl=(t,e,n=3)=>{let r=0;const s=CM(50,250);return PM(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-r,u=s(l),h=o<=a;r=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&h?(a-o)/u:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(f)},n)},k_=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},N_=t=>(...e)=>U.asap(()=>t(...e)),OM=Gt.hasStandardBrowserEnv?function(){const e=Gt.navigator&&/(msie|trident)/i.test(Gt.navigator.userAgent),n=document.createElement("a");let r;function s(i){let o=i;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(o){const a=U.isString(o)?s(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),kM=Gt.hasStandardBrowserEnv?{write(t,e,n,r,s,i){const o=[t+"="+encodeURIComponent(e)];U.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),U.isString(r)&&o.push("path="+r),U.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function NM(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function xM(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function aw(t,e){return t&&!NM(e)?xM(t,e):e}const x_=t=>t instanceof Qt?{...t}:t;function Is(t,e){e=e||{};const n={};function r(u,h,f){return U.isPlainObject(u)&&U.isPlainObject(h)?U.merge.call({caseless:f},u,h):U.isPlainObject(h)?U.merge({},h):U.isArray(h)?h.slice():h}function s(u,h,f){if(U.isUndefined(h)){if(!U.isUndefined(u))return r(void 0,u,f)}else return r(u,h,f)}function i(u,h){if(!U.isUndefined(h))return r(void 0,h)}function o(u,h){if(U.isUndefined(h)){if(!U.isUndefined(u))return r(void 0,u)}else return r(void 0,h)}function a(u,h,f){if(f in e)return r(u,h);if(f in t)return r(void 0,u)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,h)=>s(x_(u),x_(h),!0)};return U.forEach(Object.keys(Object.assign({},t,e)),function(h){const f=l[h]||s,p=f(t[h],e[h],h);U.isUndefined(p)&&f!==a||(n[h]=p)}),n}const cw=t=>{const e=Is({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=e;e.headers=o=Qt.from(o),e.url=nw(aw(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(U.isFormData(n)){if(Gt.hasStandardBrowserEnv||Gt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...h]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...h].join("; "))}}if(Gt.hasStandardBrowserEnv&&(r&&U.isFunction(r)&&(r=r(e)),r||r!==!1&&OM(e.url))){const u=s&&i&&kM.read(i);u&&o.set(s,u)}return e},DM=typeof XMLHttpRequest<"u",VM=DM&&function(t){return new Promise(function(n,r){const s=cw(t);let i=s.data;const o=Qt.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=s,h,f,p,g,E;function R(){g&&g(),E&&E(),s.cancelToken&&s.cancelToken.unsubscribe(h),s.signal&&s.signal.removeEventListener("abort",h)}let S=new XMLHttpRequest;S.open(s.method.toUpperCase(),s.url,!0),S.timeout=s.timeout;function x(){if(!S)return;const _=Qt.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),D={data:!a||a==="text"||a==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:_,config:t,request:S};ow(function(b){n(b),R()},function(b){r(b),R()},D),S=null}"onloadend"in S?S.onloadend=x:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(x)},S.onabort=function(){S&&(r(new we("Request aborted",we.ECONNABORTED,t,S)),S=null)},S.onerror=function(){r(new we("Network Error",we.ERR_NETWORK,t,S)),S=null},S.ontimeout=function(){let O=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const D=s.transitional||rw;s.timeoutErrorMessage&&(O=s.timeoutErrorMessage),r(new we(O,D.clarifyTimeoutError?we.ETIMEDOUT:we.ECONNABORTED,t,S)),S=null},i===void 0&&o.setContentType(null),"setRequestHeader"in S&&U.forEach(o.toJSON(),function(O,D){S.setRequestHeader(D,O)}),U.isUndefined(s.withCredentials)||(S.withCredentials=!!s.withCredentials),a&&a!=="json"&&(S.responseType=s.responseType),u&&([p,E]=rl(u,!0),S.addEventListener("progress",p)),l&&S.upload&&([f,g]=rl(l),S.upload.addEventListener("progress",f),S.upload.addEventListener("loadend",g)),(s.cancelToken||s.signal)&&(h=_=>{S&&(r(!_||_.type?new Mi(null,t,S):_),S.abort(),S=null)},s.cancelToken&&s.cancelToken.subscribe(h),s.signal&&(s.signal.aborted?h():s.signal.addEventListener("abort",h)));const P=RM(s.url);if(P&&Gt.protocols.indexOf(P)===-1){r(new we("Unsupported protocol "+P+":",we.ERR_BAD_REQUEST,t));return}S.send(i||null)})},MM=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const i=function(u){if(!s){s=!0,a();const h=u instanceof Error?u:this.reason;r.abort(h instanceof we?h:new Mi(h instanceof Error?h.message:h))}};let o=e&&setTimeout(()=>{o=null,i(new we(`timeout ${e} of ms exceeded`,we.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),t=null)};t.forEach(u=>u.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>U.asap(a),l}},LM=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},FM=async function*(t,e){for await(const n of UM(t))yield*LM(n,e)},UM=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},D_=(t,e,n,r)=>{const s=FM(t,e);let i=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:h}=await s.next();if(u){a(),l.close();return}let f=h.byteLength;if(n){let p=i+=f;n(p)}l.enqueue(new Uint8Array(h))}catch(u){throw a(u),u}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},Jl=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",lw=Jl&&typeof ReadableStream=="function",jM=Jl&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),uw=(t,...e)=>{try{return!!t(...e)}catch{return!1}},$M=lw&&uw(()=>{let t=!1;const e=new Request(Gt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),V_=64*1024,Zh=lw&&uw(()=>U.isReadableStream(new Response("").body)),sl={stream:Zh&&(t=>t.body)};Jl&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!sl[e]&&(sl[e]=U.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new we(`Response type '${e}' is not supported`,we.ERR_NOT_SUPPORT,r)})})})(new Response);const BM=async t=>{if(t==null)return 0;if(U.isBlob(t))return t.size;if(U.isSpecCompliantForm(t))return(await new Request(Gt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(U.isArrayBufferView(t)||U.isArrayBuffer(t))return t.byteLength;if(U.isURLSearchParams(t)&&(t=t+""),U.isString(t))return(await jM(t)).byteLength},HM=async(t,e)=>{const n=U.toFiniteNumber(t.getContentLength());return n??BM(e)},qM=Jl&&(async t=>{let{url:e,method:n,data:r,signal:s,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:h,withCredentials:f="same-origin",fetchOptions:p}=cw(t);u=u?(u+"").toLowerCase():"text";let g=MM([s,i&&i.toAbortSignal()],o),E;const R=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let S;try{if(l&&$M&&n!=="get"&&n!=="head"&&(S=await HM(h,r))!==0){let D=new Request(e,{method:"POST",body:r,duplex:"half"}),L;if(U.isFormData(r)&&(L=D.headers.get("content-type"))&&h.setContentType(L),D.body){const[b,T]=k_(S,rl(N_(l)));r=D_(D.body,V_,b,T)}}U.isString(f)||(f=f?"include":"omit");const x="credentials"in Request.prototype;E=new Request(e,{...p,signal:g,method:n.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:x?f:void 0});let P=await fetch(E);const _=Zh&&(u==="stream"||u==="response");if(Zh&&(a||_&&R)){const D={};["status","statusText","headers"].forEach(y=>{D[y]=P[y]});const L=U.toFiniteNumber(P.headers.get("content-length")),[b,T]=a&&k_(L,rl(N_(a),!0))||[];P=new Response(D_(P.body,V_,b,()=>{T&&T(),R&&R()}),D)}u=u||"text";let O=await sl[U.findKey(sl,u)||"text"](P,t);return!_&&R&&R(),await new Promise((D,L)=>{ow(D,L,{data:O,headers:Qt.from(P.headers),status:P.status,statusText:P.statusText,config:t,request:E})})}catch(x){throw R&&R(),x&&x.name==="TypeError"&&/fetch/i.test(x.message)?Object.assign(new we("Network Error",we.ERR_NETWORK,t,E),{cause:x.cause||x}):we.from(x,x&&x.code,t,E)}}),ef={http:iM,xhr:VM,fetch:qM};U.forEach(ef,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const M_=t=>`- ${t}`,KM=t=>U.isFunction(t)||t===null||t===!1,hw={getAdapter:t=>{t=U.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let i=0;i<e;i++){n=t[i];let o;if(r=n,!KM(n)&&(r=ef[(o=String(n)).toLowerCase()],r===void 0))throw new we(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+i]=r}if(!r){const i=Object.entries(s).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(M_).join(`
`):" "+M_(i[0]):"as no adapter specified";throw new we("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:ef};function Gu(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Mi(null,t)}function L_(t){return Gu(t),t.headers=Qt.from(t.headers),t.data=zu.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),hw.getAdapter(t.adapter||va.adapter)(t).then(function(r){return Gu(t),r.data=zu.call(t,t.transformResponse,r),r.headers=Qt.from(r.headers),r},function(r){return iw(r)||(Gu(t),r&&r.response&&(r.response.data=zu.call(t,t.transformResponse,r.response),r.response.headers=Qt.from(r.response.headers))),Promise.reject(r)})}const fw="1.7.7",Jd={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Jd[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const F_={};Jd.transitional=function(e,n,r){function s(i,o){return"[Axios v"+fw+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(e===!1)throw new we(s(o," has been removed"+(n?" in "+n:"")),we.ERR_DEPRECATED);return n&&!F_[o]&&(F_[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,a):!0}};function WM(t,e,n){if(typeof t!="object")throw new we("options must be an object",we.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const a=t[i],l=a===void 0||o(a,i,t);if(l!==!0)throw new we("option "+i+" must be "+l,we.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new we("Unknown option "+i,we.ERR_BAD_OPTION)}}const tf={assertOptions:WM,validators:Jd},Er=tf.validators;class ms{constructor(e){this.defaults=e,this.interceptors={request:new P_,response:new P_}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Is(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&tf.assertOptions(r,{silentJSONParsing:Er.transitional(Er.boolean),forcedJSONParsing:Er.transitional(Er.boolean),clarifyTimeoutError:Er.transitional(Er.boolean)},!1),s!=null&&(U.isFunction(s)?n.paramsSerializer={serialize:s}:tf.assertOptions(s,{encode:Er.function,serialize:Er.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&U.merge(i.common,i[n.method]);i&&U.forEach(["delete","get","head","post","put","patch","common"],E=>{delete i[E]}),n.headers=Qt.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(n)===!1||(l=l&&R.synchronous,a.unshift(R.fulfilled,R.rejected))});const u=[];this.interceptors.response.forEach(function(R){u.push(R.fulfilled,R.rejected)});let h,f=0,p;if(!l){const E=[L_.bind(this),void 0];for(E.unshift.apply(E,a),E.push.apply(E,u),p=E.length,h=Promise.resolve(n);f<p;)h=h.then(E[f++],E[f++]);return h}p=a.length;let g=n;for(f=0;f<p;){const E=a[f++],R=a[f++];try{g=E(g)}catch(S){R.call(this,S);break}}try{h=L_.call(this,g)}catch(E){return Promise.reject(E)}for(f=0,p=u.length;f<p;)h=h.then(u[f++],u[f++]);return h}getUri(e){e=Is(this.defaults,e);const n=aw(e.baseURL,e.url);return nw(n,e.params,e.paramsSerializer)}}U.forEach(["delete","get","head","options"],function(e){ms.prototype[e]=function(n,r){return this.request(Is(r||{},{method:e,url:n,data:(r||{}).data}))}});U.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,a){return this.request(Is(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}ms.prototype[e]=n(),ms.prototype[e+"Form"]=n(!0)});class Yd{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,a){r.reason||(r.reason=new Mi(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Yd(function(s){e=s}),cancel:e}}}function zM(t){return function(n){return t.apply(null,n)}}function GM(t){return U.isObject(t)&&t.isAxiosError===!0}const nf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(nf).forEach(([t,e])=>{nf[e]=t});function dw(t){const e=new ms(t),n=qT(ms.prototype.request,e);return U.extend(n,ms.prototype,e,{allOwnKeys:!0}),U.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return dw(Is(t,s))},n}const Ke=dw(va);Ke.Axios=ms;Ke.CanceledError=Mi;Ke.CancelToken=Yd;Ke.isCancel=iw;Ke.VERSION=fw;Ke.toFormData=Ql;Ke.AxiosError=we;Ke.Cancel=Ke.CanceledError;Ke.all=function(e){return Promise.all(e)};Ke.spread=zM;Ke.isAxiosError=GM;Ke.mergeConfig=Is;Ke.AxiosHeaders=Qt;Ke.formToJSON=t=>sw(U.isHTMLForm(t)?new FormData(t):t);Ke.getAdapter=hw.getAdapter;Ke.HttpStatusCode=nf;Ke.default=Ke;const QM={class:"search-bar"},JM={key:0,class:"results-list"},YM={key:0},XM=["onClick"],ZM={key:1},eL=["onClick"],tL={key:2},nL={__name:"SearchBar",props:{modelValue:String},emits:["update:modelValue","search"],setup(t,{emit:e}){const n=t,r=e,s=Ae({get:()=>n.modelValue,set:x=>r("update:modelValue",x)}),i=ye([]),o=ye([]),a=ye(!1),l=ye(-1),u=ye("");let h;const f=()=>{clearTimeout(h),h=setTimeout(p,300)},p=async()=>{if(s.value.length<2){i.value=[],o.value=[],a.value=!1;return}try{const[x,P]=await Promise.all([Ke.get(`https://www.themealdb.com/api/json/v1/1/search.php?s=${s.value}`),Ke.get(`https://www.themealdb.com/api/json/v1/1/filter.php?i=${s.value}`)]);i.value=x.data.meals||[],o.value=P.data.meals||[],a.value=i.value.length>0||o.value.length>0,l.value=-1,u.value=""}catch(x){console.error("Error fetching suggestions and results:",x),i.value=[],o.value=[],a.value=!1}},g=x=>{a.value&&(u.value===""&&(u.value=i.value.length>0?"suggestions":"results"),u.value==="suggestions"?(l.value+=x,l.value<0?(u.value="results",l.value=o.value.length-1):l.value>=i.value.length&&(u.value="results",l.value=0)):(l.value+=x,l.value<0?(u.value="suggestions",l.value=i.value.length-1):l.value>=o.value.length&&(u.value="suggestions",l.value=0)))},E=x=>{if(x&&typeof x=="object")s.value=x.strMeal;else if(l.value!==-1){const P=u.value==="suggestions"?i.value[l.value]:o.value[l.value];s.value=P.strMeal}R()},R=()=>{r("search",s.value),a.value=!1},S=()=>{setTimeout(()=>{a.value=!1},200)};return pn(()=>{document.addEventListener("click",S)}),Qr(()=>{document.removeEventListener("click",S),clearTimeout(h)}),(x,P)=>(se(),de("div",QM,[B("form",{onSubmit:ds(R,["prevent"]),class:"search-form"},[ln(B("input",{"onUpdate:modelValue":P[0]||(P[0]=_=>s.value=_),type:"text",placeholder:"Enter a recipe name",class:"search-input",onInput:f,onKeydown:[P[1]||(P[1]=wh(ds(_=>g(1),["prevent"]),["down"])),P[2]||(P[2]=wh(ds(_=>g(-1),["prevent"]),["up"]))],onBlur:S},null,544),[[hn,s.value]]),P[3]||(P[3]=B("button",{type:"submit",class:"search-button","aria-label":"Search"},[B("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"icon"},[B("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})])],-1))],32),a.value?(se(),de("ul",JM,[i.value.length>0?(se(),de("li",YM,[P[4]||(P[4]=B("strong",null,"Suggestions:",-1)),B("ul",null,[(se(!0),de(Ue,null,yn(i.value,(_,O)=>(se(),de("li",{key:"suggestion-"+_.idMeal,onClick:D=>E(_),class:jn({active:O===l.value&&u.value==="suggestions"})},Qe(_.strMeal),11,XM))),128))])])):pt("",!0),o.value.length>0?(se(),de("li",ZM,[P[5]||(P[5]=B("strong",null,"Search Results:",-1)),B("ul",null,[(se(!0),de(Ue,null,yn(o.value,(_,O)=>(se(),de("li",{key:"result-"+_.idMeal,onClick:D=>E(_),class:jn({active:O===l.value&&u.value==="results"})},Qe(_.strMeal),11,eL))),128))])])):pt("",!0),i.value.length===0&&o.value.length===0?(se(),de("li",tL," No results found ")):pt("",!0)])):pt("",!0)]))}},rL=An(nL,[["__scopeId","data-v-ad87c68d"]]),sL={class:"home"},iL={class:"hero"},oL={class:"container"},aL={class:"search-container"},cL={class:"filters"},lL=["value"],uL=["value"],hL={class:"recipes-section"},fL={class:"container"},dL={key:0},pL={key:1,class:"error-message"},mL={key:2,class:"no-results"},gL={key:3,class:"results-grid"},_L={key:4,class:"loading-more"},yL={__name:"Home",setup(t){const e=Yf(),n=ye(""),r=ye(""),s=ye(""),i=ye(1),o=ye(null),a=Ae(()=>e.getters.getSearchResults),l=Ae(()=>e.getters.getPopularRecipes),u=Ae(()=>e.getters.getCategories),h=Ae(()=>e.getters.getAreas),f=Ae(()=>e.getters.isLoading),p=Ae(()=>e.getters.getError),g=Ae(()=>n.value?a.value:l.value),E=()=>{i.value=1,e.dispatch("searchRecipes",{query:n.value,category:r.value,area:s.value,page:i.value})},R=()=>{f.value||(i.value++,n.value?e.dispatch("searchRecipes",{query:n.value,category:r.value,area:s.value,page:i.value}):e.dispatch("fetchPopularRecipes",{page:i.value}))},S=()=>{const x={root:null,rootMargin:"0px",threshold:.1},P=new IntersectionObserver(_=>{_[0].isIntersecting&&R()},x);o.value&&P.observe(o.value)};return pn(async()=>{await e.dispatch("fetchCategories"),await e.dispatch("fetchAreas"),await e.dispatch("fetchPopularRecipes",{page:i.value}),S()}),rt([n,r,s],()=>{E()}),(x,P)=>(se(),de("div",sL,[B("section",iL,[B("div",oL,[P[5]||(P[5]=B("h1",null,"Discover Delicious Recipes",-1)),P[6]||(P[6]=B("p",null,"Find your next favorite meal....",-1)),B("div",aL,[ke(rL,{modelValue:n.value,"onUpdate:modelValue":P[0]||(P[0]=_=>n.value=_),onSearch:E},null,8,["modelValue"]),B("div",cL,[ln(B("select",{"onUpdate:modelValue":P[1]||(P[1]=_=>r.value=_),onChange:E},[P[3]||(P[3]=B("option",{value:""},"All Categories",-1)),(se(!0),de(Ue,null,yn(u.value,_=>(se(),de("option",{key:_,value:_},Qe(_),9,lL))),128))],544),[[Lc,r.value]]),ln(B("select",{"onUpdate:modelValue":P[2]||(P[2]=_=>s.value=_),onChange:E},[P[4]||(P[4]=B("option",{value:""},"All Areas",-1)),(se(!0),de(Ue,null,yn(h.value,_=>(se(),de("option",{key:_,value:_},Qe(_),9,uL))),128))],544),[[Lc,s.value]])])])])]),B("section",hL,[B("div",fL,[B("h2",null,Qe(n.value?"Search Results":"Popular Recipes"),1),f.value&&!g.value.length?(se(),de("div",dL,[ke(nl)])):p.value?(se(),de("div",pL,Qe(p.value),1)):g.value.length===0?(se(),de("div",mL,[B("p",null,Qe(n.value?"No recipes found. Try a different search term or filters.":"No popular recipes available at the moment. Please try again later."),1)])):(se(),de("div",gL,[(se(!0),de(Ue,null,yn(g.value,_=>(se(),tn(HT,{key:_.idMeal,recipe:_},null,8,["recipe"]))),128))])),f.value&&g.value.length?(se(),de("div",_L,[ke(nl)])):pt("",!0),B("div",{ref_key:"infiniteScrollTrigger",ref:o,class:"infinite-scroll-trigger"},null,512)])])]))}},vL=An(yL,[["__scopeId","data-v-c9cce9e4"]]),EL={__name:"About",setup(t){return(e,n)=>(se(),tn(zf,{name:"about",appear:""},{default:Zt(()=>n[0]||(n[0]=[B("div",{class:"about"},[B("div",{class:"container"},[B("h1",null,"About Us"),B("p",null,"Welcome to our Recipe App! We're passionate about bringing delicious recipes from around the world to your kitchen. Our mission is to inspire home cooks and make cooking fun and accessible for everyone."),B("p",null,"Whether you're a beginner or an experienced chef, you'll find a wide variety of recipes to suit your taste and skill level. From quick and easy weeknight dinners to impressive dishes for special occasions, we've got you covered."),B("p",null,"Happy cooking!")])],-1)])),_:1}))}},TL=An(EL,[["__scopeId","data-v-a8e3b611"]]),wL={class:"contact"},bL={class:"container"},IL={class:"form-group"},AL={class:"form-group"},SL={class:"form-group"},RL={__name:"Contact",setup(t){const e=ye(""),n=ye(""),r=ye(""),s=()=>{console.log("Form submitted:",{name:e.value,email:n.value,message:r.value}),e.value="",n.value="",r.value="",alert("Thank you for your message. We will get back to you soon!")};return(i,o)=>(se(),de("div",wL,[B("div",bL,[o[7]||(o[7]=B("h1",null,"Contact Us",-1)),B("form",{onSubmit:ds(s,["prevent"]),class:"contact-form"},[B("div",IL,[o[3]||(o[3]=B("label",{for:"name"},"Name:",-1)),ln(B("input",{type:"text",id:"name","onUpdate:modelValue":o[0]||(o[0]=a=>e.value=a),required:""},null,512),[[hn,e.value]])]),B("div",AL,[o[4]||(o[4]=B("label",{for:"email"},"Email:",-1)),ln(B("input",{type:"email",id:"email","onUpdate:modelValue":o[1]||(o[1]=a=>n.value=a),required:""},null,512),[[hn,n.value]])]),B("div",SL,[o[5]||(o[5]=B("label",{for:"message"},"Message:",-1)),ln(B("textarea",{id:"message","onUpdate:modelValue":o[2]||(o[2]=a=>r.value=a),required:""},null,512),[[hn,r.value]])]),o[6]||(o[6]=B("button",{type:"submit",class:"btn"},"Send Message",-1))],32)])]))}},CL=An(RL,[["__scopeId","data-v-11888beb"]]);function pw(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}const PL=pw(AR),OL=pw(kR);/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var ci=PL,kL=OL,Xd="store";function NL(t){return t===void 0&&(t=null),ci.inject(t!==null?t:Xd)}function xL(t,e){return t.filter(e)[0]}function rf(t,e){if(e===void 0&&(e=[]),t===null||typeof t!="object")return t;var n=xL(e,function(s){return s.original===t});if(n)return n.copy;var r=Array.isArray(t)?[]:{};return e.push({original:t,copy:r}),Object.keys(t).forEach(function(s){r[s]=rf(t[s],e)}),r}function Li(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function mw(t){return t!==null&&typeof t=="object"}function DL(t){return t&&typeof t.then=="function"}function VL(t,e){return function(){return t(e)}}function gw(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var r=e.indexOf(t);r>-1&&e.splice(r,1)}}function _w(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;Yl(t,n,[],t._modules.root,!0),Zd(t,n,e)}function Zd(t,e,n){var r=t._state,s=t._scope;t.getters={},t._makeLocalGettersCache=Object.create(null);var i=t._wrappedGetters,o={},a={},l=ci.effectScope(!0);l.run(function(){Li(i,function(u,h){o[h]=VL(u,t),a[h]=ci.computed(function(){return o[h]()}),Object.defineProperty(t.getters,h,{get:function(){return a[h].value},enumerable:!0})})}),t._state=ci.reactive({data:e}),t._scope=l,t.strict&&jL(t),r&&n&&t._withCommit(function(){r.data=null}),s&&s.stop()}function Yl(t,e,n,r,s){var i=!n.length,o=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[o],t._modulesNamespaceMap[o]=r),!i&&!s){var a=ep(e,n.slice(0,-1)),l=n[n.length-1];t._withCommit(function(){a[l]=r.state})}var u=r.context=ML(t,o,n);r.forEachMutation(function(h,f){var p=o+f;LL(t,p,h,u)}),r.forEachAction(function(h,f){var p=h.root?f:o+f,g=h.handler||h;FL(t,p,g,u)}),r.forEachGetter(function(h,f){var p=o+f;UL(t,p,h,u)}),r.forEachChild(function(h,f){Yl(t,e,n.concat(f),h,s)})}function ML(t,e,n){var r=e==="",s={dispatch:r?t.dispatch:function(i,o,a){var l=il(i,o,a),u=l.payload,h=l.options,f=l.type;return(!h||!h.root)&&(f=e+f),t.dispatch(f,u)},commit:r?t.commit:function(i,o,a){var l=il(i,o,a),u=l.payload,h=l.options,f=l.type;(!h||!h.root)&&(f=e+f),t.commit(f,u,h)}};return Object.defineProperties(s,{getters:{get:r?function(){return t.getters}:function(){return yw(t,e)}},state:{get:function(){return ep(t.state,n)}}}),s}function yw(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach(function(s){if(s.slice(0,r)===e){var i=s.slice(r);Object.defineProperty(n,i,{get:function(){return t.getters[s]},enumerable:!0})}}),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function LL(t,e,n,r){var s=t._mutations[e]||(t._mutations[e]=[]);s.push(function(o){n.call(t,r.state,o)})}function FL(t,e,n,r){var s=t._actions[e]||(t._actions[e]=[]);s.push(function(o){var a=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},o);return DL(a)||(a=Promise.resolve(a)),t._devtoolHook?a.catch(function(l){throw t._devtoolHook.emit("vuex:error",l),l}):a})}function UL(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(i){return n(r.state,r.getters,i.state,i.getters)})}function jL(t){ci.watch(function(){return t._state.data},function(){},{deep:!0,flush:"sync"})}function ep(t,e){return e.reduce(function(n,r){return n[r]},t)}function il(t,e,n){return mw(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}var $L="vuex bindings",U_="vuex:mutations",Qu="vuex:actions",Hs="vuex",BL=0;function HL(t,e){kL.setupDevtoolsPlugin({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[$L]},function(n){n.addTimelineLayer({id:U_,label:"Vuex Mutations",color:j_}),n.addTimelineLayer({id:Qu,label:"Vuex Actions",color:j_}),n.addInspector({id:Hs,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===t&&r.inspectorId===Hs)if(r.filter){var s=[];ww(s,e._modules.root,r.filter,""),r.rootNodes=s}else r.rootNodes=[Tw(e._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===t&&r.inspectorId===Hs){var s=r.nodeId;yw(e,s),r.state=WL(GL(e._modules,s),s==="root"?e.getters:e._makeLocalGettersCache,s)}}),n.on.editInspectorState(function(r){if(r.app===t&&r.inspectorId===Hs){var s=r.nodeId,i=r.path;s!=="root"&&(i=s.split("/").filter(Boolean).concat(i)),e._withCommit(function(){r.set(e._state.data,i,r.state.value)})}}),e.subscribe(function(r,s){var i={};r.payload&&(i.payload=r.payload),i.state=s,n.notifyComponentUpdate(),n.sendInspectorTree(Hs),n.sendInspectorState(Hs),n.addTimelineEvent({layerId:U_,event:{time:Date.now(),title:r.type,data:i}})}),e.subscribeAction({before:function(r,s){var i={};r.payload&&(i.payload=r.payload),r._id=BL++,r._time=Date.now(),i.state=s,n.addTimelineEvent({layerId:Qu,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:i}})},after:function(r,s){var i={},o=Date.now()-r._time;i.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},r.payload&&(i.payload=r.payload),i.state=s,n.addTimelineEvent({layerId:Qu,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:i}})}})})}var j_=8702998,qL=6710886,KL=16777215,vw={label:"namespaced",textColor:KL,backgroundColor:qL};function Ew(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function Tw(t,e){return{id:e||"root",label:Ew(e),tags:t.namespaced?[vw]:[],children:Object.keys(t._children).map(function(n){return Tw(t._children[n],e+n+"/")})}}function ww(t,e,n,r){r.includes(n)&&t.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:e.namespaced?[vw]:[]}),Object.keys(e._children).forEach(function(s){ww(t,e._children[s],n,r+s+"/")})}function WL(t,e,n){e=n==="root"?e:e[n];var r=Object.keys(e),s={state:Object.keys(t.state).map(function(o){return{key:o,editable:!0,value:t.state[o]}})};if(r.length){var i=zL(e);s.getters=Object.keys(i).map(function(o){return{key:o.endsWith("/")?Ew(o):o,editable:!1,value:sf(function(){return i[o]})}})}return s}function zL(t){var e={};return Object.keys(t).forEach(function(n){var r=n.split("/");if(r.length>1){var s=e,i=r.pop();r.forEach(function(o){s[o]||(s[o]={_custom:{value:{},display:o,tooltip:"Module",abstract:!0}}),s=s[o]._custom.value}),s[i]=sf(function(){return t[n]})}else e[n]=sf(function(){return t[n]})}),e}function GL(t,e){var n=e.split("/").filter(function(r){return r});return n.reduce(function(r,s,i){var o=r[s];if(!o)throw new Error('Missing module "'+s+'" for path "'+e+'".');return i===n.length-1?o:o._children},e==="root"?t:t.root._children)}function sf(t){try{return t()}catch(e){return e}}var Rn=function(e,n){this.runtime=n,this._children=Object.create(null),this._rawModule=e;var r=e.state;this.state=(typeof r=="function"?r():r)||{}},bw={namespaced:{configurable:!0}};bw.namespaced.get=function(){return!!this._rawModule.namespaced};Rn.prototype.addChild=function(e,n){this._children[e]=n};Rn.prototype.removeChild=function(e){delete this._children[e]};Rn.prototype.getChild=function(e){return this._children[e]};Rn.prototype.hasChild=function(e){return e in this._children};Rn.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};Rn.prototype.forEachChild=function(e){Li(this._children,e)};Rn.prototype.forEachGetter=function(e){this._rawModule.getters&&Li(this._rawModule.getters,e)};Rn.prototype.forEachAction=function(e){this._rawModule.actions&&Li(this._rawModule.actions,e)};Rn.prototype.forEachMutation=function(e){this._rawModule.mutations&&Li(this._rawModule.mutations,e)};Object.defineProperties(Rn.prototype,bw);var Ns=function(e){this.register([],e,!1)};Ns.prototype.get=function(e){return e.reduce(function(n,r){return n.getChild(r)},this.root)};Ns.prototype.getNamespace=function(e){var n=this.root;return e.reduce(function(r,s){return n=n.getChild(s),r+(n.namespaced?s+"/":"")},"")};Ns.prototype.update=function(e){Iw([],this.root,e)};Ns.prototype.register=function(e,n,r){var s=this;r===void 0&&(r=!0);var i=new Rn(n,r);if(e.length===0)this.root=i;else{var o=this.get(e.slice(0,-1));o.addChild(e[e.length-1],i)}n.modules&&Li(n.modules,function(a,l){s.register(e.concat(l),a,r)})};Ns.prototype.unregister=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1],s=n.getChild(r);s&&s.runtime&&n.removeChild(r)};Ns.prototype.isRegistered=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1];return n?n.hasChild(r):!1};function Iw(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return;Iw(t.concat(r),e.getChild(r),n.modules[r])}}function QL(t){return new jt(t)}var jt=function(e){var n=this;e===void 0&&(e={});var r=e.plugins;r===void 0&&(r=[]);var s=e.strict;s===void 0&&(s=!1);var i=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Ns(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=i;var o=this,a=this,l=a.dispatch,u=a.commit;this.dispatch=function(p,g){return l.call(o,p,g)},this.commit=function(p,g,E){return u.call(o,p,g,E)},this.strict=s;var h=this._modules.root.state;Yl(this,h,[],this._modules.root),Zd(this,h),r.forEach(function(f){return f(n)})},tp={state:{configurable:!0}};jt.prototype.install=function(e,n){e.provide(n||Xd,this),e.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&HL(e,this)};tp.state.get=function(){return this._state.data};tp.state.set=function(t){};jt.prototype.commit=function(e,n,r){var s=this,i=il(e,n,r),o=i.type,a=i.payload,l={type:o,payload:a},u=this._mutations[o];u&&(this._withCommit(function(){u.forEach(function(f){f(a)})}),this._subscribers.slice().forEach(function(h){return h(l,s.state)}))};jt.prototype.dispatch=function(e,n){var r=this,s=il(e,n),i=s.type,o=s.payload,a={type:i,payload:o},l=this._actions[i];if(l){try{this._actionSubscribers.slice().filter(function(h){return h.before}).forEach(function(h){return h.before(a,r.state)})}catch{}var u=l.length>1?Promise.all(l.map(function(h){return h(o)})):l[0](o);return new Promise(function(h,f){u.then(function(p){try{r._actionSubscribers.filter(function(g){return g.after}).forEach(function(g){return g.after(a,r.state)})}catch{}h(p)},function(p){try{r._actionSubscribers.filter(function(g){return g.error}).forEach(function(g){return g.error(a,r.state,p)})}catch{}f(p)})})}};jt.prototype.subscribe=function(e,n){return gw(e,this._subscribers,n)};jt.prototype.subscribeAction=function(e,n){var r=typeof e=="function"?{before:e}:e;return gw(r,this._actionSubscribers,n)};jt.prototype.watch=function(e,n,r){var s=this;return ci.watch(function(){return e(s.state,s.getters)},n,Object.assign({},r))};jt.prototype.replaceState=function(e){var n=this;this._withCommit(function(){n._state.data=e})};jt.prototype.registerModule=function(e,n,r){r===void 0&&(r={}),typeof e=="string"&&(e=[e]),this._modules.register(e,n),Yl(this,this.state,e,this._modules.get(e),r.preserveState),Zd(this,this.state)};jt.prototype.unregisterModule=function(e){var n=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var r=ep(n.state,e.slice(0,-1));delete r[e[e.length-1]]}),_w(this)};jt.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};jt.prototype.hotUpdate=function(e){this._modules.update(e),_w(this,!0)};jt.prototype._withCommit=function(e){var n=this._committing;this._committing=!0,e(),this._committing=n};Object.defineProperties(jt.prototype,tp);var Aw=Zl(function(t,e){var n={};return Xl(e).forEach(function(r){var s=r.key,i=r.val;n[s]=function(){var a=this.$store.state,l=this.$store.getters;if(t){var u=eu(this.$store,"mapState",t);if(!u)return;a=u.context.state,l=u.context.getters}return typeof i=="function"?i.call(this,a,l):a[i]},n[s].vuex=!0}),n}),Sw=Zl(function(t,e){var n={};return Xl(e).forEach(function(r){var s=r.key,i=r.val;n[s]=function(){for(var a=[],l=arguments.length;l--;)a[l]=arguments[l];var u=this.$store.commit;if(t){var h=eu(this.$store,"mapMutations",t);if(!h)return;u=h.context.commit}return typeof i=="function"?i.apply(this,[u].concat(a)):u.apply(this.$store,[i].concat(a))}}),n}),Rw=Zl(function(t,e){var n={};return Xl(e).forEach(function(r){var s=r.key,i=r.val;i=t+i,n[s]=function(){if(!(t&&!eu(this.$store,"mapGetters",t)))return this.$store.getters[i]},n[s].vuex=!0}),n}),Cw=Zl(function(t,e){var n={};return Xl(e).forEach(function(r){var s=r.key,i=r.val;n[s]=function(){for(var a=[],l=arguments.length;l--;)a[l]=arguments[l];var u=this.$store.dispatch;if(t){var h=eu(this.$store,"mapActions",t);if(!h)return;u=h.context.dispatch}return typeof i=="function"?i.apply(this,[u].concat(a)):u.apply(this.$store,[i].concat(a))}}),n}),JL=function(t){return{mapState:Aw.bind(null,t),mapGetters:Rw.bind(null,t),mapMutations:Sw.bind(null,t),mapActions:Cw.bind(null,t)}};function Xl(t){return YL(t)?Array.isArray(t)?t.map(function(e){return{key:e,val:e}}):Object.keys(t).map(function(e){return{key:e,val:t[e]}}):[]}function YL(t){return Array.isArray(t)||mw(t)}function Zl(t){return function(e,n){return typeof e!="string"?(n=e,e=""):e.charAt(e.length-1)!=="/"&&(e+="/"),t(e,n)}}function eu(t,e,n){var r=t._modulesNamespaceMap[n];return r}function XL(t){t===void 0&&(t={});var e=t.collapsed;e===void 0&&(e=!0);var n=t.filter;n===void 0&&(n=function(h,f,p){return!0});var r=t.transformer;r===void 0&&(r=function(h){return h});var s=t.mutationTransformer;s===void 0&&(s=function(h){return h});var i=t.actionFilter;i===void 0&&(i=function(h,f){return!0});var o=t.actionTransformer;o===void 0&&(o=function(h){return h});var a=t.logMutations;a===void 0&&(a=!0);var l=t.logActions;l===void 0&&(l=!0);var u=t.logger;return u===void 0&&(u=console),function(h){var f=rf(h.state);typeof u>"u"||(a&&h.subscribe(function(p,g){var E=rf(g);if(n(p,f,E)){var R=H_(),S=s(p),x="mutation "+p.type+R;$_(u,x,e),u.log("%c prev state","color: #9E9E9E; font-weight: bold",r(f)),u.log("%c mutation","color: #03A9F4; font-weight: bold",S),u.log("%c next state","color: #4CAF50; font-weight: bold",r(E)),B_(u)}f=E}),l&&h.subscribeAction(function(p,g){if(i(p,g)){var E=H_(),R=o(p),S="action "+p.type+E;$_(u,S,e),u.log("%c action","color: #03A9F4; font-weight: bold",R),B_(u)}}))}}function $_(t,e,n){var r=n?t.groupCollapsed:t.group;try{r.call(t,e)}catch{t.log(e)}}function B_(t){try{t.groupEnd()}catch{t.log(" log end ")}}function H_(){var t=new Date;return" @ "+nc(t.getHours(),2)+":"+nc(t.getMinutes(),2)+":"+nc(t.getSeconds(),2)+"."+nc(t.getMilliseconds(),3)}function ZL(t,e){return new Array(e+1).join(t)}function nc(t,e){return ZL("0",e-t.toString().length)+t}var eF={version:"4.1.0",Store:jt,storeKey:Xd,createStore:QL,useStore:NL,mapState:Aw,mapMutations:Sw,mapGetters:Rw,mapActions:Cw,createNamespacedHelpers:JL,createLogger:XL},tF=eF;const nF={class:"recipe-details"},rF={key:1,class:"recipe-card"},sF={class:"recipe-image"},iF=["src","alt"],oF={class:"recipe-content"},aF={class:"recipe-rating"},cF={class:"recipe-title"},lF={class:"recipe-meta"},uF={class:"recipe-servings"},hF={class:"recipe-time"},fF={key:0,class:"recipe-tags"},dF={class:"recipe-section"},pF={class:"ingredients-list"},mF={class:"recipe-section"},gF={class:"directions-list"},_F={class:"recipe-notes"},yF={key:0},vF=["href"],EF={key:1},TF=["href"],wF={key:2},bF={key:3},IF={__name:"RecipeDetails",setup(t){const e=nV(),n=tF.useStore(),r=ye({}),s=ye(4),i=ye(2),o=ye(15),a=Ae(()=>wi.currentUser),l=ye(!1),u=Ae(()=>n.getters.isLoading),h=ye(null),f=async()=>{if(a.value&&r.value.idMeal){const S=o_(a_,"favorites",`${a.value.uid}_${r.value.idMeal}`),x=await zx(S);l.value=x.exists()}},p=async()=>{if(a.value&&r.value.idMeal){const S=o_(a_,"favorites",`${a.value.uid}_${r.value.idMeal}`);try{l.value?await Jx(S):await Qx(S,{userId:a.value.uid,recipe:r.value}),l.value=!l.value}catch(x){console.error("Error toggling favorite:",x),h.value="Failed to update favorite. Please try again."}}},g=Ae(()=>r.value?Array.from({length:20},(S,x)=>x+1).map(S=>({name:r.value[`strIngredient${S}`],measure:r.value[`strMeasure${S}`]})).filter(({name:S,measure:x})=>S&&x):[]),E=Ae(()=>r.value.strInstructions?r.value.strInstructions.split(`
`).filter(S=>S.trim()):[]),R=Ae(()=>r.value.strTags?r.value.strTags.split(",").map(S=>S.trim()):[]);return pn(async()=>{n.commit("setLoading",!0);try{const S=await Ke.get(`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${e.params.id}`);r.value=S.data.meals[0],await f()}catch(S){console.error("Error fetching recipe details:",S),h.value="Failed to load recipe details. Please try again."}finally{n.commit("setLoading",!1)}}),(S,x)=>(se(),de("div",nF,[u.value?(se(),tn(nl,{key:0})):(se(),de("div",rF,[B("div",sF,[B("img",{src:r.value.strMealThumb,alt:r.value.strMeal},null,8,iF)]),B("div",oF,[B("div",aF,[(se(),de(Ue,null,yn(5,P=>B("span",{key:P,class:jn(["star",{empty:P>s.value}])},"",2)),64))]),B("h1",cF,Qe(r.value.strMeal),1),B("div",lF,[B("span",uF,[x[0]||(x[0]=Rv('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon" data-v-53b2cfce><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" data-v-53b2cfce></path><circle cx="9" cy="7" r="4" data-v-53b2cfce></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87" data-v-53b2cfce></path><path d="M16 3.13a4 4 0 0 1 0 7.75" data-v-53b2cfce></path></svg>',1)),qt(" "+Qe(i.value)+" servings ",1)]),B("span",hF,[x[1]||(x[1]=B("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"icon"},[B("circle",{cx:"12",cy:"12",r:"10"}),B("polyline",{points:"12 6 12 12 16 14"})],-1)),qt(" "+Qe(o.value)+" minutes ",1)])]),R.value.length?(se(),de("div",fF,[(se(!0),de(Ue,null,yn(R.value,P=>(se(),de("span",{key:P,class:"tag"},Qe(P),1))),128))])):pt("",!0),B("div",dF,[x[2]||(x[2]=B("h2",null,"INGREDIENTS",-1)),B("ul",pF,[(se(!0),de(Ue,null,yn(g.value,(P,_)=>(se(),de("li",{key:_},Qe(P.measure)+" "+Qe(P.name),1))),128))])]),B("div",mF,[x[3]||(x[3]=B("h2",null,"DIRECTIONS",-1)),B("ol",gF,[(se(!0),de(Ue,null,yn(E.value,(P,_)=>(se(),de("li",{key:_},Qe(P),1))),128))])]),B("div",_F,[x[6]||(x[6]=B("h2",null,"NOTES",-1)),r.value.strSource?(se(),de("p",yF,[x[4]||(x[4]=qt("Source: ")),B("a",{href:r.value.strSource,target:"_blank",rel:"noopener noreferrer"},Qe(r.value.strSource),9,vF)])):pt("",!0),r.value.strYoutube?(se(),de("p",EF,[x[5]||(x[5]=qt("Video Tutorial: ")),B("a",{href:r.value.strYoutube,target:"_blank",rel:"noopener noreferrer"},"Watch on YouTube",8,TF)])):pt("",!0),r.value.strCategory?(se(),de("p",wF,"Category: "+Qe(r.value.strCategory),1)):pt("",!0),r.value.strArea?(se(),de("p",bF,"Cuisine: "+Qe(r.value.strArea),1)):pt("",!0)]),a.value?(se(),de("button",{key:1,onClick:p,class:"favorite-btn"},Qe(l.value?"Remove from Favorites":"Add to Favorites"),1)):pt("",!0)])]))]))}},AF=An(IF,[["__scopeId","data-v-53b2cfce"]]),SF={class:"auth-form"},RF={class:"form-group"},CF={class:"form-group"},PF={key:0,class:"error"},OF={__name:"SignUp",setup(t){const e=ye(""),n=ye(""),r=ye(""),s=Wd(),i=async()=>{try{await bP(wi,e.value,n.value),s.push("/")}catch(o){r.value=o.message}};return(o,a)=>(se(),de("div",SF,[a[5]||(a[5]=B("h2",null,"Sign Up",-1)),B("form",{onSubmit:ds(i,["prevent"])},[B("div",RF,[a[2]||(a[2]=B("label",{for:"email"},"Email:",-1)),ln(B("input",{type:"email",id:"email","onUpdate:modelValue":a[0]||(a[0]=l=>e.value=l),required:""},null,512),[[hn,e.value]])]),B("div",CF,[a[3]||(a[3]=B("label",{for:"password"},"Password:",-1)),ln(B("input",{type:"password",id:"password","onUpdate:modelValue":a[1]||(a[1]=l=>n.value=l),required:""},null,512),[[hn,n.value]])]),a[4]||(a[4]=B("button",{type:"submit"},"Sign Up",-1))],32),r.value?(se(),de("p",PF,Qe(r.value),1)):pt("",!0)]))}},kF=An(OF,[["__scopeId","data-v-c12cc170"]]),NF={class:"auth-form"},xF={class:"form-group"},DF={class:"form-group"},VF={key:0,class:"error"},MF={__name:"SignIn",setup(t){const e=ye(""),n=ye(""),r=ye(""),s=Wd(),i=async()=>{try{await IP(wi,e.value,n.value),s.push("/")}catch(o){r.value=o.message}};return(o,a)=>(se(),de("div",NF,[a[5]||(a[5]=B("h2",null,"Sign In",-1)),B("form",{onSubmit:ds(i,["prevent"])},[B("div",xF,[a[2]||(a[2]=B("label",{for:"email"},"Email:",-1)),ln(B("input",{type:"email",id:"email","onUpdate:modelValue":a[0]||(a[0]=l=>e.value=l),required:""},null,512),[[hn,e.value]])]),B("div",DF,[a[3]||(a[3]=B("label",{for:"password"},"Password:",-1)),ln(B("input",{type:"password",id:"password","onUpdate:modelValue":a[1]||(a[1]=l=>n.value=l),required:""},null,512),[[hn,n.value]])]),a[4]||(a[4]=B("button",{type:"submit"},"Sign In",-1))],32),r.value?(se(),de("p",VF,Qe(r.value),1)):pt("",!0)]))}},LF=An(MF,[["__scopeId","data-v-afb668ed"]]),FF={class:"favorite-recipes"},UF={key:1,class:"error-message"},jF={key:2},$F={key:3,class:"recipes-grid"},BF={__name:"FavoriteRecipes",setup(t){const e=Yf(),n=Ae(()=>e.getters.getFavorites),r=Ae(()=>e.getters.isLoading),s=Ae(()=>e.getters.getError);return pn(()=>{e.dispatch("fetchFavorites")}),(i,o)=>(se(),de("div",FF,[o[0]||(o[0]=B("h2",null,"Your Favorite Recipes",-1)),r.value?(se(),tn(nl,{key:0})):s.value?(se(),de("div",UF,Qe(s.value),1)):n.value.length===0?(se(),de("div",jF,"You haven't saved any favorites yet.")):(se(),de("div",$F,[(se(!0),de(Ue,null,yn(n.value,a=>(se(),tn(HT,{key:a.idMeal,recipe:a},null,8,["recipe"]))),128))]))]))}},HF=An(BF,[["__scopeId","data-v-c053abee"]]),qF=[{path:"/",name:"Home",component:vL},{path:"/about",name:"About",component:TL},{path:"/contact",name:"Contact",component:CL},{path:"/recipe/:id",name:"RecipeDetails",component:AF},{path:"/signup",name:"SignUp",component:kF},{path:"/signin",name:"SignIn",component:LF},{path:"/favorites",name:"Favorites",component:HF}],KF=eV({history:OD(),routes:qF}),WF=GR({state:{searchResults:[],popularRecipes:[],categories:[],areas:[],isLoading:!1,error:null},mutations:{setSearchResults(t,e){t.searchResults=e},appendSearchResults(t,e){const n=e.filter(r=>!t.searchResults.some(s=>s.idMeal===r.idMeal));t.searchResults=[...t.searchResults,...n]},setPopularRecipes(t,e){t.popularRecipes=e},appendPopularRecipes(t,e){const n=e.filter(r=>!t.popularRecipes.some(s=>s.idMeal===r.idMeal));t.popularRecipes=[...t.popularRecipes,...n]},setCategories(t,e){t.categories=e},setAreas(t,e){t.areas=e},setLoading(t,e){t.isLoading=e},setError(t,e){t.error=e}},actions:{async searchRecipes({commit:t,state:e},{query:n,category:r,area:s,page:i}){t("setLoading",!0),t("setError",null);try{let o=`https://www.themealdb.com/api/json/v1/1/search.php?s=${n}`;r&&(o+=`&c=${r}`),s&&(o+=`&a=${s}`);const l=(await Ke.get(o)).data.meals||[],u=(i-1)*10,h=u+10,f=l.slice(u,h);t(i===1?"setSearchResults":"appendSearchResults",f),f.length===0&&i===1&&t("setError","No recipes found. Try a different search term or filters.")}catch(o){t("setError","An error occurred while searching for recipes."),console.error("Error searching recipes:",o)}finally{t("setLoading",!1)}},async fetchPopularRecipes({commit:t,state:e},{page:n}){t("setLoading",!0),t("setError",null);try{const r=[];let o=0;for(;r.length<10&&o<20;){const l=(await Ke.get("https://www.themealdb.com/api/json/v1/1/random.php")).data.meals[0];!e.popularRecipes.some(u=>u.idMeal===l.idMeal)&&!r.some(u=>u.idMeal===l.idMeal)&&r.push(l),o++}t(n===1?"setPopularRecipes":"appendPopularRecipes",r),r.length===0&&n===1&&t("setError","No popular recipes available at the moment. Please try again later.")}catch(r){t("setError","An error occurred while fetching popular recipes."),console.error("Error fetching popular recipes:",r)}finally{t("setLoading",!1)}},async fetchCategories({commit:t}){try{const e=await Ke.get("https://www.themealdb.com/api/json/v1/1/list.php?c=list");t("setCategories",e.data.meals.map(n=>n.strCategory))}catch(e){console.error("Error fetching categories:",e)}},async fetchAreas({commit:t}){try{const e=await Ke.get("https://www.themealdb.com/api/json/v1/1/list.php?a=list");t("setAreas",e.data.meals.map(n=>n.strArea))}catch(e){console.error("Error fetching areas:",e)}}},getters:{getSearchResults:t=>t.searchResults,getPopularRecipes:t=>t.popularRecipes,getCategories:t=>t.categories,getAreas:t=>t.areas,isLoading:t=>t.isLoading,getError:t=>t.error}});function Ju(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in t?!1:Symbol.toStringTag in t?Object.prototype.toString.call(t)==="[object Module]":!0}function of(t,e,n=".",r){if(!Ju(e))return of(t,{},n,r);const s=Object.assign({},e);for(const i in t){if(i==="__proto__"||i==="constructor")continue;const o=t[i];o!=null&&(r&&r(s,i,o,n)||(Array.isArray(o)&&Array.isArray(s[i])?s[i]=[...o,...s[i]]:Ju(o)&&Ju(s[i])?s[i]=of(o,s[i],(n?`${n}.`:"")+i.toString(),r):s[i]=o))}return s}function zF(t){return(...e)=>e.reduce((n,r)=>of(n,r,"",t),{})}const Pw=zF();function Ow(t){return wf()?(uy(t),!0):!1}function np(t){return typeof t=="function"?t():kt(t)}const GF=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const QF=t=>t!=null,JF=Object.prototype.toString,ol=t=>JF.call(t)==="[object Object]",vc=()=>{};function YF(t){return Jt()}function XF(t,e){YF()&&Qr(t,e)}function Ao(t){var e;const n=np(t);return(e=n==null?void 0:n.$el)!=null?e:n}const kw=GF?window:void 0;function Pn(...t){let e,n,r,s;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,r,s]=t,e=kw):[e,n,r,s]=t,!e)return vc;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const i=[],o=()=>{i.forEach(h=>h()),i.length=0},a=(h,f,p,g)=>(h.addEventListener(f,p,g),()=>h.removeEventListener(f,p,g)),l=rt(()=>[Ao(e),np(s)],([h,f])=>{if(o(),!h)return;const p=ol(f)?{...f}:f;i.push(...n.flatMap(g=>r.map(E=>a(h,g,E,p))))},{immediate:!0,flush:"post"}),u=()=>{l(),o()};return Ow(u),u}function ZF(){const t=ye(!1),e=Jt();return e&&pn(()=>{t.value=!0},e),t}function e2(t){const e=ZF();return Ae(()=>(e.value,!!t()))}function t2(t,e,n={}){const{root:r,rootMargin:s="0px",threshold:i=.1,window:o=kw,immediate:a=!0}=n,l=e2(()=>o&&"IntersectionObserver"in o),u=Ae(()=>{const E=np(t);return(Array.isArray(E)?E:[E]).map(Ao).filter(QF)});let h=vc;const f=ye(a),p=l.value?rt(()=>[u.value,Ao(r),f.value],([E,R])=>{if(h(),!f.value||!E.length)return;const S=new IntersectionObserver(e,{root:Ao(R),rootMargin:s,threshold:i});E.forEach(x=>x&&S.observe(x)),h=()=>{S.disconnect(),h=vc}},{immediate:a,flush:"post"}):vc,g=()=>{h(),p(),f.value=!1};return Ow(g),{isSupported:l,isActive:f,pause(){h(),f.value=!1},resume(){f.value=!0},stop:g}}const Nw=1/60*1e3,n2=typeof performance<"u"?()=>performance.now():()=>Date.now(),xw=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(n2()),Nw);function r2(t){let e=[],n=[],r=0,s=!1,i=!1;const o=new WeakSet,a={schedule:(l,u=!1,h=!1)=>{const f=h&&s,p=f?e:n;return u&&o.add(l),p.indexOf(l)===-1&&(p.push(l),f&&s&&(r=e.length)),l},cancel:l=>{const u=n.indexOf(l);u!==-1&&n.splice(u,1),o.delete(l)},process:l=>{if(s){i=!0;return}if(s=!0,[e,n]=[n,e],n.length=0,r=e.length,r)for(let u=0;u<r;u++){const h=e[u];h(l),o.has(h)&&(a.schedule(h),t())}s=!1,i&&(i=!1,a.process(l))}};return a}const s2=40;let af=!0,Jo=!1,cf=!1;const li={delta:0,timestamp:0},Ea=["read","update","preRender","render","postRender"],tu=Ea.reduce((t,e)=>(t[e]=r2(()=>Jo=!0),t),{}),lf=Ea.reduce((t,e)=>{const n=tu[e];return t[e]=(r,s=!1,i=!1)=>(Jo||a2(),n.schedule(r,s,i)),t},{}),i2=Ea.reduce((t,e)=>(t[e]=tu[e].cancel,t),{});Ea.reduce((t,e)=>(t[e]=()=>tu[e].process(li),t),{});const o2=t=>tu[t].process(li),Dw=t=>{Jo=!1,li.delta=af?Nw:Math.max(Math.min(t-li.timestamp,s2),1),li.timestamp=t,cf=!0,Ea.forEach(o2),cf=!1,Jo&&(af=!1,xw(Dw))},a2=()=>{Jo=!0,af=!0,cf||xw(Dw)},Vw=()=>li;function Mw(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}var q_=function(){};const uf=(t,e,n)=>Math.min(Math.max(n,t),e),Yu=.001,c2=.01,l2=10,u2=.05,h2=1;function f2({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,i,o=1-e;o=uf(u2,h2,o),t=uf(c2,l2,t/1e3),o<1?(s=u=>{const h=u*o,f=h*t,p=h-n,g=hf(u,o),E=Math.exp(-f);return Yu-p/g*E},i=u=>{const f=u*o*t,p=f*n+n,g=Math.pow(o,2)*Math.pow(u,2)*t,E=Math.exp(-f),R=hf(Math.pow(u,2),o);return(-s(u)+Yu>0?-1:1)*((p-g)*E)/R}):(s=u=>{const h=Math.exp(-u*t),f=(u-n)*t+1;return-Yu+h*f},i=u=>{const h=Math.exp(-u*t),f=(n-u)*(t*t);return h*f});const a=5/t,l=p2(s,i,a);if(t=t*1e3,isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const d2=12;function p2(t,e,n){let r=n;for(let s=1;s<d2;s++)r=r-t(r)/e(r);return r}function hf(t,e){return t*Math.sqrt(1-e*e)}const m2=["duration","bounce"],g2=["stiffness","damping","mass"];function K_(t,e){return e.some(n=>t[n]!==void 0)}function _2(t){let e=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},t);if(!K_(t,g2)&&K_(t,m2)){const n=f2(t);e=Object.assign(Object.assign(Object.assign({},e),n),{velocity:0,mass:1}),e.isResolvedFromDuration=!0}return e}function rp(t){var{from:e=0,to:n=1,restSpeed:r=2,restDelta:s}=t,i=Mw(t,["from","to","restSpeed","restDelta"]);const o={done:!1,value:e};let{stiffness:a,damping:l,mass:u,velocity:h,duration:f,isResolvedFromDuration:p}=_2(i),g=W_,E=W_;function R(){const S=h?-(h/1e3):0,x=n-e,P=l/(2*Math.sqrt(a*u)),_=Math.sqrt(a/u)/1e3;if(s===void 0&&(s=Math.min(Math.abs(n-e)/100,.4)),P<1){const O=hf(_,P);g=D=>{const L=Math.exp(-P*_*D);return n-L*((S+P*_*x)/O*Math.sin(O*D)+x*Math.cos(O*D))},E=D=>{const L=Math.exp(-P*_*D);return P*_*L*(Math.sin(O*D)*(S+P*_*x)/O+x*Math.cos(O*D))-L*(Math.cos(O*D)*(S+P*_*x)-O*x*Math.sin(O*D))}}else if(P===1)g=O=>n-Math.exp(-_*O)*(x+(S+_*x)*O);else{const O=_*Math.sqrt(P*P-1);g=D=>{const L=Math.exp(-P*_*D),b=Math.min(O*D,300);return n-L*((S+P*_*x)*Math.sinh(b)+O*x*Math.cosh(b))/O}}}return R(),{next:S=>{const x=g(S);if(p)o.done=S>=f;else{const P=E(S)*1e3,_=Math.abs(P)<=r,O=Math.abs(n-x)<=s;o.done=_&&O}return o.value=o.done?n:x,o},flipTarget:()=>{h=-h,[e,n]=[n,e],R()}}}rp.needsInterpolation=(t,e)=>typeof t=="string"||typeof e=="string";const W_=t=>0,Lw=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},sp=(t,e,n)=>-n*t+n*e+t,Fw=(t,e)=>n=>Math.max(Math.min(n,e),t),So=t=>t%1?Number(t.toFixed(5)):t,Yo=/(-)?([\d]*\.?[\d])+/g,ff=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,y2=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Ta(t){return typeof t=="string"}const wa={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ro=Object.assign(Object.assign({},wa),{transform:Fw(0,1)}),rc=Object.assign(Object.assign({},wa),{default:1}),ip=t=>({test:e=>Ta(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ss=ip("deg"),Co=ip("%"),be=ip("px"),z_=Object.assign(Object.assign({},Co),{parse:t=>Co.parse(t)/100,transform:t=>Co.transform(t*100)}),op=(t,e)=>n=>!!(Ta(n)&&y2.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),Uw=(t,e,n)=>r=>{if(!Ta(r))return r;const[s,i,o,a]=r.match(Yo);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},ls={test:op("hsl","hue"),parse:Uw("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Co.transform(So(e))+", "+Co.transform(So(n))+", "+So(Ro.transform(r))+")"},v2=Fw(0,255),Xu=Object.assign(Object.assign({},wa),{transform:t=>Math.round(v2(t))}),Nr={test:op("rgb","red"),parse:Uw("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Xu.transform(t)+", "+Xu.transform(e)+", "+Xu.transform(n)+", "+So(Ro.transform(r))+")"};function E2(t){let e="",n="",r="",s="";return t.length>5?(e=t.substr(1,2),n=t.substr(3,2),r=t.substr(5,2),s=t.substr(7,2)):(e=t.substr(1,1),n=t.substr(2,1),r=t.substr(3,1),s=t.substr(4,1),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const df={test:op("#"),parse:E2,transform:Nr.transform},Ht={test:t=>Nr.test(t)||df.test(t)||ls.test(t),parse:t=>Nr.test(t)?Nr.parse(t):ls.test(t)?ls.parse(t):df.parse(t),transform:t=>Ta(t)?t:t.hasOwnProperty("red")?Nr.transform(t):ls.transform(t)},jw="${c}",$w="${n}";function T2(t){var e,n,r,s;return isNaN(t)&&Ta(t)&&((n=(e=t.match(Yo))===null||e===void 0?void 0:e.length)!==null&&n!==void 0?n:0)+((s=(r=t.match(ff))===null||r===void 0?void 0:r.length)!==null&&s!==void 0?s:0)>0}function Bw(t){typeof t=="number"&&(t=`${t}`);const e=[];let n=0;const r=t.match(ff);r&&(n=r.length,t=t.replace(ff,jw),e.push(...r.map(Ht.parse)));const s=t.match(Yo);return s&&(t=t.replace(Yo,$w),e.push(...s.map(wa.parse))),{values:e,numColors:n,tokenised:t}}function Hw(t){return Bw(t).values}function qw(t){const{values:e,numColors:n,tokenised:r}=Bw(t),s=e.length;return i=>{let o=r;for(let a=0;a<s;a++)o=o.replace(a<n?jw:$w,a<n?Ht.transform(i[a]):So(i[a]));return o}}const w2=t=>typeof t=="number"?0:t;function b2(t){const e=Hw(t);return qw(t)(e.map(w2))}const ba={test:T2,parse:Hw,createTransformer:qw,getAnimatableNone:b2},I2=new Set(["brightness","contrast","saturate","opacity"]);function A2(t){let[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Yo)||[];if(!r)return t;const s=n.replace(r,"");let i=I2.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const S2=/([a-z-]*)\(.*?\)/g,pf=Object.assign(Object.assign({},ba),{getAnimatableNone:t=>{const e=t.match(S2);return e?e.map(A2).join(" "):t}});function Zu(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function G_({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=Zu(l,a,t+1/3),i=Zu(l,a,t),o=Zu(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const R2=(t,e,n)=>{const r=t*t,s=e*e;return Math.sqrt(Math.max(0,n*(s-r)+r))},C2=[df,Nr,ls],Q_=t=>C2.find(e=>e.test(t)),Kw=(t,e)=>{let n=Q_(t),r=Q_(e),s=n.parse(t),i=r.parse(e);n===ls&&(s=G_(s),n=Nr),r===ls&&(i=G_(i),r=Nr);const o=Object.assign({},s);return a=>{for(const l in o)l!=="alpha"&&(o[l]=R2(s[l],i[l],a));return o.alpha=sp(s.alpha,i.alpha,a),n.transform(o)}},P2=t=>typeof t=="number",O2=(t,e)=>n=>e(t(n)),Ww=(...t)=>t.reduce(O2);function zw(t,e){return P2(t)?n=>sp(t,e,n):Ht.test(t)?Kw(t,e):Qw(t,e)}const Gw=(t,e)=>{const n=[...t],r=n.length,s=t.map((i,o)=>zw(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}},k2=(t,e)=>{const n=Object.assign(Object.assign({},t),e),r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=zw(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}};function J_(t){const e=ba.parse(t),n=e.length;let r=0,s=0,i=0;for(let o=0;o<n;o++)r||typeof e[o]=="number"?r++:e[o].hue!==void 0?i++:s++;return{parsed:e,numNumbers:r,numRGB:s,numHSL:i}}const Qw=(t,e)=>{const n=ba.createTransformer(e),r=J_(t),s=J_(e);return r.numHSL===s.numHSL&&r.numRGB===s.numRGB&&r.numNumbers>=s.numNumbers?Ww(Gw(r.parsed,s.parsed),n):o=>`${o>0?e:t}`},N2=(t,e)=>n=>sp(t,e,n);function x2(t){if(typeof t=="number")return N2;if(typeof t=="string")return Ht.test(t)?Kw:Qw;if(Array.isArray(t))return Gw;if(typeof t=="object")return k2}function D2(t,e,n){const r=[],s=n||x2(t[0]),i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]:e;a=Ww(l,a)}r.push(a)}return r}function V2([t,e],[n]){return r=>n(Lw(t,e,r))}function M2(t,e){const n=t.length,r=n-1;return s=>{let i=0,o=!1;if(s<=t[0]?o=!0:s>=t[r]&&(i=r-1,o=!0),!o){let l=1;for(;l<n&&!(t[l]>s||l===r);l++);i=l-1}const a=Lw(t[i],t[i+1],s);return e[i](a)}}function Jw(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;q_(i===e.length),q_(!r||!Array.isArray(r)||r.length===i-1),t[0]>t[i-1]&&(t=[].concat(t),e=[].concat(e),t.reverse(),e.reverse());const o=D2(e,r,s),a=i===2?V2(t,o):M2(t,o);return n?l=>a(uf(t[0],t[i-1],l)):a}const nu=t=>e=>1-t(1-e),ap=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,L2=t=>e=>Math.pow(e,t),Yw=t=>e=>e*e*((t+1)*e-t),F2=t=>{const e=Yw(t);return n=>(n*=2)<1?.5*e(n):.5*(2-Math.pow(2,-10*(n-1)))},Xw=1.525,U2=4/11,j2=8/11,$2=9/10,Zw=t=>t,cp=L2(2),B2=nu(cp),eb=ap(cp),tb=t=>1-Math.sin(Math.acos(t)),nb=nu(tb),H2=ap(nb),lp=Yw(Xw),q2=nu(lp),K2=ap(lp),W2=F2(Xw),z2=4356/361,G2=35442/1805,Q2=16061/1805,al=t=>{if(t===1||t===0)return t;const e=t*t;return t<U2?7.5625*e:t<j2?9.075*e-9.9*t+3.4:t<$2?z2*e-G2*t+Q2:10.8*t*t-20.52*t+10.72},J2=nu(al),Y2=t=>t<.5?.5*(1-al(1-t*2)):.5*al(t*2-1)+.5;function X2(t,e){return t.map(()=>e||eb).splice(0,t.length-1)}function Z2(t){const e=t.length;return t.map((n,r)=>r!==0?r/(e-1):0)}function eU(t,e){return t.map(n=>n*e)}function Ec({from:t=0,to:e=1,ease:n,offset:r,duration:s=300}){const i={done:!1,value:t},o=Array.isArray(e)?e:[t,e],a=eU(r&&r.length===o.length?r:Z2(o),s);function l(){return Jw(a,o,{ease:Array.isArray(n)?n:X2(o,n)})}let u=l();return{next:h=>(i.value=u(h),i.done=h>=s,i),flipTarget:()=>{o.reverse(),u=l()}}}function tU({velocity:t=0,from:e=0,power:n=.8,timeConstant:r=350,restDelta:s=.5,modifyTarget:i}){const o={done:!1,value:e};let a=n*t;const l=e+a,u=i===void 0?l:i(l);return u!==l&&(a=u-e),{next:h=>{const f=-a*Math.exp(-h/r);return o.done=!(f>s||f<-s),o.value=o.done?u:u+f,o},flipTarget:()=>{}}}const Y_={keyframes:Ec,spring:rp,decay:tU};function nU(t){if(Array.isArray(t.to))return Ec;if(Y_[t.type])return Y_[t.type];const e=new Set(Object.keys(t));return e.has("ease")||e.has("duration")&&!e.has("dampingRatio")?Ec:e.has("dampingRatio")||e.has("stiffness")||e.has("mass")||e.has("damping")||e.has("restSpeed")||e.has("restDelta")?rp:Ec}function rb(t,e,n=0){return t-e-n}function rU(t,e,n=0,r=!0){return r?rb(e+-t,e,n):e-(t-e)+n}function sU(t,e,n,r){return r?t>=e+n:t<=-n}const iU=t=>{const e=({delta:n})=>t(n);return{start:()=>lf.update(e,!0),stop:()=>i2.update(e)}};function sb(t){var e,n,{from:r,autoplay:s=!0,driver:i=iU,elapsed:o=0,repeat:a=0,repeatType:l="loop",repeatDelay:u=0,onPlay:h,onStop:f,onComplete:p,onRepeat:g,onUpdate:E}=t,R=Mw(t,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:S}=R,x,P=0,_=R.duration,O,D=!1,L=!0,b;const T=nU(R);!((n=(e=T).needsInterpolation)===null||n===void 0)&&n.call(e,r,S)&&(b=Jw([0,100],[r,S],{clamp:!1}),r=0,S=100);const y=T(Object.assign(Object.assign({},R),{from:r,to:S}));function w(){P++,l==="reverse"?(L=P%2===0,o=rU(o,_,u,L)):(o=rb(o,_,u),l==="mirror"&&y.flipTarget()),D=!1,g&&g()}function k(){x.stop(),p&&p()}function C(ge){if(L||(ge=-ge),o+=ge,!D){const Ie=y.next(Math.max(0,o));O=Ie.value,b&&(O=b(O)),D=L?Ie.done:o<=0}E==null||E(O),D&&(P===0&&(_??(_=o)),P<a?sU(o,_,u,L)&&w():k())}function I(){h==null||h(),x=i(C),x.start()}return s&&I(),{stop:()=>{f==null||f(),x.stop()}}}function ib(t,e){return e?t*(1e3/e):0}function oU({from:t=0,velocity:e=0,min:n,max:r,power:s=.8,timeConstant:i=750,bounceStiffness:o=500,bounceDamping:a=10,restDelta:l=1,modifyTarget:u,driver:h,onUpdate:f,onComplete:p,onStop:g}){let E;function R(_){return n!==void 0&&_<n||r!==void 0&&_>r}function S(_){return n===void 0?r:r===void 0||Math.abs(n-_)<Math.abs(r-_)?n:r}function x(_){E==null||E.stop(),E=sb(Object.assign(Object.assign({},_),{driver:h,onUpdate:O=>{var D;f==null||f(O),(D=_.onUpdate)===null||D===void 0||D.call(_,O)},onComplete:p,onStop:g}))}function P(_){x(Object.assign({type:"spring",stiffness:o,damping:a,restDelta:l},_))}if(R(t))P({from:t,velocity:e,to:S(t)});else{let _=s*e+t;typeof u<"u"&&(_=u(_));const O=S(_),D=O===n?-1:1;let L,b;const T=y=>{L=b,b=y,e=ib(y-L,Vw().delta),(D===1&&y>O||D===-1&&y<O)&&P({from:y,to:O,velocity:e})};x({type:"decay",from:t,velocity:e,timeConstant:i,power:s,restDelta:l,modifyTarget:u,onUpdate:R(_)?T:void 0})}return{stop:()=>E==null?void 0:E.stop()}}const ob=(t,e)=>1-3*e+3*t,ab=(t,e)=>3*e-6*t,cb=t=>3*t,cl=(t,e,n)=>((ob(e,n)*t+ab(e,n))*t+cb(e))*t,lb=(t,e,n)=>3*ob(e,n)*t*t+2*ab(e,n)*t+cb(e),aU=1e-7,cU=10;function lU(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=cl(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>aU&&++a<cU);return o}const uU=8,hU=.001;function fU(t,e,n,r){for(let s=0;s<uU;++s){const i=lb(e,n,r);if(i===0)return e;const o=cl(e,n,r)-t;e-=o/i}return e}const Tc=11,sc=1/(Tc-1);function dU(t,e,n,r){if(t===e&&n===r)return Zw;const s=new Float32Array(Tc);for(let o=0;o<Tc;++o)s[o]=cl(o*sc,t,n);function i(o){let a=0,l=1;const u=Tc-1;for(;l!==u&&s[l]<=o;++l)a+=sc;--l;const h=(o-s[l])/(s[l+1]-s[l]),f=a+h*sc,p=lb(f,t,n);return p>=hU?fU(o,f,t,n):p===0?f:lU(o,a,a+sc,t,n)}return o=>o===0||o===1?o:cl(i(o),e,r)}const eh={};var pU=Object.defineProperty,mU=(t,e,n)=>e in t?pU(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gU=(t,e,n)=>(mU(t,e+"",n),n);class _U{constructor(){gU(this,"subscriptions",new Set)}add(e){return this.subscriptions.add(e),()=>this.subscriptions.delete(e)}notify(e,n,r){if(this.subscriptions.size)for(const s of this.subscriptions)s(e,n,r)}clear(){this.subscriptions.clear()}}var yU=Object.defineProperty,vU=(t,e,n)=>e in t?yU(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,On=(t,e,n)=>(vU(t,typeof e!="symbol"?e+"":e,n),n);function X_(t){return!Number.isNaN(Number.parseFloat(t))}class EU{constructor(e){On(this,"current"),On(this,"prev"),On(this,"timeDelta",0),On(this,"lastUpdated",0),On(this,"updateSubscribers",new _U),On(this,"stopAnimation"),On(this,"canTrackVelocity",!1),On(this,"updateAndNotify",n=>{this.prev=this.current,this.current=n;const{delta:r,timestamp:s}=Vw();this.lastUpdated!==s&&(this.timeDelta=r,this.lastUpdated=s),lf.postRender(this.scheduleVelocityCheck),this.updateSubscribers.notify(this.current)}),On(this,"scheduleVelocityCheck",()=>lf.postRender(this.velocityCheck)),On(this,"velocityCheck",({timestamp:n})=>{this.canTrackVelocity||(this.canTrackVelocity=X_(this.current)),n!==this.lastUpdated&&(this.prev=this.current)}),this.prev=this.current=e,this.canTrackVelocity=X_(this.current)}onChange(e){return this.updateSubscribers.add(e)}clearListeners(){this.updateSubscribers.clear()}set(e){this.updateAndNotify(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?ib(Number.parseFloat(this.current)-Number.parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{const{stop:r}=e(n);this.stopAnimation=r}).then(()=>this.clearAnimation())}stop(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()}isAnimating(){return!!this.stopAnimation}clearAnimation(){this.stopAnimation=null}destroy(){this.updateSubscribers.clear(),this.stop()}}function TU(t){return new EU(t)}const{isArray:wU}=Array;function bU(){const t=ye({}),e=r=>{const s=i=>{t.value[i]&&(t.value[i].stop(),t.value[i].destroy(),delete t.value[i])};r?wU(r)?r.forEach(s):s(r):Object.keys(t.value).forEach(s)},n=(r,s,i)=>{if(t.value[r])return t.value[r];const o=TU(s);return o.onChange(a=>i[r]=a),t.value[r]=o,o};return XF(e),{motionValues:t,get:n,stop:e}}function IU(t){return Array.isArray(t)}function is(){return{type:"spring",stiffness:500,damping:25,restDelta:.5,restSpeed:10}}function th(t){return{type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restDelta:.01,restSpeed:10}}function AU(t){return{type:"spring",stiffness:550,damping:t===0?100:30,restDelta:.01,restSpeed:10}}function nh(){return{type:"keyframes",ease:"linear",duration:300}}function SU(t){return{type:"keyframes",duration:800,values:t}}const Z_={default:AU,x:is,y:is,z:is,rotate:is,rotateX:is,rotateY:is,rotateZ:is,scaleX:th,scaleY:th,scale:th,backgroundColor:nh,color:nh,opacity:nh};function ub(t,e){let n;return IU(e)?n=SU:n=Z_[t]||Z_.default,{to:e,...n(e)}}const ey={...wa,transform:Math.round},hb={color:Ht,backgroundColor:Ht,outlineColor:Ht,fill:Ht,stroke:Ht,borderColor:Ht,borderTopColor:Ht,borderRightColor:Ht,borderBottomColor:Ht,borderLeftColor:Ht,borderWidth:be,borderTopWidth:be,borderRightWidth:be,borderBottomWidth:be,borderLeftWidth:be,borderRadius:be,radius:be,borderTopLeftRadius:be,borderTopRightRadius:be,borderBottomRightRadius:be,borderBottomLeftRadius:be,width:be,maxWidth:be,height:be,maxHeight:be,size:be,top:be,right:be,bottom:be,left:be,padding:be,paddingTop:be,paddingRight:be,paddingBottom:be,paddingLeft:be,margin:be,marginTop:be,marginRight:be,marginBottom:be,marginLeft:be,rotate:ss,rotateX:ss,rotateY:ss,rotateZ:ss,scale:rc,scaleX:rc,scaleY:rc,scaleZ:rc,skew:ss,skewX:ss,skewY:ss,distance:be,translateX:be,translateY:be,translateZ:be,x:be,y:be,z:be,perspective:be,transformPerspective:be,opacity:Ro,originX:z_,originY:z_,originZ:be,zIndex:ey,filter:pf,WebkitFilter:pf,fillOpacity:Ro,strokeOpacity:Ro,numOctaves:ey},up=t=>hb[t];function mf(t,e){return e&&typeof t=="number"&&e.transform?e.transform(t):t}function RU(t,e){let n=up(t);return n!==pf&&(n=ba),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const CU={linear:Zw,easeIn:cp,easeInOut:eb,easeOut:B2,circIn:tb,circInOut:H2,circOut:nb,backIn:lp,backInOut:K2,backOut:q2,anticipate:W2,bounceIn:J2,bounceInOut:Y2,bounceOut:al};function ty(t){if(Array.isArray(t)){const[e,n,r,s]=t;return dU(e,n,r,s)}else if(typeof t=="string")return CU[t];return t}function PU(t){return Array.isArray(t)&&typeof t[0]!="number"}function ny(t,e){return t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&ba.test(e)&&!e.startsWith("url("))}function OU(t){return Array.isArray(t.to)&&t.to[0]===null&&(t.to=[...t.to],t.to[0]=t.from),t}function kU({ease:t,times:e,delay:n,...r}){const s={...r};return e&&(s.offset=e),t&&(s.ease=PU(t)?t.map(ty):ty(t)),n&&(s.elapsed=-n),s}function NU(t,e,n){return Array.isArray(e.to)&&(t.duration||(t.duration=800)),OU(e),xU(t)||(t={...t,...ub(n,e.to)}),{...e,...kU(t)}}function xU({delay:t,repeat:e,repeatType:n,repeatDelay:r,from:s,...i}){return!!Object.keys(i).length}function DU(t,e){return t[e]||t.default||t}function VU(t,e,n,r,s){const i=DU(r,t);let o=i.from===null||i.from===void 0?e.get():i.from;const a=ny(t,n);o==="none"&&a&&typeof n=="string"&&(o=RU(t,n));const l=ny(t,o);function u(f){const p={from:o,to:n,velocity:r.velocity?r.velocity:e.getVelocity(),onUpdate:g=>e.set(g)};return i.type==="inertia"||i.type==="decay"?oU({...p,...i}):sb({...NU(i,p,t),onUpdate:g=>{p.onUpdate(g),i.onUpdate&&i.onUpdate(g)},onComplete:()=>{s&&s(),f&&f()}})}function h(f){return e.set(n),s&&s(),f&&f(),{stop:()=>{}}}return!l||!a||i.type===!1?h:u}function MU(){const{motionValues:t,stop:e,get:n}=bU();return{motionValues:t,stop:e,push:(s,i,o,a={},l)=>{const u=o[s],h=n(s,u,o);if(a&&a.immediate){h.set(i);return}const f=VU(s,h,i,a,l);h.start(f)}}}function LU(t,e={},{motionValues:n,push:r,stop:s}=MU()){const i=kt(e),o=ye(!1);rt(n,f=>{o.value=Object.values(f).filter(p=>p.isAnimating()).length>0},{immediate:!0,deep:!0});const a=f=>{if(!i||!i[f])throw new Error(`The variant ${f} does not exist.`);return i[f]},l=f=>{typeof f=="string"&&(f=a(f));const p=Object.entries(f).map(([E,R])=>{if(E!=="transition")return new Promise(S=>r(E,R,t,f.transition||ub(E,f[E]),S))}).filter(Boolean);async function g(){var E,R;await Promise.all(p),(R=(E=f.transition)==null?void 0:E.onComplete)==null||R.call(E)}return Promise.all([g()])};return{isAnimating:o,apply:l,set:f=>{const p=ol(f)?f:a(f);Object.entries(p).forEach(([g,E])=>{g!=="transition"&&r(g,E,t,{immediate:!0})})},leave:async f=>{let p;if(i&&(i.leave&&(p=i.leave),!i.leave&&i.initial&&(p=i.initial)),!p){f();return}await l(p),f()},stop:s}}const hp=typeof window<"u",FU=()=>hp&&(window.onpointerdown===null||void 0),UU=()=>hp&&(window.ontouchstart===null||void 0),jU=()=>hp&&(window.onmousedown===null||void 0);function $U({target:t,state:e,variants:n,apply:r}){const s=kt(n),i=ye(!1),o=ye(!1),a=ye(!1),l=Ae(()=>{let h=[...Object.keys(e.value||{})];return s&&(s.hovered&&(h=[...h,...Object.keys(s.hovered)]),s.tapped&&(h=[...h,...Object.keys(s.tapped)]),s.focused&&(h=[...h,...Object.keys(s.focused)])),h}),u=Ae(()=>{const h={};Object.assign(h,e.value),i.value&&s.hovered&&Object.assign(h,s.hovered),o.value&&s.tapped&&Object.assign(h,s.tapped),a.value&&s.focused&&Object.assign(h,s.focused);for(const f in h)l.value.includes(f)||delete h[f];return h});s.hovered&&(Pn(t,"mouseenter",()=>i.value=!0),Pn(t,"mouseleave",()=>{i.value=!1,o.value=!1})),s.tapped&&(jU()&&(Pn(t,"mousedown",()=>o.value=!0),Pn(t,"mouseup",()=>o.value=!1)),FU()&&(Pn(t,"pointerdown",()=>o.value=!0),Pn(t,"pointerup",()=>o.value=!1)),UU()&&(Pn(t,"touchstart",()=>o.value=!0),Pn(t,"touchend",()=>o.value=!1))),s.focused&&(Pn(t,"focus",()=>a.value=!0),Pn(t,"blur",()=>a.value=!1)),rt([i,o,a],()=>{r(u.value)})}function BU({set:t,target:e,variants:n,variant:r}){const s=kt(n);rt(()=>e,()=>{s&&(s.initial&&(t("initial"),r.value="initial"),s.enter&&(r.value="enter"))},{immediate:!0,flush:"pre"})}function HU({state:t,apply:e}){rt(t,n=>{n&&e(n)},{immediate:!0})}function fb({target:t,variants:e,variant:n}){const r=kt(e);r&&(r.visible||r.visibleOnce)&&t2(t,([{isIntersecting:s}])=>{r.visible?s?n.value="visible":n.value="initial":r.visibleOnce&&(s&&n.value!=="visibleOnce"?n.value="visibleOnce":n.value||(n.value="initial"))})}function qU(t,e={syncVariants:!0,lifeCycleHooks:!0,visibilityHooks:!0,eventListeners:!0}){e.lifeCycleHooks&&BU(t),e.syncVariants&&HU(t),e.visibilityHooks&&fb(t),e.eventListeners&&$U(t)}function db(t={}){const e=qn({...t}),n=ye({});return rt(e,()=>{const r={};for(const[s,i]of Object.entries(e)){const o=up(s),a=mf(i,o);r[s]=a}n.value=r},{immediate:!0,deep:!0}),{state:e,style:n}}function fp(t,e){rt(()=>Ao(t),n=>{n&&e(n)},{immediate:!0})}const KU={x:"translateX",y:"translateY",z:"translateZ"};function pb(t={},e=!0){const n=qn({...t}),r=ye("");return rt(n,s=>{let i="",o=!1;if(e&&(s.x||s.y||s.z)){const a=[s.x||0,s.y||0,s.z||0].map(l=>mf(l,be)).join(",");i+=`translate3d(${a}) `,o=!0}for(const[a,l]of Object.entries(s)){if(e&&(a==="x"||a==="y"||a==="z"))continue;const u=up(a),h=mf(l,u);i+=`${KU[a]||a}(${h}) `}e&&!o&&(i+="translateZ(0px) "),r.value=i.trim()},{immediate:!0,deep:!0}),{state:n,transform:r}}const WU=["","X","Y","Z"],zU=["perspective","translate","scale","rotate","skew"],mb=["transformPerspective","x","y","z"];zU.forEach(t=>{WU.forEach(e=>{const n=t+e;mb.push(n)})});const GU=new Set(mb);function dp(t){return GU.has(t)}const QU=new Set(["originX","originY","originZ"]);function gb(t){return QU.has(t)}function JU(t){const e={},n={};return Object.entries(t).forEach(([r,s])=>{dp(r)||gb(r)?e[r]=s:n[r]=s}),{transform:e,style:n}}function ru(t){const{transform:e,style:n}=JU(t),{transform:r}=pb(e),{style:s}=db(n);return r.value&&(s.value.transform=r.value),s.value}function YU(t,e){let n,r;const{state:s,style:i}=db();return fp(t,o=>{r=o;for(const a of Object.keys(hb))o.style[a]===null||o.style[a]===""||dp(a)||gb(a)||(s[a]=o.style[a]);n&&Object.entries(n).forEach(([a,l])=>o.style[a]=l),e&&e(s)}),rt(i,o=>{if(!r){n=o;return}for(const a in o)r.style[a]=o[a]},{immediate:!0}),{style:s}}function XU(t){const e=t.trim().split(/\) |\)/);if(e.length===1)return{};const n=r=>r.endsWith("px")||r.endsWith("deg")?Number.parseFloat(r):Number.isNaN(Number(r))?Number(r):r;return e.reduce((r,s)=>{if(!s)return r;const[i,o]=s.split("("),l=o.split(",").map(h=>n(h.endsWith(")")?h.replace(")",""):h.trim())),u=l.length===1?l[0]:l;return{...r,[i]:u}},{})}function ZU(t,e){Object.entries(XU(e)).forEach(([n,r])=>{const s=["x","y","z"];if(n==="translate3d"){if(r===0){s.forEach(i=>t[i]=0);return}r.forEach((i,o)=>t[s[o]]=i);return}if(r=Number.parseFloat(`${r}`),n==="translateX"){t.x=r;return}if(n==="translateY"){t.y=r;return}if(n==="translateZ"){t.z=r;return}t[n]=r})}function e4(t,e){let n,r;const{state:s,transform:i}=pb();return fp(t,o=>{r=o,o.style.transform&&ZU(s,o.style.transform),n&&(o.style.transform=n),e&&e(s)}),rt(i,o=>{if(!r){n=o;return}r.style.transform=o},{immediate:!0}),{transform:s}}function t4(t){return Object.entries(t)}function n4(t,e){const n=qn({}),r=o=>Object.entries(o).forEach(([a,l])=>n[a]=l),{style:s}=YU(t,r),{transform:i}=e4(t,r);return rt(n,o=>{t4(o).forEach(([a,l])=>{const u=dp(a)?i:s;u[a]&&u[a]===l||(u[a]=l)})},{immediate:!0,deep:!0}),fp(t,()=>e),{motionProperties:n,style:s,transform:i}}function r4(t={}){const e=kt(t),n=ye();return{state:Ae(()=>{if(n.value)return e[n.value]}),variant:n}}function _b(t,e={},n){const{motionProperties:r}=n4(t),{variant:s,state:i}=r4(e),o=LU(r,e),a={target:t,variant:s,variants:e,state:i,motionProperties:r,...o};return qU(a,n),a}const yb=["delay","duration"],s4=["initial","enter","leave","visible","visible-once","visibleOnce","hovered","tapped","focused",...yb];function i4(t){return yb.includes(t)}function o4(t,e){const n=t.props?t.props:t.data&&t.data.attrs?t.data.attrs:{};if(n){n.variants&&ol(n.variants)&&(e.value={...e.value,...n.variants});for(let r of s4)if(!(!n||!n[r])){if(i4(r)&&typeof n[r]=="number"){for(const s of["enter","visible","visibleOnce"]){const i=e.value[s];i!=null&&(i.transition??(i.transition={}),i.transition[r]=n[r])}continue}if(ol(n[r])){const s=n[r];r==="visible-once"&&(r="visibleOnce"),e.value[r]=s}}}}function rh(t,e=!1){return{created:(s,i,o)=>{const a=i.value&&typeof i.value=="string"?i.value:o.key;a&&eh[a]&&eh[a].stop();const l=e?structuredClone(Re(t)||{}):t||{},u=ye(l);typeof i.value=="object"&&(u.value=i.value),o4(o,u);const f=_b(s,u,{eventListeners:!0,lifeCycleHooks:!0,syncVariants:!0,visibilityHooks:!1});s.motionInstance=f,a&&(eh[a]=f)},mounted:(s,i,o)=>{s.motionInstance&&fb(s.motionInstance)},getSSRProps(s,i){let{initial:o}=s.value||i&&(i==null?void 0:i.props)||{};o=kt(o);const a=Pw({},(t==null?void 0:t.initial)||{},o||{});return!a||Object.keys(a).length===0?void 0:{style:ru(a)}}}}const a4={initial:{opacity:0},enter:{opacity:1}},c4={initial:{opacity:0},visible:{opacity:1}},l4={initial:{opacity:0},visibleOnce:{opacity:1}},u4={initial:{scale:0,opacity:0},enter:{scale:1,opacity:1}},h4={initial:{scale:0,opacity:0},visible:{scale:1,opacity:1}},f4={initial:{scale:0,opacity:0},visibleOnce:{scale:1,opacity:1}},d4={initial:{x:-100,rotate:90,opacity:0},enter:{x:0,rotate:0,opacity:1}},p4={initial:{x:-100,rotate:90,opacity:0},visible:{x:0,rotate:0,opacity:1}},m4={initial:{x:-100,rotate:90,opacity:0},visibleOnce:{x:0,rotate:0,opacity:1}},g4={initial:{x:100,rotate:-90,opacity:0},enter:{x:0,rotate:0,opacity:1}},_4={initial:{x:100,rotate:-90,opacity:0},visible:{x:0,rotate:0,opacity:1}},y4={initial:{x:100,rotate:-90,opacity:0},visibleOnce:{x:0,rotate:0,opacity:1}},v4={initial:{y:-100,rotate:-90,opacity:0},enter:{y:0,rotate:0,opacity:1}},E4={initial:{y:-100,rotate:-90,opacity:0},visible:{y:0,rotate:0,opacity:1}},T4={initial:{y:-100,rotate:-90,opacity:0},visibleOnce:{y:0,rotate:0,opacity:1}},w4={initial:{y:100,rotate:90,opacity:0},enter:{y:0,rotate:0,opacity:1}},b4={initial:{y:100,rotate:90,opacity:0},visible:{y:0,rotate:0,opacity:1}},I4={initial:{y:100,rotate:90,opacity:0},visibleOnce:{y:0,rotate:0,opacity:1}},A4={initial:{x:-100,opacity:0},enter:{x:0,opacity:1}},S4={initial:{x:-100,opacity:0},visible:{x:0,opacity:1}},R4={initial:{x:-100,opacity:0},visibleOnce:{x:0,opacity:1}},C4={initial:{x:100,opacity:0},enter:{x:0,opacity:1}},P4={initial:{x:100,opacity:0},visible:{x:0,opacity:1}},O4={initial:{x:100,opacity:0},visibleOnce:{x:0,opacity:1}},k4={initial:{y:-100,opacity:0},enter:{y:0,opacity:1}},N4={initial:{y:-100,opacity:0},visible:{y:0,opacity:1}},x4={initial:{y:-100,opacity:0},visibleOnce:{y:0,opacity:1}},D4={initial:{y:100,opacity:0},enter:{y:0,opacity:1}},V4={initial:{y:100,opacity:0},visible:{y:0,opacity:1}},M4={initial:{y:100,opacity:0},visibleOnce:{y:0,opacity:1}},ll={__proto__:null,fade:a4,fadeVisible:c4,fadeVisibleOnce:l4,pop:u4,popVisible:h4,popVisibleOnce:f4,rollBottom:w4,rollLeft:d4,rollRight:g4,rollTop:v4,rollVisibleBottom:b4,rollVisibleLeft:p4,rollVisibleOnceBottom:I4,rollVisibleOnceLeft:m4,rollVisibleOnceRight:y4,rollVisibleOnceTop:T4,rollVisibleRight:_4,rollVisibleTop:E4,slideBottom:D4,slideLeft:A4,slideRight:C4,slideTop:k4,slideVisibleBottom:V4,slideVisibleLeft:S4,slideVisibleOnceBottom:M4,slideVisibleOnceLeft:R4,slideVisibleOnceRight:O4,slideVisibleOnceTop:x4,slideVisibleRight:P4,slideVisibleTop:N4};function L4(t){const e="/_,:;",n="aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------",r=new RegExp(e.split("").join("|"),"g");return t.toString().replace(/[A-Z]/g,s=>`-${s}`).toLowerCase().replace(/\s+/g,"-").replace(r,s=>n.charAt(e.indexOf(s))).replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/-{2,}/g,"-").replace(/^-+/,"").replace(/-+$/,"")}const vb=Symbol(import.meta.dev?"motionCustomPresets":""),Eb={preset:{type:String,required:!1},instance:{type:Object,required:!1},variants:{type:Object,required:!1},initial:{type:Object,required:!1},enter:{type:Object,required:!1},leave:{type:Object,required:!1},visible:{type:Object,required:!1},visibleOnce:{type:Object,required:!1},hovered:{type:Object,required:!1},tapped:{type:Object,required:!1},focused:{type:Object,required:!1},delay:{type:[Number,String],required:!1},duration:{type:[Number,String],required:!1}};function F4(t){return Object.prototype.toString.call(t)==="[object Object]"}function gf(t){if(Array.isArray(t))return t.map(gf);if(F4(t)){const e={};for(const n in t)e[n]=gf(t[n]);return e}return t}function Tb(t){const e=qn({}),n=zt(vb),r=Ae(()=>t.preset==null?{}:n!=null&&t.preset in n?structuredClone(Re(n)[t.preset]):t.preset in ll?structuredClone(ll[t.preset]):{}),s=Ae(()=>({initial:t.initial,enter:t.enter,leave:t.leave,visible:t.visible,visibleOnce:t.visibleOnce,hovered:t.hovered,tapped:t.tapped,focused:t.focused}));function i(l,u){for(const h of["delay","duration"]){if(u[h]==null)continue;const f=Number.parseInt(u[h]);for(const p of["enter","visible","visibleOnce"]){const g=l[p];g!=null&&(g.transition??(g.transition={}),g.transition[h]=f)}}return l}const o=Ae(()=>{const l=Pw({},s.value,r.value,t.variants||{});return i({...l},t)});function a(l,u,h){var f;l.props??(l.props={}),(f=l.props).style??(f.style={}),l.props.style={...l.props.style,...h};const p=i(gf(o.value),l.props);return l.props.onVnodeMounted=({el:g})=>{e[u]=_b(g,p)},l.props.onVnodeUpdated=({el:g})=>{const E=ru(e[u].state);for(const[R,S]of Object.entries(E))g.style[R]=S},l}return{motionConfig:o,setNodeInstance:a}}const U4=Rs({name:"Motion",props:{...Eb,is:{type:[String,Object],default:"div"}},setup(t){const e=$f(),{motionConfig:n,setNodeInstance:r}=Tb(t);return()=>{const s=ru(n.value.initial||{}),i=Ri(t.is,void 0,e);return r(i,0,s),i}}}),j4=Rs({name:"MotionGroup",props:{...Eb,is:{type:[String,Object],required:!1}},setup(t){const e=$f(),{motionConfig:n,setNodeInstance:r}=Tb(t);return()=>{var o;const s=ru(n.value.initial||{}),i=((o=e.default)==null?void 0:o.call(e))||[];for(let a=0;a<i.length;a++){const l=i[a];l.type===Ue&&Array.isArray(l.children)?l.children.forEach(function u(h,f){if(h!=null){if(Array.isArray(h)){u(h,f);return}typeof h=="object"&&r(h,f,s)}}):r(l,a,s)}return t.is?Ri(t.is,void 0,i):i}}}),$4={install(t,e){if(t.directive("motion",rh()),!e||e&&!e.excludePresets)for(const n in ll){const r=ll[n];t.directive(`motion-${L4(n)}`,rh(r,!0))}if(e&&e.directives)for(const n in e.directives){const r=e.directives[n];!r.initial&&__DEV__&&console.warn(`Your directive v-motion-${n} is missing initial variant!`),t.directive(`motion-${n}`,rh(r,!0))}t.provide(vb,e==null?void 0:e.directives),t.component("Motion",U4),t.component("MotionGroup",j4)}};Fc(uV).use($4).use(KF).use(WF).mount("#app");
